<!doctype html><html lang=en-us><title>Smart Speaker based on GPT by OpenAI | Blog by Frank</title><meta charset=utf-8><script async src="https://www.googletagmanager.com/gtag/js?id=G-XZQ6YTCMN7"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-XZQ6YTCMN7",{anonymize_ip:!1})}</script><meta name=twitter:card content="summary"><meta property="og:type" content="article"><meta property="og:title" content="Smart Speaker based on GPT by OpenAI | Blog by Frank"><meta property="og:description" content="GitHub Link: GitHub
Video Link: Twitter"><meta property="og:url" content="https://yongfrank.github.io/posts/openai-smart-speaker/"><meta property="og:site_name" content="Blog by Frank"><meta property="og:image:width" content="2048"><meta property="og:image:height" content="1024"><meta name=description content="GitHub Link: GitHub
Video Link: Twitter"><meta itemprop=description content="GitHub Link: GitHub
Video Link: Twitter"><meta property="og:description" content="GitHub Link: GitHub
Video Link: Twitter"><meta name=twitter:description content="GitHub Link: GitHub
Video Link: Twitter"><meta property="og:url" content="https://yongfrank.github.io/posts/openai-smart-speaker/"><meta property="og:site_name" content="Blog by Frank"><meta property="og:type" content="article"><meta property="article:publisher" content><meta property="og:article:published_time" content="2023-02-02T12:31:27+0800"><meta property="article:published_time" content="2023-02-02T12:31:27+0800"><script defer type=application/ld+json>{"@context":"http://schema.org","@type":"Article","headline":"Smart Speaker based on GPT by OpenAI","author":{"@type":"Person","name":""},"datePublished":"2023-02-02","description":"","wordCount":372,"mainEntityOfPage":"True","dateModified":"2023-02-02","image":{"@type":"imageObject","url":""},"publisher":{"@type":"Organization","name":"Blog by Frank","logo":{"@type":"imageObject","url":"https://www.example.com/images/brand/favicon.png"}}}</script><meta name=generator content="Hugo 0.111.3"><meta name=description content="Explorations, Reflections, and More on My Blog"><meta name=viewport content="width=device-width,initial-scale=1"><link rel=stylesheet href=https://yongfrank.github.io/css/index.css><link rel=canonical href=https://yongfrank.github.io/posts/openai-smart-speaker/><link rel=alternate type=application/rss+xml href title="Blog by Frank"><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/site.webmanifest><link rel=mask-icon href=/safari-pinned-tab.svg color=#578490><meta name=msapplication-TileColor content="#da532c"><meta name=theme-color content="#ffffff"><header><a href=https://yongfrank.github.io/ class=title>Blog by Frank</a><nav><a href=/about/>About</a></nav></header><article><header><h1>Smart Speaker based on GPT by OpenAI</h1><time datetime=2023-02-02T12:31:27+08:00>February 02, 2023</time></header><nav id=TableOfContents><ul><li><a href=#table-of-content>Table Of Content</a></li><li><a href=#characteristics>Characteristics</a><ul><li><a href=#example-questions>Example Questions</a></li></ul></li><li><a href=#steps>Steps</a><ul><li><a href=#step-1-install-all-dependencies-client---npm-installinstallation>Step 1. <a href=#installation>Install all dependencies <code>client - npm install</code></a></a></li><li><a href=#step-2-train-wake-wordoptionalhttpsconsolepicovoiceaippn>Step 2. <a href=https://console.picovoice.ai/ppn>Train Wake word(Optional)</a></a></li><li><a href=#step-3-change-envexample-to-env-and-filling-env-filesdotenv>Step 3. <a href=#dotenv>change .env.example to .env and filling .env files</a></a></li><li><a href=#step-4-change-test_mode-to-true-or-is_raspberrypi-in-serverutilsconfigpyimportant-connect-url-in-clientsrcappjsoptional>Step 4. Change TEST_MODE to True or IS_RASPBERRYPI in <code>server/utils/config.py</code>(Important), connect url in <code>client/src/app.js</code>(Optional)</a></li><li><a href=#step-4-run-sh-startsh-or-server---apppy-and-client---npm-start>Step 4. run <code>sh start.sh</code> or <code>server - app.py</code> and <code>client - npm start</code></a></li></ul></li><li><a href=#installation>Installation</a><ul><li><a href=#pyaudio>PyAudio</a></li><li><a href=#picovoiceai>picovoice.ai</a></li><li><a href=#azure-speech-service>Azure Speech Service</a></li><li><a href=#dotenv>dotenv</a></li></ul></li><li><a href=#reference>Reference</a><ul><li><a href=#services>Services</a></li><li><a href=#articles>Articles</a></li></ul></li></ul></nav><p>GitHub Link: <a href=https://github.com/yongfrank/SmartSpeaker>GitHub</a>
Video Link: <a href=https://twitter.com/i/status/1629315971977719808>Twitter</a></p><p><img src=https://github.com/yongfrank/SmartSpeaker/raw/master/resources/screenshot.png alt=GPT-Screenshot></p><ul><li><a href=https://picovoice.ai/docs/quick-start/porcupine-python/>Trigger - picovoice.ai</a></li><li><a href=https://pypi.org/project/PyAudio/>Recording - PyAudio</a></li><li><a href="https://learn.microsoft.com/en-us/azure/cognitive-services/speech-service/get-started-speech-to-text?tabs=macos%2Cterminal&amp;pivots=programming-language-python">ASR - Microsoft Azure</a></li></ul><h2 id=table-of-content>Table Of Content</h2><ul><li><a href=#table-of-content>Table Of Content</a></li><li><a href=#characteristics>Characteristics</a><ul><li><a href=#example-questions>Example Questions</a></li></ul></li><li><a href=#steps>Steps</a><ul><li><a href=#step-1-install-all-dependencies-client---npm-install>Step 1. Install all dependencies <code>client - npm install</code></a></li><li><a href=#step-2-train-wake-wordoptional>Step 2. Train Wake word(Optional)</a></li><li><a href=#step-3-change-envexample-to-env-and-filling-env-files>Step 3. change .env.example to .env and filling .env files</a></li><li><a href=#step-4-change-test_mode-to-true-or-is_raspberrypi-in-serverutilsconfigpyimportant-connect-url-in-clientsrcappjsoptional>Step 4. Change TEST_MODE to True or IS_RASPBERRYPI in <code>server/utils/config.py</code>(Important), connect url in <code>client/src/app.js</code>(Optional)</a></li><li><a href=#step-4-run-sh-startsh-or-server---apppy-and-client---npm-start>Step 4. run <code>sh start.sh</code> or <code>server - app.py</code> and <code>client - npm start</code></a></li></ul></li><li><a href=#installation>Installation</a><ul><li><a href=#pyaudio>PyAudio</a><ul><li><a href=#installation-error-on-macos>Installation error on macOS</a></li></ul></li><li><a href=#picovoiceai>picovoice.ai</a></li><li><a href=#azure-speech-service>Azure Speech Service</a></li><li><a href=#dotenv>dotenv</a></li></ul></li><li><a href=#reference>Reference</a><ul><li><a href=#services>Services</a></li><li><a href=#articles>Articles</a></li></ul></li></ul><h2 id=characteristics>Characteristics</h2><ul><li><a href=https://platform.openai.com/docs/quickstart/introduction>prompt completion</a></li><li><a href=https://platform.openai.com/docs/quickstart/introduction>continuous dialog</a></li><li>precise ASR(speech to text)</li></ul><h3 id=example-questions>Example Questions</h3><ul><li>Prompt: Write a tagline for an ice cream shop.<ul><li>Completion: We serve up smiles with every scoop!</li></ul></li><li>Suggest one name for a horse.<ul><li>Lightning</li></ul></li><li>Suggest one name for a black horse.<ul><li>Midnight</li></ul></li><li>Suggest three names for a horse that is a superhero.<ol><li>Super Stallion</li><li>Captain Colt</li><li>Mighty Mustang</li></ol></li></ul><pre tabindex=0><code class=language-ChatGPT data-lang=ChatGPT>$ Suggest three names for an animal that is a superhero.
Animal: Cat
Names: Captain Sharpclaw, Agent Fluffball, The Incredible Feline
Animal: Dog
Names: Ruff the Protector, Wonder Canine, Sir Barks-a-Lot
Animal: Horse

Names: Super Stallion, Mighty Mare, The Magnificent Equine
</code></pre><h2 id=steps>Steps</h2><h3 id=step-1-install-all-dependencies-client---npm-installinstallation>Step 1. <a href=#installation>Install all dependencies <code>client - npm install</code></a></h3><h3 id=step-2-train-wake-wordoptionalhttpsconsolepicovoiceaippn>Step 2. <a href=https://console.picovoice.ai/ppn>Train Wake word(Optional)</a></h3><h3 id=step-3-change-envexample-to-env-and-filling-env-filesdotenv>Step 3. <a href=#dotenv>change .env.example to .env and filling .env files</a></h3><h3 id=step-4-change-test_mode-to-true-or-is_raspberrypi-in-serverutilsconfigpyimportant-connect-url-in-clientsrcappjsoptional>Step 4. Change TEST_MODE to True or IS_RASPBERRYPI in <code>server/utils/config.py</code>(Important), connect url in <code>client/src/app.js</code>(Optional)</h3><h3 id=step-4-run-sh-startsh-or-server---apppy-and-client---npm-start>Step 4. run <code>sh start.sh</code> or <code>server - app.py</code> and <code>client - npm start</code></h3><h2 id=installation>Installation</h2><p>run <code>install.sh</code> or follow the steps</p><h3 id=pyaudio>PyAudio</h3><h4 id=installation-error-on-macos>Installation error on macOS</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># src/pyaudio/device_api.c:9:10: fatal error: &#39;portaudio.h&#39; file not found</span>
</span></span><span style=display:flex><span>brew install portaudio
</span></span><span style=display:flex><span>pip3 install pyAudio
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Linux</span>
</span></span><span style=display:flex><span>sudo apt install python3-pyaudio
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># https://stackoverflow.com/questions/58974116/how-to-install-libasound2-dev-32-bit-without-using-apt-get</span>
</span></span><span style=display:flex><span>sudo apt-get install libportaudio2
</span></span></code></pre></div><ul><li><a href=https://stackoverflow.com/questions/71072094/pyaudio-error-at-the-time-of-intallation-subprocess-exited-with-error>PyAudio error at the time of intallation</a></li><li><a href=https://pypi.org/project/PyAudio/>pypi.org/project/PyAudio</a></li></ul><h3 id=picovoiceai>picovoice.ai</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>pip3 install pvporcupine
</span></span><span style=display:flex><span>pip3 install pvcobra
</span></span></code></pre></div><h3 id=azure-speech-service>Azure Speech Service</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo apt-get update
</span></span><span style=display:flex><span>sudo apt-get install build-essential libssl-dev libasound2 wget
</span></span><span style=display:flex><span>pip install azure-cognitiveservices-speech
</span></span></code></pre></div><ul><li><a href="https://learn.microsoft.com/en-us/azure/cognitive-services/speech-service/quickstarts/setup-platform?pivots=programming-language-python&amp;tabs=linux%2Cubuntu%2Cdotnet%2Cjre%2Cmaven%2Cnodejs%2Cmac%2Cpypi">Install the Speech SDK</a></li></ul><h3 id=dotenv>dotenv</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>cd ./code <span style=color:#f92672>&amp;&amp;</span> mv .env.example .env
</span></span><span style=display:flex><span>pip3 install python-dotenv
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-.env data-lang=.env><span style=display:flex><span>PICOVOICE_AI_KEY<span style=color:#f92672>=</span><span style=color:#e6db74>${</span>YOUR-PICOVOICE-AI-KEY<span style=color:#e6db74>}</span>
</span></span><span style=display:flex><span>SPEECH_KEY<span style=color:#f92672>=</span><span style=color:#e6db74>${</span>MICROSOFT-AZURE-SPEECH-KEY<span style=color:#e6db74>}</span>
</span></span><span style=display:flex><span>SPEECH_REGION<span style=color:#f92672>=</span><span style=color:#e6db74>${</span>MICROSOFT-AZURE-SPEECH-REGION<span style=color:#e6db74>}</span>
</span></span></code></pre></div><ul><li><a href=https://bornforthis.cn/posts/19.html>How to hide you API key with Python</a></li><li><a href=https://picovoice.ai/docs/quick-start/porcupine-python/>picovoice-key</a></li><li><a href="https://learn.microsoft.com/en-us/azure/cognitive-services/cognitive-services-apis-create-account?tabs=multiservice%2Canomaly-detector%2Clanguage-service%2Ccomputer-vision%2Cmacos#clean-up-resources">ms-azure-key</a></li><li><a href=https://platform.openai.com/docs/quickstart>openai</a></li></ul><h2 id=reference>Reference</h2><h3 id=services>Services</h3><ul><li><a href=https://speech.microsoft.com/portal/speechtotexttool>Real-time Speech-to-text</a></li></ul><h3 id=articles>Articles</h3><ul><li><a href=https://fadyanwar.com/index.php/2020/06/27/building-a-raspberry-pi-ai-assistant-using-azure-and-ibm-cloud/>Building a Raspberry Pi AI Assistant using Azure and IBM Cloud</a></li><li><a href=https://www.hackster.io/jenfoxbot/live-captioning-with-azure-cognitive-services-02c3f7>Live Captioning with Azure Cognitive Services!</a></li><li><a href=https://blog.csdn.net/m0_57307642/article/details/120849915>Voice Assistant with Python</a></li><li><a href=https://platform.openai.com/docs/models/overview>GPT-3: text-davinci-003</a></li><li><a href="https://www.bilibili.com/video/BV11M411F7Ww/?share_source=copy_web&amp;vd_source=bf4952280cde801b178268abc99a7047">GPTHunt</a></li><li><a href=https://mp.weixin.qq.com/s/NUGygw8JgkdemVicO6fiPw>GPTSpeaker</a></li></ul></article></html>