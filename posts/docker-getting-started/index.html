<!doctype html><html lang=en-us><title>Docker Getting Started | Blog by Frank</title><meta charset=utf-8><script async src="https://www.googletagmanager.com/gtag/js?id=G-XZQ6YTCMN7"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-XZQ6YTCMN7")}</script><meta name=twitter:card content="summary_large_image"><meta property="og:type" content="article"><meta property="og:title" content="Docker Getting Started | Blog by Frank"><meta name=twitter:title content="Docker Getting Started | Blog by Frank"><meta property="og:description" content="# 运行以下命令在 Docker 容器中克隆 GitHub 仓库：
# 该命令的含义是，以 alpine/git 镜像为基础，
# 启动一个名为 repo 的容器，并在容器内执行 git clone 命令，
# 将 https://github.com/docker/getting-started.git 仓库克隆到当前目录下的 . 文件夹中。
docker run --name repo alpine/git clone https://github.com/docker/getting-started.gited/ .

# 然后，运行以下命令将克隆的代码复制到本地文件系统中：
# 该命令的含义是，将名为 repo 的容器中 /git/getting-started/ 
# 文件夹下的所有文件和子文件夹复制到当前目录下。
docker cp repo:/git/getting-started/ .


docker run -d -p 80:80 docker/getting-started
# You'll notice a few flags being used. Here's some more info on them:

# -d - run the container in detached mode (in the background)
# -p 80:80 - map port 80 of the host to port 80 in the container
# docker/getting-started - the image to use
Dockerfile

Dockerfile for Dev

FROM ubuntu
LABEL org.opencontainers.image.authers=&#34;Frank Chu&#34;

# env variable
ENV DEBIAN_FRONTEND noninteractive

# Time zone
ARG TZ=Asia/Shanghai
ENV TZ ${TZ}

RUN ln -snf /usr/share/zoneinfo/$TZ /etc/localtime && echo $TZ > /etc/timezone

# 具体来说，/usr/share/zoneinfo 目录下保存了各个时区的信息，而/etc/localtime 和 /etc/timezone 文件则记录了系统当前的时区信息。上述指令中的含义是，将容器时区设置为 $TZ 变量指定的时区。

# 具体操作为：

# /usr/share/zoneinfo/$TZ 表示找到 $TZ 对应的时区文件（例如 Asia/Shanghai）；
# ln -snf /usr/share/zoneinfo/$TZ /etc/localtime 表示将 $TZ 对应的时区文件软连接到 /etc/localtime，从而将容器时区设置为指定的时区；
# echo $TZ > /etc/timezone 表示将 $TZ 值写入 /etc/timezone 文件，从而使系统中其他程序也能读取到容器的时区信息。
# 这个指令通常会在 Dockerfile 中的一开始设置，以确保后续操作中时间信息的正确性。
Docker CLI

Unbuntu Started
Ubuntu Proxy

docker pull ubuntu

# Run a command in a new container
# docker run [--name <string>] <image> <command> <args>
# docker run -itd [--name ubuntu-test] ubuntu
docker run -t -i --name ubuntu-testing ubuntu:18.04 /bin/bash

# Start existing container
# docker start [-i --interactive] <container>
docker start ubuntu-testing -i

# Execute command in running container
# -t Allocate a pseudo-TTY
# -i Keep STDIN open even if not attached
# docker exec --interactive --tty <container> <command>
docker exec -it ubuntu-testing bash

# List containers
docker ps

# Remove one or more containers
# docker rm <containers...>
docker rm ubuntu-testing
"><meta property="og:url" content="https://yongfrank.github.io/posts/docker-getting-started/"><meta property="og:site_name" content="Blog by Frank"><meta name=generator content="Hugo 0.150.1"><meta name=description content="Explorations, Reflections, and More on My Blog"><meta name=viewport content="width=device-width,initial-scale=1"><link rel=stylesheet href=https://yongfrank.github.io/css/index.css><link rel=canonical href=https://yongfrank.github.io/posts/docker-getting-started/><link rel=alternate type=application/rss+xml href title="Blog by Frank"><link rel=stylesheet href=https://yongfrank.github.io/katex/katex.min.css><link rel="shortcut icon" href=favicon.ico><script defer src=https://yongfrank.github.io/katex/katex.min.js></script><script defer src=https://yongfrank.github.io/katex/contrib/auto-render.min.js onload=renderMathInElement(document.body)></script><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/site.webmanifest><link rel=mask-icon href=/safari-pinned-tab.svg color=#578490><meta name=msapplication-TileColor content="#da532c"><head><script src=/js/MathJax/es5/tex-chtml.js></script></head><header><a href=https://yongfrank.github.io/ class=title>Blog by Frank</a><nav><a href=/about/>About</a></nav></header><article><header><h1>Docker Getting Started</h1><time datetime=2023-03-21T13:19:38+08:00>March 21, 2023</time></header><nav id=TableOfContents><ul><li><a href=#dockerfile>Dockerfile</a></li><li><a href=#docker-cli>Docker CLI</a></li></ul></nav><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span><span style=color:#75715e># 运行以下命令在 Docker 容器中克隆 GitHub 仓库：</span>
</span></span><span style=display:flex><span><span style=color:#75715e># 该命令的含义是，以 alpine/git 镜像为基础，</span>
</span></span><span style=display:flex><span><span style=color:#75715e># 启动一个名为 repo 的容器，并在容器内执行 git clone 命令，</span>
</span></span><span style=display:flex><span><span style=color:#75715e># 将 https://github.com/docker/getting-started.git 仓库克隆到当前目录下的 . 文件夹中。</span>
</span></span><span style=display:flex><span>docker run --name repo alpine/git clone https://github.com/docker/getting-started.gited/ .
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 然后，运行以下命令将克隆的代码复制到本地文件系统中：</span>
</span></span><span style=display:flex><span><span style=color:#75715e># 该命令的含义是，将名为 repo 的容器中 /git/getting-started/ </span>
</span></span><span style=display:flex><span><span style=color:#75715e># 文件夹下的所有文件和子文件夹复制到当前目录下。</span>
</span></span><span style=display:flex><span>docker cp repo:/git/getting-started/ .
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>docker run -d -p 80:80 docker/getting-started
</span></span><span style=display:flex><span><span style=color:#75715e># You&#39;ll notice a few flags being used. Here&#39;s some more info on them:</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># -d - run the container in detached mode (in the background)</span>
</span></span><span style=display:flex><span><span style=color:#75715e># -p 80:80 - map port 80 of the host to port 80 in the container</span>
</span></span><span style=display:flex><span><span style=color:#75715e># docker/getting-started - the image to use</span>
</span></span></code></pre></div><h2 id=dockerfile>Dockerfile</h2><ul><li><a href=https://zhuanlan.zhihu.com/p/440325928>Dockerfile for Dev</a></li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-dockerfile data-lang=dockerfile><span style=display:flex><span><span style=color:#66d9ef>FROM</span> <span style=color:#e6db74>ubuntu</span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>LABEL</span> org.opencontainers.image.authers<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;Frank Chu&#34;</span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#75715e># env variable</span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>ENV</span> DEBIAN_FRONTEND noninteractive<span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#75715e># Time zone</span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>ARG</span> TZ<span style=color:#f92672>=</span>Asia/Shanghai<span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>ENV</span> TZ <span style=color:#e6db74>${</span>TZ<span style=color:#e6db74>}</span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>RUN</span> ln -snf /usr/share/zoneinfo/$TZ /etc/localtime <span style=color:#f92672>&amp;&amp;</span> echo $TZ &gt; /etc/timezone<span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#75715e># 具体来说，/usr/share/zoneinfo 目录下保存了各个时区的信息，而/etc/localtime 和 /etc/timezone 文件则记录了系统当前的时区信息。上述指令中的含义是，将容器时区设置为 $TZ 变量指定的时区。</span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#75715e># 具体操作为：</span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#75715e># /usr/share/zoneinfo/$TZ 表示找到 $TZ 对应的时区文件（例如 Asia/Shanghai）；</span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#75715e># ln -snf /usr/share/zoneinfo/$TZ /etc/localtime 表示将 $TZ 对应的时区文件软连接到 /etc/localtime，从而将容器时区设置为指定的时区；</span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#75715e># echo $TZ &gt; /etc/timezone 表示将 $TZ 值写入 /etc/timezone 文件，从而使系统中其他程序也能读取到容器的时区信息。</span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#75715e># 这个指令通常会在 Dockerfile 中的一开始设置，以确保后续操作中时间信息的正确性。</span><span style=color:#960050;background-color:#1e0010>
</span></span></span></code></pre></div><h2 id=docker-cli>Docker CLI</h2><ul><li><a href=https://yeasy.gitbook.io/docker_practice/container/run>Unbuntu Started</a></li><li><a href=https://docs.docker.com.zh.xy2401.com/network/proxy/>Ubuntu Proxy</a></li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>docker pull ubuntu
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Run a command in a new container</span>
</span></span><span style=display:flex><span><span style=color:#75715e># docker run [--name &lt;string&gt;] &lt;image&gt; &lt;command&gt; &lt;args&gt;</span>
</span></span><span style=display:flex><span><span style=color:#75715e># docker run -itd [--name ubuntu-test] ubuntu</span>
</span></span><span style=display:flex><span>docker run -t -i --name ubuntu-testing ubuntu:18.04 /bin/bash
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Start existing container</span>
</span></span><span style=display:flex><span><span style=color:#75715e># docker start [-i --interactive] &lt;container&gt;</span>
</span></span><span style=display:flex><span>docker start ubuntu-testing -i
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Execute command in running container</span>
</span></span><span style=display:flex><span><span style=color:#75715e># -t Allocate a pseudo-TTY</span>
</span></span><span style=display:flex><span><span style=color:#75715e># -i Keep STDIN open even if not attached</span>
</span></span><span style=display:flex><span><span style=color:#75715e># docker exec --interactive --tty &lt;container&gt; &lt;command&gt;</span>
</span></span><span style=display:flex><span>docker exec -it ubuntu-testing bash
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># List containers</span>
</span></span><span style=display:flex><span>docker ps
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Remove one or more containers</span>
</span></span><span style=display:flex><span><span style=color:#75715e># docker rm &lt;containers...&gt;</span>
</span></span><span style=display:flex><span>docker rm ubuntu-testing
</span></span></code></pre></div></article></html>