<!doctype html><html lang=en-us><title>Docker Getting Started | Blog by Frank</title><meta charset=utf-8><script async src="https://www.googletagmanager.com/gtag/js?id=G-XZQ6YTCMN7"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-XZQ6YTCMN7",{anonymize_ip:!1})}</script><meta name=description content="<div class=&#34;highlight&#34;><pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;><code class=&#34;language-sh&#34; data-lang=&#34;sh&#34;><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#75715e&#34;># 运行以下命令在 Docker 容器中克隆 GitHub 仓库：</span>
</span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#75715e&#34;># 该命令的含义是，以 alpine/git 镜像为基础，</span>
</span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#75715e&#34;># 启动一个名为 repo 的容器，并在容器内执行 git clone 命令，</span>
</span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#75715e&#34;># 将 https://github.com/docker/getting-started.git 仓库克隆到当前目录下的 . 文件夹中。</span>
</span></span><span style=&#34;display:flex;&#34;><span>docker run --name repo alpine/git clone https://github.com/docker/getting-started.gited/ .
</span></span><span style=&#34;display:flex;&#34;><span>
</span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#75715e&#34;># 然后，运行以下命令将克隆的代码复制到本地文件系统中：</span>
</span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#75715e&#34;># 该命令的含义是，将名为 repo 的容器中 /git/getting-started/ </span>
</span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#75715e&#34;># 文件夹下的所有文件和子文件夹复制到当前目录下。</span>
</span></span><span style=&#34;display:flex;&#34;><span>docker cp repo:/git/getting-started/ .
</span></span><span style=&#34;display:flex;&#34;><span>
</span></span><span style=&#34;display:flex;&#34;><span>
</span></span><span style=&#34;display:flex;&#34;><span>docker run -d -p 80:80 docker/getting-started
</span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#75715e&#34;># You&amp;#39;ll notice a few flags being used. Here&amp;#39;s some more info on them:</span>
</span></span><span style=&#34;display:flex;&#34;><span>
</span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#75715e&#34;># -d - run the container in detached mode (in the background)</span>
</span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#75715e&#34;># -p 80:80 - map port 80 of the host to port 80 in the container</span>
</span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#75715e&#34;># docker/getting-started - the image to use</span>
</span></span></code></pre></div><h2 id=&#34;dockerfile&#34;>Dockerfile</h2>
<ul>
<li><a href=&#34;https://zhuanlan.zhihu.com/p/440325928&#34;>Dockerfile for Dev</a></li>
</ul>
<div class=&#34;highlight&#34;><pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;><code class=&#34;language-dockerfile&#34; data-lang=&#34;dockerfile&#34;><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#66d9ef&#34;>FROM</span><span style=&#34;color:#e6db74&#34;> ubuntu</span><span style=&#34;color:#960050;background-color:#1e0010&#34;>
</span></span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#960050;background-color:#1e0010&#34;></span><span style=&#34;color:#66d9ef&#34;>LABEL</span> org.opencontainers.image.authers<span style=&#34;color:#f92672&#34;>=</span><span style=&#34;color:#e6db74&#34;>&amp;#34;Frank Chu&amp;#34;</span><span style=&#34;color:#960050;background-color:#1e0010&#34;>
</span></span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#960050;background-color:#1e0010&#34;>
</span></span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#960050;background-color:#1e0010&#34;></span><span style=&#34;color:#75715e&#34;># env variable</span><span style=&#34;color:#960050;background-color:#1e0010&#34;>
</span></span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#960050;background-color:#1e0010&#34;></span><span style=&#34;color:#66d9ef&#34;>ENV</span> DEBIAN_FRONTEND noninteractive<span style=&#34;color:#960050;background-color:#1e0010&#34;>
</span></span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#960050;background-color:#1e0010&#34;>
</span></span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#960050;background-color:#1e0010&#34;></span><span style=&#34;color:#75715e&#34;># Time zone</span><span style=&#34;color:#960050;background-color:#1e0010&#34;>
</span></span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#960050;background-color:#1e0010&#34;></span><span style=&#34;color:#66d9ef&#34;>ARG</span> TZ<span style=&#34;color:#f92672&#34;>=</span>Asia/Shanghai<span style=&#34;color:#960050;background-color:#1e0010&#34;>
</span></span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#960050;background-color:#1e0010&#34;></span><span style=&#34;color:#66d9ef&#34;>ENV</span> TZ <span style=&#34;color:#e6db74&#34;>${</span>TZ<span style=&#34;color:#e6db74&#34;>}</span><span style=&#34;color:#960050;background-color:#1e0010&#34;>
</span></span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#960050;background-color:#1e0010&#34;>
</span></span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#960050;background-color:#1e0010&#34;></span><span style=&#34;color:#66d9ef&#34;>RUN</span> ln -snf /usr/share/zoneinfo/$TZ /etc/localtime <span style=&#34;color:#f92672&#34;>&amp;amp;&amp;amp;</span> echo $TZ &amp;gt; /etc/timezone<span style=&#34;color:#960050;background-color:#1e0010&#34;>
</span></span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#960050;background-color:#1e0010&#34;>
</span></span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#960050;background-color:#1e0010&#34;></span><span style=&#34;color:#75715e&#34;># 具体来说，/usr/share/zoneinfo 目录下保存了各个时区的信息，而/etc/localtime 和 /etc/timezone 文件则记录了系统当前的时区信息。上述指令中的含义是，将容器时区设置为 $TZ 变量指定的时区。</span><span style=&#34;color:#960050;background-color:#1e0010&#34;>
</span></span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#960050;background-color:#1e0010&#34;>
</span></span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#960050;background-color:#1e0010&#34;></span><span style=&#34;color:#75715e&#34;># 具体操作为：</span><span style=&#34;color:#960050;background-color:#1e0010&#34;>
</span></span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#960050;background-color:#1e0010&#34;>
</span></span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#960050;background-color:#1e0010&#34;></span><span style=&#34;color:#75715e&#34;># /usr/share/zoneinfo/$TZ 表示找到 $TZ 对应的时区文件（例如 Asia/Shanghai）；</span><span style=&#34;color:#960050;background-color:#1e0010&#34;>
</span></span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#960050;background-color:#1e0010&#34;></span><span style=&#34;color:#75715e&#34;># ln -snf /usr/share/zoneinfo/$TZ /etc/localtime 表示将 $TZ 对应的时区文件软连接到 /etc/localtime，从而将容器时区设置为指定的时区；</span><span style=&#34;color:#960050;background-color:#1e0010&#34;>
</span></span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#960050;background-color:#1e0010&#34;></span><span style=&#34;color:#75715e&#34;># echo $TZ &amp;gt; /etc/timezone 表示将 $TZ 值写入 /etc/timezone 文件，从而使系统中其他程序也能读取到容器的时区信息。</span><span style=&#34;color:#960050;background-color:#1e0010&#34;>
</span></span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#960050;background-color:#1e0010&#34;></span><span style=&#34;color:#75715e&#34;># 这个指令通常会在 Dockerfile 中的一开始设置，以确保后续操作中时间信息的正确性。</span><span style=&#34;color:#960050;background-color:#1e0010&#34;>
</span></span></span></code></pre></div><h2 id=&#34;docker-cli&#34;>Docker CLI</h2>
<ul>
<li><a href=&#34;https://yeasy.gitbook.io/docker_practice/container/run&#34;>Unbuntu Started</a></li>
<li><a href=&#34;https://docs.docker.com.zh.xy2401.com/network/proxy/&#34;>Ubuntu Proxy</a></li>
</ul>
<div class=&#34;highlight&#34;><pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;><code class=&#34;language-sh&#34; data-lang=&#34;sh&#34;><span style=&#34;display:flex;&#34;><span>docker pull ubuntu
</span></span><span style=&#34;display:flex;&#34;><span>
</span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#75715e&#34;># Run a command in a new container</span>
</span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#75715e&#34;># docker run [--name &amp;lt;string&amp;gt;] &amp;lt;image&amp;gt; &amp;lt;command&amp;gt; &amp;lt;args&amp;gt;</span>
</span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#75715e&#34;># docker run -itd [--name ubuntu-test] ubuntu</span>
</span></span><span style=&#34;display:flex;&#34;><span>docker run -t -i --name ubuntu-testing ubuntu:18.04 /bin/bash
</span></span><span style=&#34;display:flex;&#34;><span>
</span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#75715e&#34;># Start existing container</span>
</span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#75715e&#34;># docker start [-i --interactive] &amp;lt;container&amp;gt;</span>
</span></span><span style=&#34;display:flex;&#34;><span>docker start ubuntu-testing -i
</span></span><span style=&#34;display:flex;&#34;><span>
</span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#75715e&#34;># Execute command in running container</span>
</span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#75715e&#34;># -t Allocate a pseudo-TTY</span>
</span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#75715e&#34;># -i Keep STDIN open even if not attached</span>
</span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#75715e&#34;># docker exec --interactive --tty &amp;lt;container&amp;gt; &amp;lt;command&amp;gt;</span>
</span></span><span style=&#34;display:flex;&#34;><span>docker exec -it ubuntu-testing bash
</span></span><span style=&#34;display:flex;&#34;><span>
</span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#75715e&#34;># List containers</span>
</span></span><span style=&#34;display:flex;&#34;><span>docker ps
</span></span><span style=&#34;display:flex;&#34;><span>
</span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#75715e&#34;># Remove one or more containers</span>
</span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#75715e&#34;># docker rm &amp;lt;containers...&amp;gt;</span>
</span></span><span style=&#34;display:flex;&#34;><span>docker rm ubuntu-testing
</span></span></code></pre></div>"><meta itemprop=description content="<div class=&#34;highlight&#34;><pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;><code class=&#34;language-sh&#34; data-lang=&#34;sh&#34;><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#75715e&#34;># 运行以下命令在 Docker 容器中克隆 GitHub 仓库：</span>
</span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#75715e&#34;># 该命令的含义是，以 alpine/git 镜像为基础，</span>
</span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#75715e&#34;># 启动一个名为 repo 的容器，并在容器内执行 git clone 命令，</span>
</span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#75715e&#34;># 将 https://github.com/docker/getting-started.git 仓库克隆到当前目录下的 . 文件夹中。</span>
</span></span><span style=&#34;display:flex;&#34;><span>docker run --name repo alpine/git clone https://github.com/docker/getting-started.gited/ .
</span></span><span style=&#34;display:flex;&#34;><span>
</span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#75715e&#34;># 然后，运行以下命令将克隆的代码复制到本地文件系统中：</span>
</span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#75715e&#34;># 该命令的含义是，将名为 repo 的容器中 /git/getting-started/ </span>
</span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#75715e&#34;># 文件夹下的所有文件和子文件夹复制到当前目录下。</span>
</span></span><span style=&#34;display:flex;&#34;><span>docker cp repo:/git/getting-started/ .
</span></span><span style=&#34;display:flex;&#34;><span>
</span></span><span style=&#34;display:flex;&#34;><span>
</span></span><span style=&#34;display:flex;&#34;><span>docker run -d -p 80:80 docker/getting-started
</span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#75715e&#34;># You&amp;#39;ll notice a few flags being used. Here&amp;#39;s some more info on them:</span>
</span></span><span style=&#34;display:flex;&#34;><span>
</span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#75715e&#34;># -d - run the container in detached mode (in the background)</span>
</span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#75715e&#34;># -p 80:80 - map port 80 of the host to port 80 in the container</span>
</span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#75715e&#34;># docker/getting-started - the image to use</span>
</span></span></code></pre></div><h2 id=&#34;dockerfile&#34;>Dockerfile</h2>
<ul>
<li><a href=&#34;https://zhuanlan.zhihu.com/p/440325928&#34;>Dockerfile for Dev</a></li>
</ul>
<div class=&#34;highlight&#34;><pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;><code class=&#34;language-dockerfile&#34; data-lang=&#34;dockerfile&#34;><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#66d9ef&#34;>FROM</span><span style=&#34;color:#e6db74&#34;> ubuntu</span><span style=&#34;color:#960050;background-color:#1e0010&#34;>
</span></span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#960050;background-color:#1e0010&#34;></span><span style=&#34;color:#66d9ef&#34;>LABEL</span> org.opencontainers.image.authers<span style=&#34;color:#f92672&#34;>=</span><span style=&#34;color:#e6db74&#34;>&amp;#34;Frank Chu&amp;#34;</span><span style=&#34;color:#960050;background-color:#1e0010&#34;>
</span></span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#960050;background-color:#1e0010&#34;>
</span></span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#960050;background-color:#1e0010&#34;></span><span style=&#34;color:#75715e&#34;># env variable</span><span style=&#34;color:#960050;background-color:#1e0010&#34;>
</span></span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#960050;background-color:#1e0010&#34;></span><span style=&#34;color:#66d9ef&#34;>ENV</span> DEBIAN_FRONTEND noninteractive<span style=&#34;color:#960050;background-color:#1e0010&#34;>
</span></span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#960050;background-color:#1e0010&#34;>
</span></span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#960050;background-color:#1e0010&#34;></span><span style=&#34;color:#75715e&#34;># Time zone</span><span style=&#34;color:#960050;background-color:#1e0010&#34;>
</span></span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#960050;background-color:#1e0010&#34;></span><span style=&#34;color:#66d9ef&#34;>ARG</span> TZ<span style=&#34;color:#f92672&#34;>=</span>Asia/Shanghai<span style=&#34;color:#960050;background-color:#1e0010&#34;>
</span></span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#960050;background-color:#1e0010&#34;></span><span style=&#34;color:#66d9ef&#34;>ENV</span> TZ <span style=&#34;color:#e6db74&#34;>${</span>TZ<span style=&#34;color:#e6db74&#34;>}</span><span style=&#34;color:#960050;background-color:#1e0010&#34;>
</span></span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#960050;background-color:#1e0010&#34;>
</span></span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#960050;background-color:#1e0010&#34;></span><span style=&#34;color:#66d9ef&#34;>RUN</span> ln -snf /usr/share/zoneinfo/$TZ /etc/localtime <span style=&#34;color:#f92672&#34;>&amp;amp;&amp;amp;</span> echo $TZ &amp;gt; /etc/timezone<span style=&#34;color:#960050;background-color:#1e0010&#34;>
</span></span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#960050;background-color:#1e0010&#34;>
</span></span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#960050;background-color:#1e0010&#34;></span><span style=&#34;color:#75715e&#34;># 具体来说，/usr/share/zoneinfo 目录下保存了各个时区的信息，而/etc/localtime 和 /etc/timezone 文件则记录了系统当前的时区信息。上述指令中的含义是，将容器时区设置为 $TZ 变量指定的时区。</span><span style=&#34;color:#960050;background-color:#1e0010&#34;>
</span></span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#960050;background-color:#1e0010&#34;>
</span></span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#960050;background-color:#1e0010&#34;></span><span style=&#34;color:#75715e&#34;># 具体操作为：</span><span style=&#34;color:#960050;background-color:#1e0010&#34;>
</span></span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#960050;background-color:#1e0010&#34;>
</span></span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#960050;background-color:#1e0010&#34;></span><span style=&#34;color:#75715e&#34;># /usr/share/zoneinfo/$TZ 表示找到 $TZ 对应的时区文件（例如 Asia/Shanghai）；</span><span style=&#34;color:#960050;background-color:#1e0010&#34;>
</span></span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#960050;background-color:#1e0010&#34;></span><span style=&#34;color:#75715e&#34;># ln -snf /usr/share/zoneinfo/$TZ /etc/localtime 表示将 $TZ 对应的时区文件软连接到 /etc/localtime，从而将容器时区设置为指定的时区；</span><span style=&#34;color:#960050;background-color:#1e0010&#34;>
</span></span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#960050;background-color:#1e0010&#34;></span><span style=&#34;color:#75715e&#34;># echo $TZ &amp;gt; /etc/timezone 表示将 $TZ 值写入 /etc/timezone 文件，从而使系统中其他程序也能读取到容器的时区信息。</span><span style=&#34;color:#960050;background-color:#1e0010&#34;>
</span></span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#960050;background-color:#1e0010&#34;></span><span style=&#34;color:#75715e&#34;># 这个指令通常会在 Dockerfile 中的一开始设置，以确保后续操作中时间信息的正确性。</span><span style=&#34;color:#960050;background-color:#1e0010&#34;>
</span></span></span></code></pre></div><h2 id=&#34;docker-cli&#34;>Docker CLI</h2>
<ul>
<li><a href=&#34;https://yeasy.gitbook.io/docker_practice/container/run&#34;>Unbuntu Started</a></li>
<li><a href=&#34;https://docs.docker.com.zh.xy2401.com/network/proxy/&#34;>Ubuntu Proxy</a></li>
</ul>
<div class=&#34;highlight&#34;><pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;><code class=&#34;language-sh&#34; data-lang=&#34;sh&#34;><span style=&#34;display:flex;&#34;><span>docker pull ubuntu
</span></span><span style=&#34;display:flex;&#34;><span>
</span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#75715e&#34;># Run a command in a new container</span>
</span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#75715e&#34;># docker run [--name &amp;lt;string&amp;gt;] &amp;lt;image&amp;gt; &amp;lt;command&amp;gt; &amp;lt;args&amp;gt;</span>
</span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#75715e&#34;># docker run -itd [--name ubuntu-test] ubuntu</span>
</span></span><span style=&#34;display:flex;&#34;><span>docker run -t -i --name ubuntu-testing ubuntu:18.04 /bin/bash
</span></span><span style=&#34;display:flex;&#34;><span>
</span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#75715e&#34;># Start existing container</span>
</span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#75715e&#34;># docker start [-i --interactive] &amp;lt;container&amp;gt;</span>
</span></span><span style=&#34;display:flex;&#34;><span>docker start ubuntu-testing -i
</span></span><span style=&#34;display:flex;&#34;><span>
</span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#75715e&#34;># Execute command in running container</span>
</span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#75715e&#34;># -t Allocate a pseudo-TTY</span>
</span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#75715e&#34;># -i Keep STDIN open even if not attached</span>
</span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#75715e&#34;># docker exec --interactive --tty &amp;lt;container&amp;gt; &amp;lt;command&amp;gt;</span>
</span></span><span style=&#34;display:flex;&#34;><span>docker exec -it ubuntu-testing bash
</span></span><span style=&#34;display:flex;&#34;><span>
</span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#75715e&#34;># List containers</span>
</span></span><span style=&#34;display:flex;&#34;><span>docker ps
</span></span><span style=&#34;display:flex;&#34;><span>
</span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#75715e&#34;># Remove one or more containers</span>
</span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#75715e&#34;># docker rm &amp;lt;containers...&amp;gt;</span>
</span></span><span style=&#34;display:flex;&#34;><span>docker rm ubuntu-testing
</span></span></code></pre></div>"><meta property="og:description" content="<div class=&#34;highlight&#34;><pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;><code class=&#34;language-sh&#34; data-lang=&#34;sh&#34;><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#75715e&#34;># 运行以下命令在 Docker 容器中克隆 GitHub 仓库：</span>
</span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#75715e&#34;># 该命令的含义是，以 alpine/git 镜像为基础，</span>
</span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#75715e&#34;># 启动一个名为 repo 的容器，并在容器内执行 git clone 命令，</span>
</span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#75715e&#34;># 将 https://github.com/docker/getting-started.git 仓库克隆到当前目录下的 . 文件夹中。</span>
</span></span><span style=&#34;display:flex;&#34;><span>docker run --name repo alpine/git clone https://github.com/docker/getting-started.gited/ .
</span></span><span style=&#34;display:flex;&#34;><span>
</span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#75715e&#34;># 然后，运行以下命令将克隆的代码复制到本地文件系统中：</span>
</span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#75715e&#34;># 该命令的含义是，将名为 repo 的容器中 /git/getting-started/ </span>
</span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#75715e&#34;># 文件夹下的所有文件和子文件夹复制到当前目录下。</span>
</span></span><span style=&#34;display:flex;&#34;><span>docker cp repo:/git/getting-started/ .
</span></span><span style=&#34;display:flex;&#34;><span>
</span></span><span style=&#34;display:flex;&#34;><span>
</span></span><span style=&#34;display:flex;&#34;><span>docker run -d -p 80:80 docker/getting-started
</span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#75715e&#34;># You&amp;#39;ll notice a few flags being used. Here&amp;#39;s some more info on them:</span>
</span></span><span style=&#34;display:flex;&#34;><span>
</span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#75715e&#34;># -d - run the container in detached mode (in the background)</span>
</span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#75715e&#34;># -p 80:80 - map port 80 of the host to port 80 in the container</span>
</span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#75715e&#34;># docker/getting-started - the image to use</span>
</span></span></code></pre></div><h2 id=&#34;dockerfile&#34;>Dockerfile</h2>
<ul>
<li><a href=&#34;https://zhuanlan.zhihu.com/p/440325928&#34;>Dockerfile for Dev</a></li>
</ul>
<div class=&#34;highlight&#34;><pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;><code class=&#34;language-dockerfile&#34; data-lang=&#34;dockerfile&#34;><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#66d9ef&#34;>FROM</span><span style=&#34;color:#e6db74&#34;> ubuntu</span><span style=&#34;color:#960050;background-color:#1e0010&#34;>
</span></span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#960050;background-color:#1e0010&#34;></span><span style=&#34;color:#66d9ef&#34;>LABEL</span> org.opencontainers.image.authers<span style=&#34;color:#f92672&#34;>=</span><span style=&#34;color:#e6db74&#34;>&amp;#34;Frank Chu&amp;#34;</span><span style=&#34;color:#960050;background-color:#1e0010&#34;>
</span></span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#960050;background-color:#1e0010&#34;>
</span></span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#960050;background-color:#1e0010&#34;></span><span style=&#34;color:#75715e&#34;># env variable</span><span style=&#34;color:#960050;background-color:#1e0010&#34;>
</span></span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#960050;background-color:#1e0010&#34;></span><span style=&#34;color:#66d9ef&#34;>ENV</span> DEBIAN_FRONTEND noninteractive<span style=&#34;color:#960050;background-color:#1e0010&#34;>
</span></span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#960050;background-color:#1e0010&#34;>
</span></span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#960050;background-color:#1e0010&#34;></span><span style=&#34;color:#75715e&#34;># Time zone</span><span style=&#34;color:#960050;background-color:#1e0010&#34;>
</span></span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#960050;background-color:#1e0010&#34;></span><span style=&#34;color:#66d9ef&#34;>ARG</span> TZ<span style=&#34;color:#f92672&#34;>=</span>Asia/Shanghai<span style=&#34;color:#960050;background-color:#1e0010&#34;>
</span></span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#960050;background-color:#1e0010&#34;></span><span style=&#34;color:#66d9ef&#34;>ENV</span> TZ <span style=&#34;color:#e6db74&#34;>${</span>TZ<span style=&#34;color:#e6db74&#34;>}</span><span style=&#34;color:#960050;background-color:#1e0010&#34;>
</span></span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#960050;background-color:#1e0010&#34;>
</span></span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#960050;background-color:#1e0010&#34;></span><span style=&#34;color:#66d9ef&#34;>RUN</span> ln -snf /usr/share/zoneinfo/$TZ /etc/localtime <span style=&#34;color:#f92672&#34;>&amp;amp;&amp;amp;</span> echo $TZ &amp;gt; /etc/timezone<span style=&#34;color:#960050;background-color:#1e0010&#34;>
</span></span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#960050;background-color:#1e0010&#34;>
</span></span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#960050;background-color:#1e0010&#34;></span><span style=&#34;color:#75715e&#34;># 具体来说，/usr/share/zoneinfo 目录下保存了各个时区的信息，而/etc/localtime 和 /etc/timezone 文件则记录了系统当前的时区信息。上述指令中的含义是，将容器时区设置为 $TZ 变量指定的时区。</span><span style=&#34;color:#960050;background-color:#1e0010&#34;>
</span></span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#960050;background-color:#1e0010&#34;>
</span></span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#960050;background-color:#1e0010&#34;></span><span style=&#34;color:#75715e&#34;># 具体操作为：</span><span style=&#34;color:#960050;background-color:#1e0010&#34;>
</span></span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#960050;background-color:#1e0010&#34;>
</span></span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#960050;background-color:#1e0010&#34;></span><span style=&#34;color:#75715e&#34;># /usr/share/zoneinfo/$TZ 表示找到 $TZ 对应的时区文件（例如 Asia/Shanghai）；</span><span style=&#34;color:#960050;background-color:#1e0010&#34;>
</span></span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#960050;background-color:#1e0010&#34;></span><span style=&#34;color:#75715e&#34;># ln -snf /usr/share/zoneinfo/$TZ /etc/localtime 表示将 $TZ 对应的时区文件软连接到 /etc/localtime，从而将容器时区设置为指定的时区；</span><span style=&#34;color:#960050;background-color:#1e0010&#34;>
</span></span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#960050;background-color:#1e0010&#34;></span><span style=&#34;color:#75715e&#34;># echo $TZ &amp;gt; /etc/timezone 表示将 $TZ 值写入 /etc/timezone 文件，从而使系统中其他程序也能读取到容器的时区信息。</span><span style=&#34;color:#960050;background-color:#1e0010&#34;>
</span></span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#960050;background-color:#1e0010&#34;></span><span style=&#34;color:#75715e&#34;># 这个指令通常会在 Dockerfile 中的一开始设置，以确保后续操作中时间信息的正确性。</span><span style=&#34;color:#960050;background-color:#1e0010&#34;>
</span></span></span></code></pre></div><h2 id=&#34;docker-cli&#34;>Docker CLI</h2>
<ul>
<li><a href=&#34;https://yeasy.gitbook.io/docker_practice/container/run&#34;>Unbuntu Started</a></li>
<li><a href=&#34;https://docs.docker.com.zh.xy2401.com/network/proxy/&#34;>Ubuntu Proxy</a></li>
</ul>
<div class=&#34;highlight&#34;><pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;><code class=&#34;language-sh&#34; data-lang=&#34;sh&#34;><span style=&#34;display:flex;&#34;><span>docker pull ubuntu
</span></span><span style=&#34;display:flex;&#34;><span>
</span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#75715e&#34;># Run a command in a new container</span>
</span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#75715e&#34;># docker run [--name &amp;lt;string&amp;gt;] &amp;lt;image&amp;gt; &amp;lt;command&amp;gt; &amp;lt;args&amp;gt;</span>
</span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#75715e&#34;># docker run -itd [--name ubuntu-test] ubuntu</span>
</span></span><span style=&#34;display:flex;&#34;><span>docker run -t -i --name ubuntu-testing ubuntu:18.04 /bin/bash
</span></span><span style=&#34;display:flex;&#34;><span>
</span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#75715e&#34;># Start existing container</span>
</span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#75715e&#34;># docker start [-i --interactive] &amp;lt;container&amp;gt;</span>
</span></span><span style=&#34;display:flex;&#34;><span>docker start ubuntu-testing -i
</span></span><span style=&#34;display:flex;&#34;><span>
</span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#75715e&#34;># Execute command in running container</span>
</span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#75715e&#34;># -t Allocate a pseudo-TTY</span>
</span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#75715e&#34;># -i Keep STDIN open even if not attached</span>
</span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#75715e&#34;># docker exec --interactive --tty &amp;lt;container&amp;gt; &amp;lt;command&amp;gt;</span>
</span></span><span style=&#34;display:flex;&#34;><span>docker exec -it ubuntu-testing bash
</span></span><span style=&#34;display:flex;&#34;><span>
</span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#75715e&#34;># List containers</span>
</span></span><span style=&#34;display:flex;&#34;><span>docker ps
</span></span><span style=&#34;display:flex;&#34;><span>
</span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#75715e&#34;># Remove one or more containers</span>
</span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#75715e&#34;># docker rm &amp;lt;containers...&amp;gt;</span>
</span></span><span style=&#34;display:flex;&#34;><span>docker rm ubuntu-testing
</span></span></code></pre></div>"><meta name=twitter:description content="<div class=&#34;highlight&#34;><pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;><code class=&#34;language-sh&#34; data-lang=&#34;sh&#34;><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#75715e&#34;># 运行以下命令在 Docker 容器中克隆 GitHub 仓库：</span>
</span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#75715e&#34;># 该命令的含义是，以 alpine/git 镜像为基础，</span>
</span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#75715e&#34;># 启动一个名为 repo 的容器，并在容器内执行 git clone 命令，</span>
</span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#75715e&#34;># 将 https://github.com/docker/getting-started.git 仓库克隆到当前目录下的 . 文件夹中。</span>
</span></span><span style=&#34;display:flex;&#34;><span>docker run --name repo alpine/git clone https://github.com/docker/getting-started.gited/ .
</span></span><span style=&#34;display:flex;&#34;><span>
</span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#75715e&#34;># 然后，运行以下命令将克隆的代码复制到本地文件系统中：</span>
</span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#75715e&#34;># 该命令的含义是，将名为 repo 的容器中 /git/getting-started/ </span>
</span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#75715e&#34;># 文件夹下的所有文件和子文件夹复制到当前目录下。</span>
</span></span><span style=&#34;display:flex;&#34;><span>docker cp repo:/git/getting-started/ .
</span></span><span style=&#34;display:flex;&#34;><span>
</span></span><span style=&#34;display:flex;&#34;><span>
</span></span><span style=&#34;display:flex;&#34;><span>docker run -d -p 80:80 docker/getting-started
</span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#75715e&#34;># You&amp;#39;ll notice a few flags being used. Here&amp;#39;s some more info on them:</span>
</span></span><span style=&#34;display:flex;&#34;><span>
</span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#75715e&#34;># -d - run the container in detached mode (in the background)</span>
</span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#75715e&#34;># -p 80:80 - map port 80 of the host to port 80 in the container</span>
</span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#75715e&#34;># docker/getting-started - the image to use</span>
</span></span></code></pre></div><h2 id=&#34;dockerfile&#34;>Dockerfile</h2>
<ul>
<li><a href=&#34;https://zhuanlan.zhihu.com/p/440325928&#34;>Dockerfile for Dev</a></li>
</ul>
<div class=&#34;highlight&#34;><pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;><code class=&#34;language-dockerfile&#34; data-lang=&#34;dockerfile&#34;><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#66d9ef&#34;>FROM</span><span style=&#34;color:#e6db74&#34;> ubuntu</span><span style=&#34;color:#960050;background-color:#1e0010&#34;>
</span></span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#960050;background-color:#1e0010&#34;></span><span style=&#34;color:#66d9ef&#34;>LABEL</span> org.opencontainers.image.authers<span style=&#34;color:#f92672&#34;>=</span><span style=&#34;color:#e6db74&#34;>&amp;#34;Frank Chu&amp;#34;</span><span style=&#34;color:#960050;background-color:#1e0010&#34;>
</span></span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#960050;background-color:#1e0010&#34;>
</span></span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#960050;background-color:#1e0010&#34;></span><span style=&#34;color:#75715e&#34;># env variable</span><span style=&#34;color:#960050;background-color:#1e0010&#34;>
</span></span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#960050;background-color:#1e0010&#34;></span><span style=&#34;color:#66d9ef&#34;>ENV</span> DEBIAN_FRONTEND noninteractive<span style=&#34;color:#960050;background-color:#1e0010&#34;>
</span></span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#960050;background-color:#1e0010&#34;>
</span></span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#960050;background-color:#1e0010&#34;></span><span style=&#34;color:#75715e&#34;># Time zone</span><span style=&#34;color:#960050;background-color:#1e0010&#34;>
</span></span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#960050;background-color:#1e0010&#34;></span><span style=&#34;color:#66d9ef&#34;>ARG</span> TZ<span style=&#34;color:#f92672&#34;>=</span>Asia/Shanghai<span style=&#34;color:#960050;background-color:#1e0010&#34;>
</span></span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#960050;background-color:#1e0010&#34;></span><span style=&#34;color:#66d9ef&#34;>ENV</span> TZ <span style=&#34;color:#e6db74&#34;>${</span>TZ<span style=&#34;color:#e6db74&#34;>}</span><span style=&#34;color:#960050;background-color:#1e0010&#34;>
</span></span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#960050;background-color:#1e0010&#34;>
</span></span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#960050;background-color:#1e0010&#34;></span><span style=&#34;color:#66d9ef&#34;>RUN</span> ln -snf /usr/share/zoneinfo/$TZ /etc/localtime <span style=&#34;color:#f92672&#34;>&amp;amp;&amp;amp;</span> echo $TZ &amp;gt; /etc/timezone<span style=&#34;color:#960050;background-color:#1e0010&#34;>
</span></span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#960050;background-color:#1e0010&#34;>
</span></span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#960050;background-color:#1e0010&#34;></span><span style=&#34;color:#75715e&#34;># 具体来说，/usr/share/zoneinfo 目录下保存了各个时区的信息，而/etc/localtime 和 /etc/timezone 文件则记录了系统当前的时区信息。上述指令中的含义是，将容器时区设置为 $TZ 变量指定的时区。</span><span style=&#34;color:#960050;background-color:#1e0010&#34;>
</span></span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#960050;background-color:#1e0010&#34;>
</span></span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#960050;background-color:#1e0010&#34;></span><span style=&#34;color:#75715e&#34;># 具体操作为：</span><span style=&#34;color:#960050;background-color:#1e0010&#34;>
</span></span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#960050;background-color:#1e0010&#34;>
</span></span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#960050;background-color:#1e0010&#34;></span><span style=&#34;color:#75715e&#34;># /usr/share/zoneinfo/$TZ 表示找到 $TZ 对应的时区文件（例如 Asia/Shanghai）；</span><span style=&#34;color:#960050;background-color:#1e0010&#34;>
</span></span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#960050;background-color:#1e0010&#34;></span><span style=&#34;color:#75715e&#34;># ln -snf /usr/share/zoneinfo/$TZ /etc/localtime 表示将 $TZ 对应的时区文件软连接到 /etc/localtime，从而将容器时区设置为指定的时区；</span><span style=&#34;color:#960050;background-color:#1e0010&#34;>
</span></span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#960050;background-color:#1e0010&#34;></span><span style=&#34;color:#75715e&#34;># echo $TZ &amp;gt; /etc/timezone 表示将 $TZ 值写入 /etc/timezone 文件，从而使系统中其他程序也能读取到容器的时区信息。</span><span style=&#34;color:#960050;background-color:#1e0010&#34;>
</span></span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#960050;background-color:#1e0010&#34;></span><span style=&#34;color:#75715e&#34;># 这个指令通常会在 Dockerfile 中的一开始设置，以确保后续操作中时间信息的正确性。</span><span style=&#34;color:#960050;background-color:#1e0010&#34;>
</span></span></span></code></pre></div><h2 id=&#34;docker-cli&#34;>Docker CLI</h2>
<ul>
<li><a href=&#34;https://yeasy.gitbook.io/docker_practice/container/run&#34;>Unbuntu Started</a></li>
<li><a href=&#34;https://docs.docker.com.zh.xy2401.com/network/proxy/&#34;>Ubuntu Proxy</a></li>
</ul>
<div class=&#34;highlight&#34;><pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;><code class=&#34;language-sh&#34; data-lang=&#34;sh&#34;><span style=&#34;display:flex;&#34;><span>docker pull ubuntu
</span></span><span style=&#34;display:flex;&#34;><span>
</span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#75715e&#34;># Run a command in a new container</span>
</span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#75715e&#34;># docker run [--name &amp;lt;string&amp;gt;] &amp;lt;image&amp;gt; &amp;lt;command&amp;gt; &amp;lt;args&amp;gt;</span>
</span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#75715e&#34;># docker run -itd [--name ubuntu-test] ubuntu</span>
</span></span><span style=&#34;display:flex;&#34;><span>docker run -t -i --name ubuntu-testing ubuntu:18.04 /bin/bash
</span></span><span style=&#34;display:flex;&#34;><span>
</span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#75715e&#34;># Start existing container</span>
</span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#75715e&#34;># docker start [-i --interactive] &amp;lt;container&amp;gt;</span>
</span></span><span style=&#34;display:flex;&#34;><span>docker start ubuntu-testing -i
</span></span><span style=&#34;display:flex;&#34;><span>
</span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#75715e&#34;># Execute command in running container</span>
</span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#75715e&#34;># -t Allocate a pseudo-TTY</span>
</span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#75715e&#34;># -i Keep STDIN open even if not attached</span>
</span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#75715e&#34;># docker exec --interactive --tty &amp;lt;container&amp;gt; &amp;lt;command&amp;gt;</span>
</span></span><span style=&#34;display:flex;&#34;><span>docker exec -it ubuntu-testing bash
</span></span><span style=&#34;display:flex;&#34;><span>
</span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#75715e&#34;># List containers</span>
</span></span><span style=&#34;display:flex;&#34;><span>docker ps
</span></span><span style=&#34;display:flex;&#34;><span>
</span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#75715e&#34;># Remove one or more containers</span>
</span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#75715e&#34;># docker rm &amp;lt;containers...&amp;gt;</span>
</span></span><span style=&#34;display:flex;&#34;><span>docker rm ubuntu-testing
</span></span></code></pre></div>"><meta property="og:type" content="article"><meta property="article:publisher" content><meta property="og:article:published_time" content="2023-03-21T13:19:38+0800"><meta property="article:published_time" content="2023-03-21T13:19:38+0800"><script defer type=application/ld+json>{"@context":"http://schema.org","@type":"Article","headline":"Docker Getting Started","author":{"@type":"Person","name":""},"datePublished":"2023-03-21","description":"","wordCount":275,"mainEntityOfPage":"True","dateModified":"2023-03-21","image":{"@type":"imageObject","url":""},"publisher":{"@type":"Organization","name":"Blog by Frank","logo":{"@type":"imageObject","url":"https://www.example.com/images/brand/favicon.png"}}}</script><meta name=generator content="Hugo 0.111.3"><meta name=description content="Explorations, Reflections, and More on My Blog"><meta name=viewport content="width=device-width,initial-scale=1"><link rel=stylesheet href=https://yongfrank.github.io/css/index.css><link rel=canonical href=https://yongfrank.github.io/posts/docker-getting-started/><link rel=alternate type=application/rss+xml href title="Blog by Frank"><header><a href=https://yongfrank.github.io/ class=title>Blog by Frank</a><nav><a href=/about/>About</a></nav></header><article><header><h1>Docker Getting Started</h1><time datetime=2023-03-21T13:19:38+08:00>March 21, 2023</time></header><nav id=TableOfContents><ul><li><a href=#dockerfile>Dockerfile</a></li><li><a href=#docker-cli>Docker CLI</a></li></ul></nav><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span><span style=color:#75715e># 运行以下命令在 Docker 容器中克隆 GitHub 仓库：</span>
</span></span><span style=display:flex><span><span style=color:#75715e># 该命令的含义是，以 alpine/git 镜像为基础，</span>
</span></span><span style=display:flex><span><span style=color:#75715e># 启动一个名为 repo 的容器，并在容器内执行 git clone 命令，</span>
</span></span><span style=display:flex><span><span style=color:#75715e># 将 https://github.com/docker/getting-started.git 仓库克隆到当前目录下的 . 文件夹中。</span>
</span></span><span style=display:flex><span>docker run --name repo alpine/git clone https://github.com/docker/getting-started.gited/ .
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 然后，运行以下命令将克隆的代码复制到本地文件系统中：</span>
</span></span><span style=display:flex><span><span style=color:#75715e># 该命令的含义是，将名为 repo 的容器中 /git/getting-started/ </span>
</span></span><span style=display:flex><span><span style=color:#75715e># 文件夹下的所有文件和子文件夹复制到当前目录下。</span>
</span></span><span style=display:flex><span>docker cp repo:/git/getting-started/ .
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>docker run -d -p 80:80 docker/getting-started
</span></span><span style=display:flex><span><span style=color:#75715e># You&#39;ll notice a few flags being used. Here&#39;s some more info on them:</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># -d - run the container in detached mode (in the background)</span>
</span></span><span style=display:flex><span><span style=color:#75715e># -p 80:80 - map port 80 of the host to port 80 in the container</span>
</span></span><span style=display:flex><span><span style=color:#75715e># docker/getting-started - the image to use</span>
</span></span></code></pre></div><h2 id=dockerfile>Dockerfile</h2><ul><li><a href=https://zhuanlan.zhihu.com/p/440325928>Dockerfile for Dev</a></li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-dockerfile data-lang=dockerfile><span style=display:flex><span><span style=color:#66d9ef>FROM</span><span style=color:#e6db74> ubuntu</span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>LABEL</span> org.opencontainers.image.authers<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;Frank Chu&#34;</span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#75715e># env variable</span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>ENV</span> DEBIAN_FRONTEND noninteractive<span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#75715e># Time zone</span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>ARG</span> TZ<span style=color:#f92672>=</span>Asia/Shanghai<span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>ENV</span> TZ <span style=color:#e6db74>${</span>TZ<span style=color:#e6db74>}</span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>RUN</span> ln -snf /usr/share/zoneinfo/$TZ /etc/localtime <span style=color:#f92672>&amp;&amp;</span> echo $TZ &gt; /etc/timezone<span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#75715e># 具体来说，/usr/share/zoneinfo 目录下保存了各个时区的信息，而/etc/localtime 和 /etc/timezone 文件则记录了系统当前的时区信息。上述指令中的含义是，将容器时区设置为 $TZ 变量指定的时区。</span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#75715e># 具体操作为：</span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#75715e># /usr/share/zoneinfo/$TZ 表示找到 $TZ 对应的时区文件（例如 Asia/Shanghai）；</span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#75715e># ln -snf /usr/share/zoneinfo/$TZ /etc/localtime 表示将 $TZ 对应的时区文件软连接到 /etc/localtime，从而将容器时区设置为指定的时区；</span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#75715e># echo $TZ &gt; /etc/timezone 表示将 $TZ 值写入 /etc/timezone 文件，从而使系统中其他程序也能读取到容器的时区信息。</span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#75715e># 这个指令通常会在 Dockerfile 中的一开始设置，以确保后续操作中时间信息的正确性。</span><span style=color:#960050;background-color:#1e0010>
</span></span></span></code></pre></div><h2 id=docker-cli>Docker CLI</h2><ul><li><a href=https://yeasy.gitbook.io/docker_practice/container/run>Unbuntu Started</a></li><li><a href=https://docs.docker.com.zh.xy2401.com/network/proxy/>Ubuntu Proxy</a></li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>docker pull ubuntu
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Run a command in a new container</span>
</span></span><span style=display:flex><span><span style=color:#75715e># docker run [--name &lt;string&gt;] &lt;image&gt; &lt;command&gt; &lt;args&gt;</span>
</span></span><span style=display:flex><span><span style=color:#75715e># docker run -itd [--name ubuntu-test] ubuntu</span>
</span></span><span style=display:flex><span>docker run -t -i --name ubuntu-testing ubuntu:18.04 /bin/bash
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Start existing container</span>
</span></span><span style=display:flex><span><span style=color:#75715e># docker start [-i --interactive] &lt;container&gt;</span>
</span></span><span style=display:flex><span>docker start ubuntu-testing -i
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Execute command in running container</span>
</span></span><span style=display:flex><span><span style=color:#75715e># -t Allocate a pseudo-TTY</span>
</span></span><span style=display:flex><span><span style=color:#75715e># -i Keep STDIN open even if not attached</span>
</span></span><span style=display:flex><span><span style=color:#75715e># docker exec --interactive --tty &lt;container&gt; &lt;command&gt;</span>
</span></span><span style=display:flex><span>docker exec -it ubuntu-testing bash
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># List containers</span>
</span></span><span style=display:flex><span>docker ps
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Remove one or more containers</span>
</span></span><span style=display:flex><span><span style=color:#75715e># docker rm &lt;containers...&gt;</span>
</span></span><span style=display:flex><span>docker rm ubuntu-testing
</span></span></code></pre></div></article></html>