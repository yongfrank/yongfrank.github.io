<!doctype html><html lang=en-us><title>Comparison of Swift and Objc | Blog by Frank</title><meta charset=utf-8><script async src="https://www.googletagmanager.com/gtag/js?id=G-XZQ6YTCMN7"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-XZQ6YTCMN7",{anonymize_ip:!1})}</script><meta name=description content="block and closure Objective-C中的Block和Swift中的闭包（Closure）都是一种匿名函数，可以作为参数传递给其他函数或者在函数内部定义。但它们在语法和使用上存在一些区别。
语法 Objective-C的Block使用^运算符来定义，后面跟着参数列表和函数体，例如：
void (^myBlock)(void) = ^{ NSLog(@&#34;Hello, world!&#34;); }; Swift的闭包使用{}来定义，参数列表和函数体在{}中定义，例如：
let myClosure: () -> Void = { print(&#34;Hello, world!&#34;) } 捕获变量 Objective-C的Block可以捕获外部变量并在函数内部使用，例如：
NSString *message = @&#34;Hello, world!&#34;; void (^myBlock)(void) = ^{ NSLog(@&#34;%@&#34;, message); }; Swift的闭包也可以捕获外部变量，但是需要显式地声明捕获变量，并且可以指定捕获方式，例如：
let message = &#34;Hello, world!&#34; let myClosure: () -> Void = { [message] in print(message) } 内存管理 Objective-C的Block需要手动管理内存，因为Block在创建时会捕获外部变量并将其包含在Block中。如果Block被复制到堆上，则需要使用__block修饰符来解决循环引用的问题。
Swift 的闭包使用捕获列表来捕获外部变量，并且自动管理内存。如果闭包被捕获并持有了一个对象，只要闭包存在，这个对象就会被保持在内存中。
总之，Objective-C的Block和Swift的闭包都是一种函数式编程的重要工具，可以用于编写更加简洁、灵活的代码。但是它们在语法和使用上存在一些区别，需要开发者根据实际情况进行选择和使用。"><meta itemprop=description content="block and closure Objective-C中的Block和Swift中的闭包（Closure）都是一种匿名函数，可以作为参数传递给其他函数或者在函数内部定义。但它们在语法和使用上存在一些区别。
语法 Objective-C的Block使用^运算符来定义，后面跟着参数列表和函数体，例如：
void (^myBlock)(void) = ^{ NSLog(@&#34;Hello, world!&#34;); }; Swift的闭包使用{}来定义，参数列表和函数体在{}中定义，例如：
let myClosure: () -> Void = { print(&#34;Hello, world!&#34;) } 捕获变量 Objective-C的Block可以捕获外部变量并在函数内部使用，例如：
NSString *message = @&#34;Hello, world!&#34;; void (^myBlock)(void) = ^{ NSLog(@&#34;%@&#34;, message); }; Swift的闭包也可以捕获外部变量，但是需要显式地声明捕获变量，并且可以指定捕获方式，例如：
let message = &#34;Hello, world!&#34; let myClosure: () -> Void = { [message] in print(message) } 内存管理 Objective-C的Block需要手动管理内存，因为Block在创建时会捕获外部变量并将其包含在Block中。如果Block被复制到堆上，则需要使用__block修饰符来解决循环引用的问题。
Swift 的闭包使用捕获列表来捕获外部变量，并且自动管理内存。如果闭包被捕获并持有了一个对象，只要闭包存在，这个对象就会被保持在内存中。
总之，Objective-C的Block和Swift的闭包都是一种函数式编程的重要工具，可以用于编写更加简洁、灵活的代码。但是它们在语法和使用上存在一些区别，需要开发者根据实际情况进行选择和使用。"><meta property="og:description" content="block and closure Objective-C中的Block和Swift中的闭包（Closure）都是一种匿名函数，可以作为参数传递给其他函数或者在函数内部定义。但它们在语法和使用上存在一些区别。
语法 Objective-C的Block使用^运算符来定义，后面跟着参数列表和函数体，例如：
void (^myBlock)(void) = ^{ NSLog(@&#34;Hello, world!&#34;); }; Swift的闭包使用{}来定义，参数列表和函数体在{}中定义，例如：
let myClosure: () -> Void = { print(&#34;Hello, world!&#34;) } 捕获变量 Objective-C的Block可以捕获外部变量并在函数内部使用，例如：
NSString *message = @&#34;Hello, world!&#34;; void (^myBlock)(void) = ^{ NSLog(@&#34;%@&#34;, message); }; Swift的闭包也可以捕获外部变量，但是需要显式地声明捕获变量，并且可以指定捕获方式，例如：
let message = &#34;Hello, world!&#34; let myClosure: () -> Void = { [message] in print(message) } 内存管理 Objective-C的Block需要手动管理内存，因为Block在创建时会捕获外部变量并将其包含在Block中。如果Block被复制到堆上，则需要使用__block修饰符来解决循环引用的问题。
Swift 的闭包使用捕获列表来捕获外部变量，并且自动管理内存。如果闭包被捕获并持有了一个对象，只要闭包存在，这个对象就会被保持在内存中。
总之，Objective-C的Block和Swift的闭包都是一种函数式编程的重要工具，可以用于编写更加简洁、灵活的代码。但是它们在语法和使用上存在一些区别，需要开发者根据实际情况进行选择和使用。"><meta name=twitter:description content="block and closure Objective-C中的Block和Swift中的闭包（Closure）都是一种匿名函数，可以作为参数传递给其他函数或者在函数内部定义。但它们在语法和使用上存在一些区别。
语法 Objective-C的Block使用^运算符来定义，后面跟着参数列表和函数体，例如：
void (^myBlock)(void) = ^{ NSLog(@&#34;Hello, world!&#34;); }; Swift的闭包使用{}来定义，参数列表和函数体在{}中定义，例如：
let myClosure: () -> Void = { print(&#34;Hello, world!&#34;) } 捕获变量 Objective-C的Block可以捕获外部变量并在函数内部使用，例如：
NSString *message = @&#34;Hello, world!&#34;; void (^myBlock)(void) = ^{ NSLog(@&#34;%@&#34;, message); }; Swift的闭包也可以捕获外部变量，但是需要显式地声明捕获变量，并且可以指定捕获方式，例如：
let message = &#34;Hello, world!&#34; let myClosure: () -> Void = { [message] in print(message) } 内存管理 Objective-C的Block需要手动管理内存，因为Block在创建时会捕获外部变量并将其包含在Block中。如果Block被复制到堆上，则需要使用__block修饰符来解决循环引用的问题。
Swift 的闭包使用捕获列表来捕获外部变量，并且自动管理内存。如果闭包被捕获并持有了一个对象，只要闭包存在，这个对象就会被保持在内存中。
总之，Objective-C的Block和Swift的闭包都是一种函数式编程的重要工具，可以用于编写更加简洁、灵活的代码。但是它们在语法和使用上存在一些区别，需要开发者根据实际情况进行选择和使用。"><meta property="og:type" content="article"><meta property="article:publisher" content><meta property="og:article:published_time" content="2023-04-17T15:47:55+0800"><meta property="article:published_time" content="2023-04-17T15:47:55+0800"><script defer type=application/ld+json>{"@context":"http://schema.org","@type":"Article","headline":"Comparison of Swift and Objc","author":{"@type":"Person","name":""},"datePublished":"2023-04-17","description":"","wordCount":60,"mainEntityOfPage":"True","dateModified":"2023-04-17","image":{"@type":"imageObject","url":""},"publisher":{"@type":"Organization","name":"Blog by Frank","logo":{"@type":"imageObject","url":"https://www.example.com/images/brand/favicon.png"}}}</script><meta name=generator content="Hugo 0.111.3"><meta name=description content="Explorations, Reflections, and More on My Blog"><meta name=viewport content="width=device-width,initial-scale=1"><link rel=stylesheet href=https://yongfrank.github.io/css/index.css><link rel=canonical href=https://yongfrank.github.io/posts/comparison-of-swift-and-objc/><link rel=alternate type=application/rss+xml href title="Blog by Frank"><header><a href=https://yongfrank.github.io/ class=title>Blog by Frank</a><nav><a href=/about/>About</a></nav></header><article><header><h1>Comparison of Swift and Objc</h1><time datetime=2023-04-17T15:47:55+08:00>April 17, 2023</time></header><h2 id=block-and-closure>block and closure</h2><p>Objective-C中的Block和Swift中的闭包（Closure）都是一种匿名函数，可以作为参数传递给其他函数或者在函数内部定义。但它们在语法和使用上存在一些区别。</p><h3 id=语法>语法</h3><p>Objective-C的Block使用^运算符来定义，后面跟着参数列表和函数体，例如：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objectivec data-lang=objectivec><span style=display:flex><span><span style=color:#66d9ef>void</span> (<span style=color:#f92672>^</span>myBlock)(<span style=color:#66d9ef>void</span>) <span style=color:#f92672>=</span> <span style=color:#f92672>^</span>{
</span></span><span style=display:flex><span>    NSLog(<span style=color:#e6db74>@&#34;Hello, world!&#34;</span>);
</span></span><span style=display:flex><span>};
</span></span></code></pre></div><p>Swift的闭包使用{}来定义，参数列表和函数体在{}中定义，例如：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span><span style=color:#66d9ef>let</span> myClosure: () -&gt; Void = {
</span></span><span style=display:flex><span>    print(<span style=color:#e6db74>&#34;Hello, world!&#34;</span>)
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=捕获变量>捕获变量</h3><p>Objective-C的Block可以捕获外部变量并在函数内部使用，例如：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span>NSString <span style=color:#f92672>*</span>message <span style=color:#f92672>=</span> <span style=color:#e6db74>@&#34;Hello, world!&#34;</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>void</span> (<span style=color:#f92672>^</span>myBlock)(<span style=color:#66d9ef>void</span>) <span style=color:#f92672>=</span> <span style=color:#f92672>^</span>{
</span></span><span style=display:flex><span>    NSLog(<span style=color:#e6db74>@&#34;%@&#34;</span>, message);
</span></span><span style=display:flex><span>};
</span></span></code></pre></div><p>Swift的闭包也可以捕获外部变量，但是需要显式地声明捕获变量，并且可以指定捕获方式，例如：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span><span style=color:#66d9ef>let</span> message = <span style=color:#e6db74>&#34;Hello, world!&#34;</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> myClosure: () -&gt; Void = { [message] <span style=color:#66d9ef>in</span>
</span></span><span style=display:flex><span>    print(message)
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=内存管理>内存管理</h3><p>Objective-C的Block需要手动管理内存，因为Block在创建时会捕获外部变量并将其包含在Block中。如果Block被复制到堆上，则需要使用__block修饰符来解决循环引用的问题。</p><p>Swift 的闭包使用<strong>捕获列表</strong>来捕获外部变量，并且自动管理内存。如果闭包被捕获并持有了一个对象，只要闭包存在，这个对象就会被保持在内存中。</p><p>总之，Objective-C的Block和Swift的闭包都是一种函数式编程的重要工具，可以用于编写更加简洁、灵活的代码。但是它们在语法和使用上存在一些区别，需要开发者根据实际情况进行选择和使用。</p></article></html>