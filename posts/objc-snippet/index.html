<!doctype html><html lang=en-us><title>Objc Snippet | Blog by Frank</title>
<meta charset=utf-8><script async src="https://www.googletagmanager.com/gtag/js?id=G-XZQ6YTCMN7"></script><script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-XZQ6YTCMN7",{anonymize_ip:!1})}</script><meta name=twitter:card content="summary_large_image"><meta property="og:type" content="article"><meta property="og:title" content="Objc Snippet | Blog by Frank"><meta name=twitter:title content="Objc Snippet | Blog by Frank"><meta property="og:description" content="Type unsafe

isEqual
isEqualTo
OCåº•å±‚åŸç†ä¹‹isEqual
isEqual

NSLog(@&#34;%d&#34;, false == 0);
NSLog(@&#34;%d&#34;, nil == 0);
NSLog(@&#34;%d&#34;, 0 == 0);
NSLog(@&#34;%d&#34;, [false isEqual:0]);

if (nil == 0) {
    NSLog(@&#34;equal&#34;);
}
Nil Safe Solution
[InterfaceName toGetNSDictionary:self.model.businessInfo?:@{}];
è¿™è¡Œä»£ç çš„æ„æ€æ˜¯ï¼Œé¦–å…ˆæ£€æŸ¥ self.model.businessInfo æ˜¯å¦ä¸º nilï¼Œå¦‚æœä¸æ˜¯ nilï¼Œåˆ™ä½¿ç”¨ self.model.businessInfoï¼Œå¦åˆ™è¿”å›ä¸€ä¸ªç©ºçš„ NSDictionary å¯¹è±¡ {}ã€‚"><meta property="og:url" content="https://yongfrank.github.io/posts/objc-snippet/"><meta property="og:site_name" content="Blog by Frank"><meta name=generator content="Hugo 0.120.4"><meta name=description content="Explorations, Reflections, and More on My Blog"><meta name=viewport content="width=device-width,initial-scale=1"><link rel=stylesheet href=https://yongfrank.github.io/css/index.css><link rel=canonical href=https://yongfrank.github.io/posts/objc-snippet/><link rel=alternate type=application/rss+xml href title="Blog by Frank"><link rel=stylesheet href=https://yongfrank.github.io/katex/katex.min.css><link rel="shortcut icon" href=favicon.ico><script defer src=https://yongfrank.github.io/katex/katex.min.js></script><script defer src=https://yongfrank.github.io/katex/contrib/auto-render.min.js onload=renderMathInElement(document.body)></script><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/site.webmanifest><link rel=mask-icon href=/safari-pinned-tab.svg color=#578490><meta name=msapplication-TileColor content="#da532c"><head><script src=/js/MathJax/es5/tex-chtml.js></script></head><header><a href=https://yongfrank.github.io/ class=title>Blog by Frank</a><nav><a href=/about/>About</a></nav></header><article><header><h1>Objc Snippet</h1><time datetime=2023-03-29T21:18:40+08:00>March 29, 2023</time></header><nav id=TableOfContents><ul><li><a href=#type-unsafe>Type unsafe</a></li><li><a href=#nil-safe-solution>Nil Safe Solution</a></li><li><a href=#class-in-objective-c>Class in Objective-C</a><ul><li><a href=#quickstarthttpswwwtutorialspointcomobjective_cobjective_c_quick_guidehtm><a href=https://www.tutorialspoint.com/objective_c/objective_c_quick_guide.htm>QuickStart</a></a></li><li><a href=#synthesize>@synthesize</a></li><li><a href=#interface--class>@interface & @class</a></li><li><a href=#class-method--instance-method>Class Method & Instance Method</a></li><li><a href=#init-alloc-new>Init, alloc, new</a></li></ul></li><li><a href=#array>Array</a></li><li><a href=#nsdictionary-in-objc>NSDictionary in Objc</a></li><li><a href=#property-in-objc>Property in objc</a></li><li><a href=#property-ä¿®é¥°ç¬¦>Property ä¿®é¥°ç¬¦</a><ul><li><a href=#atomic>atomic</a></li><li><a href=#nonatomic>nonatomic</a></li><li><a href=#copy>copy</a></li><li><a href=#assign>assign</a></li><li><a href=#strong>strong</a></li><li><a href=#weak>weak</a></li></ul></li><li><a href=#åˆå§‹åŒ–-initializationhttpsdeveloperapplecomlibraryarchivedocumentationcocoaconceptualprogrammingwithobjectivecworkingwithobjectsworkingwithobjectshtmlapple_refdocuidtp40011210-ch4-sw1>åˆå§‹åŒ– <a href=https://developer.apple.com/library/archive/documentation/Cocoa/Conceptual/ProgrammingWithObjectiveC/WorkingwithObjects/WorkingwithObjects.html#//apple_ref/doc/uid/TP40011210-CH4-SW1>Initialization</a></a></li><li><a href=#lazy-instantiation--ä¸‹åˆ’çº¿å˜é‡>Lazy instantiation & ä¸‹åˆ’çº¿å˜é‡</a><ul><li><a href=#another-example-on-iosé¢è¯•å®å…¸httpsheron-newlandgithubioassetsknowledgesindexhtml>Another Example on <a href=https://heron-newland.github.io/assets/knowledges/index.html>iOSé¢è¯•å®å…¸</a></a></li><li><a href=#swift--objc-lazy>Swift & Objc Lazy</a></li><li><a href=#see-more-on>See more on</a></li></ul></li><li><a href=#struct-in-objective-c>Struct in Objective-C</a></li><li><a href=#turn-json-file-into-model-object>Turn JSON File into Model Object</a><ul><li><a href=#array-of-json-objects>Array of JSON Objects</a></li><li><a href=#another-example>Another Example</a></li></ul></li><li><a href=#-isequal-isequalto>==, isEqual, isEqualTo</a><ul><li><a href=#--isequal-objc--swift>==, ===, isEqual: Objc & Swift</a></li></ul></li><li><a href=#category>Category</a><ul><li><a href=#details>Details</a></li><li><a href=#å®ç°>å®ç°</a></li></ul></li><li><a href=#ios-constant---static-nsstring--const-kstr-->iOS Constant - <code>static NSString * const kStr = @""</code></a><ul><li><a href=#é¦–å…ˆé¢„å¤„ç†å‘½ä»¤ä»–ä¸æ˜¯ä¸€ä¸ªå¸¸é‡>é¦–å…ˆï¼Œé¢„å¤„ç†å‘½ä»¤ä»–ä¸æ˜¯ä¸€ä¸ªå¸¸é‡ï¼ï¼ï¼ï¼</a></li><li><a href=#ç”¨constæ¥å®šä¹‰ä¸€ä¸ªå¸¸é‡>ç”¨constæ¥å®šä¹‰ä¸€ä¸ªå¸¸é‡</a></li><li><a href=#ä¸€å®šè¦åŒæ—¶ä½¿ç”¨staticå’Œconstæ¥å®šä¹‰ä½ çš„å˜é‡>ä¸€å®šè¦åŒæ—¶ä½¿ç”¨staticå’Œconstæ¥å®šä¹‰ä½ çš„å˜é‡</a></li><li><a href=#å®šä¹‰å·¥ç¨‹ä¸­çš„å…¨å±€å˜é‡>å®šä¹‰å·¥ç¨‹ä¸­çš„å…¨å±€å˜é‡</a></li></ul></li><li><a href=#weakify-å’Œ-strongify>@weakify å’Œ @strongify</a></li><li><a href=#type-size>Type Size</a></li><li><a href=#ternary-operator>Ternary Operator</a></li><li><a href=#block>block</a><ul><li><a href=#read-more>Read More</a></li></ul></li><li><a href=#_nullable>_Nullable</a></li><li><a href=#ns_assume_nonnull_begin-å’Œ-ns_assume_nonnull_end><code>NS_ASSUME_NONNULL_BEGIN</code> å’Œ <code>NS_ASSUME_NONNULL_END</code></a></li><li><a href=#id-type>id type</a><ul><li><a href=#1-é™æ€ç±»å‹å’ŒåŠ¨æ€ç±»å‹>1. é™æ€ç±»å‹å’ŒåŠ¨æ€ç±»å‹</a></li><li><a href=#2-ä¸ºä»€ä¹ˆè¦æœ‰åŠ¨æ€ç±»å‹>2. ä¸ºä»€ä¹ˆè¦æœ‰åŠ¨æ€ç±»å‹?</a></li><li><a href=#3-idæ•°æ®ç±»å‹ä¸é™æ€ç±»å‹>3. idæ•°æ®ç±»å‹ä¸é™æ€ç±»å‹</a></li></ul></li><li><a href=#k-keyword>k Keyword</a></li><li><a href=#yes-no-true-false>YES, NO, true, false</a></li><li><a href=#typedef>typedef</a><ul><li><a href=#ns_enum>NS_ENUM</a></li><li><a href=#ns_options>NS_OPTIONS</a></li><li><a href=#typedef-enum>typedef enum</a></li><li><a href=#difference-between-enum-and-ns_enum>difference between enum and NS_ENUM</a></li></ul></li><li><a href=#nsdictionary-to-class>NSDictionary to Class</a></li><li><a href=#singleton>singleton</a></li><li><a href=#nsuserdefaults>NSUserDefaults</a></li><li><a href=#kvo>KVO</a><ul><li><a href=#kvc>KVC</a></li><li><a href=#isa>isa</a></li><li><a href=#isa-swizzling>isa-swizzling</a></li><li><a href=#method-swizzling>method-swizzling</a></li></ul></li><li><a href=#æ¶ˆæ¯è½¬å‘---message-forwarding>æ¶ˆæ¯è½¬å‘ - Message Forwarding</a></li></ul></nav><h2 id=type-unsafe>Type unsafe</h2><ul><li><a href=https://developer.apple.com/documentation/objectivec/1418956-nsobject/1418795-isequal>isEqual</a></li><li><a href=https://developer.apple.com/documentation/objectivec/nsobject/1393823-isequalto>isEqualTo</a></li><li><a href=https://juejin.cn/post/7127912661714468872>OCåº•å±‚åŸç†ä¹‹isEqual</a></li><li><a href=https://existorlive.github.io/2020/05/26/isEqual-AND-hash-of-NSObject.html>isEqual</a></li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span>NSLog(<span style=color:#e6db74>@&#34;%d&#34;</span>, false <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span>NSLog(<span style=color:#e6db74>@&#34;%d&#34;</span>, nil <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span>NSLog(<span style=color:#e6db74>@&#34;%d&#34;</span>, <span style=color:#ae81ff>0</span> <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span>NSLog(<span style=color:#e6db74>@&#34;%d&#34;</span>, [false isEqual:<span style=color:#ae81ff>0</span>]);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>if</span> (nil <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span>) {
</span></span><span style=display:flex><span>    NSLog(<span style=color:#e6db74>@&#34;equal&#34;</span>);
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=nil-safe-solution>Nil Safe Solution</h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span>[InterfaceName toGetNSDictionary:self.model.businessInfo<span style=color:#f92672>?:</span><span style=color:#ae81ff>@{}</span>];
</span></span></code></pre></div><p>è¿™è¡Œä»£ç çš„æ„æ€æ˜¯ï¼Œé¦–å…ˆæ£€æŸ¥ self.model.businessInfo æ˜¯å¦ä¸º nilï¼Œå¦‚æœä¸æ˜¯ nilï¼Œåˆ™ä½¿ç”¨ self.model.businessInfoï¼Œå¦åˆ™è¿”å›ä¸€ä¸ªç©ºçš„ NSDictionary å¯¹è±¡ {}ã€‚</p><p>è¿™æ ·å†™å¯ä»¥é¿å…åœ¨è®¿é—® self.model.businessInfo å±æ€§æ—¶å‡ºç°ç©ºæŒ‡é’ˆå¼‚å¸¸ï¼Œå› ä¸ºå¦‚æœè¯¥å±æ€§ä¸º nilï¼Œåˆ™ä¼šè¿”å›ä¸€ä¸ªç©ºçš„ NSDictionary å¯¹è±¡ï¼Œé¿å…äº†åç»­çš„è®¿é—®å‡ºç°å¼‚å¸¸ã€‚</p><h2 id=class-in-objective-c>Class in Objective-C</h2><ul><li><a href=https://developer.apple.com/library/archive/documentation/Cocoa/Conceptual/ProgrammingWithObjectiveC/Introduction/Introduction.html>Apple Developer: Programming With Objective-C</a></li><li><a href=https://developer.apple.com/library/archive/referencelibrary/GettingStarted/RoadMapOSX/chapters/01_Introduction.html>Apple Developer: Start Developing Mac Apps Today</a></li></ul><h3 id=quickstarthttpswwwtutorialspointcomobjective_cobjective_c_quick_guidehtm><a href=https://www.tutorialspoint.com/objective_c/objective_c_quick_guide.htm>QuickStart</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span><span style=color:#66d9ef>@interface</span> <span style=color:#a6e22e>Person</span> : <span style=color:#a6e22e>NSObject</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>@property</span> (<span style=color:#66d9ef>nonatomic</span>, <span style=color:#66d9ef>strong</span>) NSString <span style=color:#f92672>*</span>name;
</span></span><span style=display:flex><span><span style=color:#66d9ef>@property</span> (<span style=color:#66d9ef>nonatomic</span>, <span style=color:#66d9ef>assign</span>) NSInteger age;
</span></span><span style=display:flex><span><span style=color:#66d9ef>@property</span> (<span style=color:#66d9ef>nonatomic</span>, <span style=color:#66d9ef>assign</span>) <span style=color:#66d9ef>int</span> birthYear;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>- (<span style=color:#66d9ef>instancetype</span>)<span style=color:#a6e22e>initWithName:</span>(NSString <span style=color:#f92672>*</span>)name <span style=color:#a6e22e>age:</span>(NSInteger)age;
</span></span><span style=display:flex><span>- (<span style=color:#66d9ef>void</span>)<span style=color:#a6e22e>sayHello</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>@end</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>@implementation</span> <span style=color:#a6e22e>Person</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>@synthesize</span> birthYear;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>- (<span style=color:#66d9ef>instancetype</span>)<span style=color:#a6e22e>initWithName:</span>(NSString <span style=color:#f92672>*</span>)name <span style=color:#a6e22e>age:</span>(NSInteger)age {
</span></span><span style=display:flex><span>    self <span style=color:#f92672>=</span> [super init];
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (self) {
</span></span><span style=display:flex><span>        _name <span style=color:#f92672>=</span> name;
</span></span><span style=display:flex><span>        _age <span style=color:#f92672>=</span> age;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> self;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>- (<span style=color:#66d9ef>void</span>)<span style=color:#a6e22e>sayHello</span> {
</span></span><span style=display:flex><span>    NSLog(<span style=color:#e6db74>@&#34;Hello, my name is %@ and I am %ld years old.&#34;</span>, self.name, (<span style=color:#66d9ef>long</span>)self.age);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>@end</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> main(<span style=color:#66d9ef>int</span> argc, <span style=color:#66d9ef>const</span> <span style=color:#66d9ef>char</span> <span style=color:#f92672>*</span> argv[]) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>@autoreleasepool</span> {
</span></span><span style=display:flex><span>        <span style=color:#75715e>// insert code here...
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        NSLog(<span style=color:#e6db74>@&#34;Hello, World!&#34;</span>);
</span></span><span style=display:flex><span>        Person <span style=color:#f92672>*</span>person <span style=color:#f92672>=</span> [[Person alloc] initWithName:<span style=color:#e6db74>@&#34;John Doe&#34;</span> age:<span style=color:#ae81ff>25</span>];
</span></span><span style=display:flex><span>        person.birthYear <span style=color:#f92672>=</span> <span style=color:#ae81ff>2022</span>;
</span></span><span style=display:flex><span>        [person sayHello];
</span></span><span style=display:flex><span>        NSLog(<span style=color:#e6db74>@&#34;%d&#34;</span>, person.birthYear);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=synthesize>@synthesize</h3><p>@synthesize height;</p><p>@synthesize is an Objective-C directive used to automatically generate getter and setter methods for a class property.</p><p>Before the release of Objective-C 2.0, developers had to write both the getter and setter methods themselves, which could be quite verbose and repetitive. However, with @synthesize, the compiler can generate these methods automatically based on the declared property, greatly simplifying the code.</p><p>For example, suppose you have a property height declared in a class Person. Instead of writing the getter and setter methods yourself, you can simply write:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span><span style=color:#66d9ef>@implementation</span> <span style=color:#a6e22e>Person</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>@synthesize</span> height;
</span></span><span style=display:flex><span><span style=color:#66d9ef>@end</span>
</span></span></code></pre></div><p>This will automatically generate the getter and setter methods for the height property.</p><p>Note that with the release of Objective-C 2.0, @synthesize is no longer strictly necessary. Instead, you can use the @property directive to declare the property and the compiler will automatically generate the getter and setter methods by default. However, @synthesize can still be useful in some cases, such as when you need to customize the behavior of the generated methods.</p><h3 id=interface--class>@interface & @class</h3><p>åœ¨ Objective-C ä¸­ï¼Œ@interface æ˜¯ç”¨æ¥å£°æ˜ä¸€ä¸ªç±»çš„æ¥å£éƒ¨åˆ†çš„å…³é”®å­—ã€‚å®ƒé€šå¸¸ç”¨äºå¤´æ–‡ä»¶ï¼ˆ.h æ–‡ä»¶ï¼‰ä¸­ï¼Œåœ¨å…¶ä¸­å®šä¹‰äº†ç±»çš„å±æ€§ã€æ–¹æ³•å’Œå®ä¾‹å˜é‡çš„å£°æ˜ã€‚</p><p>@class æ˜¯å¦ä¸€ä¸ªå…³é”®å­—ï¼Œç”¨äºåœ¨æ¥å£éƒ¨åˆ†ä¸­å£°æ˜ä¸€ä¸ªç±»çš„åç§°ï¼Œä½†ä¸æä¾›è¯¦ç»†çš„ç±»å®šä¹‰ã€‚å®ƒé€šå¸¸ç”¨äºè§£å†³å¾ªç¯å¼•ç”¨çš„é—®é¢˜ã€‚å½“å¤šä¸ªç±»ç›¸äº’å¼•ç”¨æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ @class æ¥æå‰å£°æ˜ç±»çš„åç§°ï¼Œä»è€Œé¿å…å¾ªç¯å¼•ç”¨å¯¼è‡´çš„ç¼–è¯‘é”™è¯¯ã€‚</p><p>ä¾‹å¦‚ï¼Œå‡è®¾æœ‰ä¸¤ä¸ªç±» A å’Œ Bï¼Œå½¼æ­¤ç›¸äº’å¼•ç”¨ã€‚åœ¨ A çš„å¤´æ–‡ä»¶ä¸­ï¼Œå¯ä»¥ä½¿ç”¨ @class B; æ¥æå‰å£°æ˜ç±» B çš„åç§°ï¼Œè¡¨ç¤º A ç±»ä¸­ä¼šä½¿ç”¨åˆ° B ç±»ã€‚ç„¶åï¼Œåœ¨ A ç±»çš„å®ç°æ–‡ä»¶ä¸­ï¼ˆ.m æ–‡ä»¶ï¼‰æˆ–è€…éœ€è¦è®¿é—® B ç±»çš„åœ°æ–¹ï¼Œå†å¯¼å…¥ B ç±»çš„å¤´æ–‡ä»¶ã€‚</p><p>æ€»ä¹‹ï¼Œ@interface ç”¨äºå£°æ˜ä¸€ä¸ªç±»çš„æ¥å£éƒ¨åˆ†ï¼Œè€Œ @class ç”¨äºæå‰å£°æ˜ä¸€ä¸ªç±»çš„åç§°ä»¥è§£å†³å¾ªç¯å¼•ç”¨çš„é—®é¢˜ã€‚</p><h3 id=class-method--instance-method>Class Method & Instance Method</h3><h3 id=init-alloc-new>Init, alloc, new</h3><p>åœ¨ Objective-C ä¸­ï¼Œnew å’Œ alloc init éƒ½æ˜¯ç”¨äºåˆ›å»ºå¯¹è±¡çš„æ–¹å¼ï¼Œä½†å®ƒä»¬æœ‰ä¸€äº›åŒºåˆ«ã€‚</p><p>alloc init: è¿™æ˜¯æœ€å¸¸è§çš„åˆ›å»ºå¯¹è±¡çš„æ–¹å¼ã€‚é¦–å…ˆï¼Œä½¿ç”¨ alloc æ–¹æ³•ä¸ºå¯¹è±¡åˆ†é…å†…å­˜ç©ºé—´ï¼Œç„¶åä½¿ç”¨ init æ–¹æ³•è¿›è¡Œåˆå§‹åŒ–ã€‚ä¾‹å¦‚ï¼š</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span>MyClass <span style=color:#f92672>*</span>myObject <span style=color:#f92672>=</span> [[MyClass alloc] init];
</span></span></code></pre></div><p>new: new æ˜¯ä¸€ä¸ªä¾¿æ·æ–¹æ³•ï¼Œå®ƒä¸€æ¬¡æ€§å®Œæˆäº†å¯¹è±¡çš„å†…å­˜åˆ†é…å’Œåˆå§‹åŒ–ã€‚å®ƒç›¸å½“äºè°ƒç”¨ alloc æ–¹æ³•ä¸ºå¯¹è±¡åˆ†é…å†…å­˜ç©ºé—´ï¼Œç„¶åè°ƒç”¨ init æ–¹æ³•è¿›è¡Œåˆå§‹åŒ–ï¼Œå¹¶è¿”å›å·²åˆå§‹åŒ–çš„å¯¹è±¡ã€‚ä¾‹å¦‚ï¼š</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span>MyClass <span style=color:#f92672>*</span>myObject <span style=color:#f92672>=</span> [MyClass new];
</span></span></code></pre></div><p>å°½ç®¡ new æ˜¯ä¸€ç§æ›´ç®€æ´çš„å†™æ³•ï¼Œä½†å®é™…ä¸Šå®ƒåªæ˜¯ alloc init çš„ç®€åŒ–å½¢å¼ã€‚å› æ­¤ï¼Œä»åŠŸèƒ½ä¸Šæ¥è¯´ï¼Œå®ƒä»¬æ˜¯ç­‰æ•ˆçš„ã€‚ä½ å¯ä»¥æ ¹æ®ä¸ªäººåå¥½é€‰æ‹©ä½¿ç”¨å“ªç§æ–¹å¼ã€‚</p><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä½¿ç”¨ alloc init æˆ– new åˆ›å»ºçš„å¯¹è±¡ï¼Œéƒ½éœ€è¦åœ¨ä¸å†ä½¿ç”¨æ—¶æ‰‹åŠ¨é‡Šæ”¾å†…å­˜ï¼Œé€šè¿‡è°ƒç”¨ release æ–¹æ³•æˆ–ä½¿ç”¨è‡ªåŠ¨å¼•ç”¨è®¡æ•°ï¼ˆARCï¼‰æ¥ç®¡ç†å†…å­˜ã€‚</p><h2 id=array>Array</h2><p>åœ¨Objective-Cä¸­ï¼Œ@ ç¬¦å·åœ¨ä¸åŒçš„ä¸Šä¸‹æ–‡ä¸­æœ‰ä¸åŒçš„ä½œç”¨ã€‚åœ¨è¿™ä¸ªç‰¹å®šçš„ä»£ç è¡Œä¸­ï¼Œ@ ç¬¦å·è¡¨ç¤ºäº†ä¸€ä¸ª Objective-C å­—ç¬¦ä¸²å­—é¢é‡ã€‚</p><p>[self.sections addObject:@[modelToBeAddedInArray]] è¿™è¡Œä»£ç å°† modelToBeAddedInArray å¯¹è±¡æ·»åŠ åˆ° self.sections æ•°ç»„ä¸­ã€‚@[] è¡¨ç¤ºä¸€ä¸ªç©ºçš„ NSArray å­—é¢é‡ï¼Œè€Œ @[modelToBeAddedInArray] åˆ™è¡¨ç¤ºä¸€ä¸ªåŒ…å« modelToBeAddedInArray å¯¹è±¡çš„ NSArrayã€‚</p><p>é€šè¿‡ä½¿ç”¨ @ ç¬¦å·åˆ›å»º NSArray æˆ– NSDictionary ç­‰é›†åˆç±»å‹çš„å­—é¢é‡ï¼Œå¯ä»¥æ›´æ–¹ä¾¿åœ°åˆ›å»ºå’Œåˆå§‹åŒ–è¿™äº›é›†åˆå¯¹è±¡ã€‚</p><h2 id=nsdictionary-in-objc>NSDictionary in Objc</h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span>NSDictionary <span style=color:#f92672>*</span>dictionary <span style=color:#f92672>=</span> <span style=color:#ae81ff>@{</span>
</span></span><span style=display:flex><span>    <span style=color:#e6db74>@&#34;name&#34;</span><span style=color:#f92672>:</span> <span style=color:#e6db74>@&#34;John&#34;</span>, 
</span></span><span style=display:flex><span>    <span style=color:#e6db74>@&#34;age&#34;</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>@30</span>, 
</span></span><span style=display:flex><span>    <span style=color:#e6db74>@&#34;gender&#34;</span><span style=color:#f92672>:</span> <span style=color:#e6db74>@&#34;male&#34;</span>
</span></span><span style=display:flex><span><span style=color:#ae81ff>}</span>;
</span></span></code></pre></div><p>è¿™ä¸ª NSDictionary åŒ…å«äº†ä¸‰ä¸ªé”®å€¼å¯¹ï¼Œåˆ†åˆ«æ˜¯ &ldquo;name&rdquo;ã€&ldquo;age&rdquo; å’Œ &ldquo;gender&rdquo;ã€‚å…¶ä¸­ï¼Œé”®éƒ½æ˜¯ NSString ç±»å‹ï¼Œè€Œå€¼å¯ä»¥æ˜¯ä»»æ„çš„å¯¹è±¡ï¼Œä¾‹å¦‚è¿™é‡Œçš„ @&ldquo;John&rdquo; æ˜¯ä¸€ä¸ª NSString å¯¹è±¡ï¼Œ@30 æ˜¯ä¸€ä¸ª NSNumber å¯¹è±¡ï¼Œ@&ldquo;male&rdquo; ä¹Ÿæ˜¯ä¸€ä¸ª NSString å¯¹è±¡ã€‚</p><p>ä½ å¯ä»¥é€šè¿‡ key æ¥è·å–å¯¹åº”çš„ valueï¼Œä¾‹å¦‚ï¼š</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span>NSString <span style=color:#f92672>*</span>name <span style=color:#f92672>=</span> [dictionary objectForKey:<span style=color:#e6db74>@&#34;name&#34;</span>];
</span></span><span style=display:flex><span>NSNumber <span style=color:#f92672>*</span>age <span style=color:#f92672>=</span> [dictionary objectForKey:<span style=color:#e6db74>@&#34;age&#34;</span>];
</span></span><span style=display:flex><span>NSString <span style=color:#f92672>*</span>gender <span style=color:#f92672>=</span> [dictionary objectForKey:<span style=color:#e6db74>@&#34;gender&#34;</span>];
</span></span></code></pre></div><p>è¿™æ ·å°±åˆ†åˆ«å–åˆ°äº†å¯¹åº” key çš„ value å€¼ã€‚å¦‚æœ key ä¸å­˜åœ¨ï¼Œé‚£ä¹ˆ objectForKey æ–¹æ³•å°†è¿”å› nilã€‚</p><p>é™¤äº†ä½¿ç”¨ objectForKey æ–¹æ³•å¤–ï¼Œè¿˜å¯ä»¥ä½¿ç”¨ä¸‹æ ‡è¯­æ³•æ¥è®¿é—® NSDictionary ä¸­çš„å€¼ï¼Œä¾‹å¦‚ï¼š</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span>NSString <span style=color:#f92672>*</span>name <span style=color:#f92672>=</span> dictionary[<span style=color:#e6db74>@&#34;name&#34;</span>];
</span></span><span style=display:flex><span>NSNumber <span style=color:#f92672>*</span>age <span style=color:#f92672>=</span> dictionary[<span style=color:#e6db74>@&#34;age&#34;</span>];
</span></span><span style=display:flex><span>NSString <span style=color:#f92672>*</span>gender <span style=color:#f92672>=</span> dictionary[<span style=color:#e6db74>@&#34;gender&#34;</span>];
</span></span></code></pre></div><h2 id=property-in-objc>Property in objc</h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span><span style=color:#66d9ef>@interface</span> <span style=color:#a6e22e>MyObject</span> : <span style=color:#a6e22e>NSObject</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> memberVar1; <span style=color:#75715e>// æ˜¾å¼åœ°å£°æ˜å®ä¾‹å˜é‡
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>id</span>  memberVar2;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>@interface</span> <span style=color:#a6e22e>HotDiscussionModel</span> : <span style=color:#a6e22e>NSObject</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>@property</span> (<span style=color:#66d9ef>nonatomic</span>, <span style=color:#66d9ef>assign</span>) NSString <span style=color:#f92672>*</span>guid;
</span></span><span style=display:flex><span><span style=color:#66d9ef>@property</span> (<span style=color:#66d9ef>nonatomic</span>, <span style=color:#66d9ef>assign</span>) NSString <span style=color:#f92672>*</span>picUrl;
</span></span><span style=display:flex><span><span style=color:#66d9ef>@property</span> (<span style=color:#66d9ef>nonatomic</span>, <span style=color:#66d9ef>assign</span>) NSString <span style=color:#f92672>*</span>hotLink;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>@end</span>
</span></span></code></pre></div><p>è¿™ä¸¤æ®µä»£ç çš„åŒºåˆ«åœ¨äºå®šä¹‰å®ä¾‹å˜é‡çš„æ–¹å¼ä¸åŒã€‚</p><p>ç¬¬ä¸€æ®µä»£ç åœ¨ @interface è¯­å¥ä¸­å£°æ˜äº†å®ä¾‹å˜é‡ memberVar1 å’Œ memberVar2ã€‚è¿™ç§æ–¹å¼æ˜¯æ—©æœŸ Objective-C çš„å†™æ³•ï¼Œåœ¨ç°ä»£ Objective-C ä¸­ä¸å¤ªå¸¸è§äº†ã€‚</p><p>è€Œç¬¬äºŒæ®µä»£ç åˆ™ä½¿ç”¨äº†ç°ä»£ Objective-C çš„å±æ€§å£°æ˜æ–¹å¼ï¼Œä½¿ç”¨ @property æ¥å®šä¹‰å±æ€§ï¼Œä¸éœ€è¦æ˜¾å¼åœ°å£°æ˜å®ä¾‹å˜é‡ã€‚ç¼–è¯‘å™¨ä¼šè‡ªåŠ¨ä¸ºå±æ€§ç”Ÿæˆå¯¹åº”çš„å®ä¾‹å˜é‡ _guidã€_picUrl å’Œ _hotLinkã€‚</p><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåœ¨ç¬¬äºŒæ®µä»£ç ä¸­ï¼Œå±æ€§çš„ assign å…³é”®å­—è¡¨ç¤ºè¯¥å±æ€§çš„ setter æ–¹æ³•ä¼šç›´æ¥å°†ä¼ å…¥çš„å‚æ•°èµ‹å€¼ç»™å®ä¾‹å˜é‡ï¼Œä¸ä¼šè¿›è¡Œå†…å­˜ç®¡ç†ã€‚è€Œ retain å’Œ copy åˆ™ä¼šè‡ªåŠ¨å¤„ç†å†…å­˜ç®¡ç†ï¼Œretain è¡¨ç¤º setter æ–¹æ³•ä¼šå¯¹ä¼ å…¥çš„å¯¹è±¡è¿›è¡Œå¼•ç”¨è®¡æ•° +1 çš„æ“ä½œï¼Œè€Œ copy è¡¨ç¤º setter æ–¹æ³•ä¼šå¯¹ä¼ å…¥çš„å¯¹è±¡è¿›è¡Œä¸€ä»½æ‹·è´ï¼Œç„¶åè¿›è¡Œå¼•ç”¨è®¡æ•°çš„æ“ä½œã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œå¯¹äºå¯¹è±¡ç±»å‹çš„å±æ€§ï¼Œæˆ‘ä»¬åº”è¯¥ä½¿ç”¨ copy æˆ– strong æ¥è¿›è¡Œå†…å­˜ç®¡ç†ï¼Œè€Œå¯¹äºåŸºæœ¬æ•°æ®ç±»å‹çš„å±æ€§ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ assignã€‚</p><h2 id=property-ä¿®é¥°ç¬¦>Property ä¿®é¥°ç¬¦</h2><blockquote><p><a href=https://www.jianshu.com/p/4fb51144d4ca>iOS ä¸­å®šä¹‰å±æ€§æ—¶çš„atomicã€nonatomicã€copyã€assignã€strongã€weakå‡ ä¸ªç‰¹æ€§çš„åŒºåˆ«</a></p></blockquote><h3 id=atomic>atomic</h3><ul><li>é»˜è®¤å±æ€§ã€‚</li><li>å½“å‰è¿›ç¨‹è¿›è¡Œåˆ°ä¸€åŠï¼Œå…¶ä»–çº¿ç¨‹æ¥è®¿é—®å½“å‰çº¿ç¨‹ï¼Œå¯ä»¥ä¿è¯å…ˆæ‰§è¡Œå®Œæ¯•å½“å‰çº¿ç¨‹ã€‚</li><li>åªæ˜¯ä¿è¯setter/getter å®Œæ•´ï¼Œä¸æ˜¯çº¿ç¨‹å®‰å…¨ã€‚</li></ul><h3 id=nonatomic>nonatomic</h3><ul><li>éé»˜è®¤å±æ€§ã€‚</li><li>ä¸¤ä¸ªçº¿ç¨‹åŒæ—¶è®¿é—®åŒä¸€ä¸ªå±æ€§å°†ä¼šå¯¼è‡´æ— æ³•é¢„è®¡çš„ç»“æœã€‚</li><li>ä¼˜ç‚¹æ˜¯ç¨‹åºè¿è¡Œé€Ÿåº¦å¿«ã€‚</li></ul><h3 id=copy>copy</h3><ul><li>æ˜¯ownerï¼Œä¸æ˜¯referenceï¼ˆå¼•ç”¨ï¼‰ã€‚å½“å¯¹è±¡å¯å˜æ—¶ï¼Œå¯è®¾ç½®ä¸ºcopyï¼Œç”¨äºè·å–æ­¤æ—¶å€¼çš„å‰¯æœ¬ã€‚</li><li>æ–°çš„å¯¹è±¡å¼•ç”¨è®¡æ•°ä¸º1ï¼Œä¸åŸå§‹å¯¹è±¡å¼•ç”¨è®¡æ•°æ— å…³ï¼Œä¸”åŸå§‹å¯¹è±¡å¼•ç”¨è®¡æ•°ä¸ä¼šæ”¹å˜ã€‚</li><li>ä½¿ç”¨copyåˆ›å»ºçš„æ–°å¯¹è±¡ä¹Ÿæ˜¯å¼ºå¼•ç”¨ï¼Œä½¿ç”¨å®Œæˆåéœ€è¦è´Ÿè´£é‡Šæ”¾è¯¥å¯¹è±¡ã€‚</li><li>copyç‰¹æ€§å¯ä»¥å‡å°‘å¯¹è±¡å¯¹ä¸Šä¸‹æ–‡çš„ä¾èµ–ã€‚æ–°å¯¹è±¡ã€åŸå§‹å¯¹è±¡ä¸­ä»»ä¸€å¯¹è±¡çš„å€¼æ”¹å˜ä¸ä¼šå½±å“å¦ä¸€å¯¹è±¡çš„å€¼ã€‚</li><li>è¦æƒ³è®¾ç½®è¯¥å¯¹è±¡çš„ç‰¹æ€§ä¸ºcopyï¼Œè¯¥å¯¹è±¡å¿…é¡»éµå®ˆNSCopyingåè®®ï¼ŒFoundationç±»é»˜è®¤å®ç°äº†NSCopyingåè®®ï¼Œæ‰€ä»¥åªéœ€è¦ä¸ºè‡ªå®šä¹‰çš„ç±»å®ç°è¯¥åè®®å³å¯ã€‚æ›´å…¨é¢äº†è§£NSCopyingåè®®ï¼ŒæŸ¥çœ‹ æ·±å¤åˆ¶ã€æµ…å¤åˆ¶ã€copyã€mutableCopy ä¸€æ–‡ã€‚</li></ul><h3 id=assign>assign</h3><ul><li>ä¸copyç›¸åï¼Œåªæ˜¯referenceï¼Œä¸æ˜¯ownerã€‚åªè¿”å›æŒ‡é’ˆã€‚</li><li>ç”¨äºfloatã€intã€BOOLç­‰ç±»å‹ã€‚</li><li>é‡Šæ”¾åå†å‘é€æ¶ˆæ¯ä¼šå¯¼è‡´ç¨‹åºå´©æºƒã€‚</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span><span style=color:#66d9ef>@property</span> (<span style=color:#66d9ef>nonatomic</span>, <span style=color:#66d9ef>assign</span>) <span style=color:#66d9ef>BOOL</span> isSystemNotificationOn;
</span></span></code></pre></div><h3 id=strong>strong</h3><ul><li>é»˜è®¤å±æ€§</li><li>strong = retain iOSå¼•å…¥ARCåï¼Œç”¨strongæ›¿ä»£äº†retainã€‚</li><li>åˆ›å»ºä¸€ä¸ªå¼ºå¼•ç”¨çš„æŒ‡é’ˆï¼Œå¼•ç”¨å¯¹è±¡å¼•ç”¨è®¡æ•°åŠ 1ã€‚</li><li>strongç‰¹æ€§è¡¨ç¤ºä¸¤ä¸ªå¯¹è±¡å†…å­˜åœ°å€ç›¸åŒï¼ˆå»ºç«‹ä¸€ä¸ªæŒ‡é’ˆï¼Œè¿›è¡ŒæŒ‡é’ˆæ‹·è´ï¼‰ï¼Œå†…å®¹ä¼šä¸€ç›´ä¿æŒç›¸åŒï¼Œç›´åˆ°æ›´æ”¹ä¸€æ–¹å†…å­˜åœ°å€ï¼Œæˆ–å°†å…¶è®¾ç½®ä¸ºnilã€‚</li><li>å¦‚æœæœ‰å¤šä¸ªå¯¹è±¡åŒæ—¶å¼•ç”¨ä¸€ä¸ªå±æ€§ï¼Œä»»ä¸€å¯¹è±¡å¯¹è¯¥å±æ€§çš„ä¿®æ”¹éƒ½ä¼šå½±å“å…¶ä»–å¯¹è±¡è·å–çš„å€¼ã€‚</li><li>æ‰€æœ‰å®ä¾‹å˜é‡ã€å±€éƒ¨å˜é‡é»˜è®¤éƒ½æ˜¯strongã€‚</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span><span style=color:#66d9ef>@property</span> (<span style=color:#66d9ef>nonatomic</span>, <span style=color:#66d9ef>strong</span>) UITableView <span style=color:#f92672>*</span>tableView;
</span></span></code></pre></div><h3 id=weak>weak</h3><ul><li>åªæ˜¯referenceï¼Œä¸æ˜¯ownerã€‚å³å¼•ç”¨è®¡æ•°ä¸ä¼šåŠ 1ã€‚</li><li>å¯å°†weakå¯¹è±¡è®¾ä¸ºnilï¼Œå‘nilå‘é€æ¶ˆæ¯ï¼Œä»€ä¹ˆéƒ½ä¸ä¼šæ‰§è¡Œï¼Œç¨‹åºä¹Ÿä¸ä¼šå´©æºƒã€‚</li><li>ä»£ç†ä½¿ç”¨weakã€‚delegateå‡ ä¹ä¸€ç›´ownä»£ç†å¯¹è±¡ï¼Œæ‰€ä»¥ä»£ç†å¯¹è±¡åº”è¯¥å¯¹ä»£ç†ä½¿ç”¨weakï¼Œå¦åˆ™ä¼šå½¢æˆå¾ªç¯å¼•ç”¨ï¼ˆretain cycleï¼‰ã€‚ä½†ä¹Ÿæœ‰ä¾‹å¤–ï¼Œå¦‚æœä»£ç†å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸæ¯”ä»£ç†çŸ­ï¼Œä»£ç†å¯¹è±¡ä¹Ÿå¯ä»¥ä½¿ç”¨strongã€‚</li><li>IBOutletå¸¸ç”¨weakã€‚</li></ul><blockquote><p>å…³äºstrongå’Œweakå¯¹æ¯”çš„ä¸€ä¸ªå½¢è±¡ä¾‹å­ï¼š</p><p>å‡è®¾å¯¹è±¡æ˜¯ä¸€æ¡å°ç‹—ï¼Œå°ç‹—æƒ³è·‘èµ°ï¼ˆbe deallocated)ã€‚</p><p>strongç±»å‹å°±åƒæ˜¯æ‹´ç‹—çš„ç»³å­ï¼Œåªè¦æœ‰ä¸€æ¡ç»³å­æ “ä½ç‹—ï¼Œå®ƒå°±ä¸èƒ½è·‘èµ°ï¼Œå¦‚æœæœ‰äº”æ¡ç»³å­æ‹´ç€åŒä¸€æ¡ç‹—ï¼ˆäº”ä¸ªstrongç±»å‹æŒ‡å‘åŒä¸€ä¸ªå¯¹è±¡ï¼‰ï¼Œåªæœ‰å½“äº”æ¡ç»³å­éƒ½é‡Šæ”¾ç‹—æ‰å¯ä»¥è·‘èµ°ã€‚</p><p>weakç±»å‹å°±åƒæ˜¯å°å­©å­çœ‹ç€å°ç‹—è¯´ï¼šçœ‹è¿™é‡Œæœ‰å°ç‹—ã€‚åªè¦è¿˜æœ‰ç»³å­æ‹´ç€å°ç‹—ï¼Œå°å­©å­ä»¬å°±å¯ä»¥ç»§ç»­æŒ‡ç€å°ç‹—è¯´ï¼šçœ‹è¿™é‡Œæœ‰å°ç‹—ã€‚å½“ç»³å­é‡Šæ”¾äº†çš„æ—¶å€™ï¼Œä¸ç®¡æœ‰å¤šå°‘å°å­©å­ä¾æ—§åœ¨æŒ‡ç€å°ç‹—è¯´ï¼šçœ‹è¿™é‡Œçš„å°ç‹—ã€‚å°ç‹—éƒ½ä¼šè·‘æ‰ã€‚</p><p>å½“æœ€åä¸€ä¸ªstrongæŒ‡é’ˆä¸å†æŒ‡å‘è¿™ä¸ªå¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡å°±ä¼šè¢«é‡Šæ”¾ï¼Œæ­¤æ—¶ï¼Œæ‰€æœ‰æŒ‡å‘è¿™ä¸ªå¯¹è±¡çš„weakæŒ‡é’ˆéƒ½å°†è¢«æ¸…ç©ºã€‚</p></blockquote><h2 id=åˆå§‹åŒ–-initializationhttpsdeveloperapplecomlibraryarchivedocumentationcocoaconceptualprogrammingwithobjectivecworkingwithobjectsworkingwithobjectshtmlapple_refdocuidtp40011210-ch4-sw1>åˆå§‹åŒ– <a href=https://developer.apple.com/library/archive/documentation/Cocoa/Conceptual/ProgrammingWithObjectiveC/WorkingwithObjects/WorkingwithObjects.html#//apple_ref/doc/uid/TP40011210-CH4-SW1>Initialization</a></h2><p>Use new to Create an Object If No Arguments Are Needed for Initialization
Itâ€™s also possible to create an instance of a class using the new class method. This method is provided by NSObject and doesnâ€™t need to be overridden in your own subclasses.</p><p>Itâ€™s effectively the same as calling alloc and init with no arguments:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span>XYZObject <span style=color:#f92672>*</span>object <span style=color:#f92672>=</span> [XYZObject new];
</span></span><span style=display:flex><span><span style=color:#75715e>// is effectively the same as:
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>XYZObject <span style=color:#f92672>*</span>object <span style=color:#f92672>=</span> [[XYZObject alloc] init];
</span></span></code></pre></div><h2 id=lazy-instantiation--ä¸‹åˆ’çº¿å˜é‡>Lazy instantiation & ä¸‹åˆ’çº¿å˜é‡</h2><blockquote><p><a href=https://www.jianshu.com/p/986adc6fe3ca>Objective-C æ‡’åŠ è½½æ²¡æœ‰è°ƒç”¨ï¼Ÿ</a></p></blockquote><p>æ€»ç»“ï¼šself.å¯¹å±æ€§çš„getå’Œsetæ–¹æ³•é—´æ¥è°ƒç”¨ï¼Œä¸‹åˆ’çº¿_æ˜¯ç›´æ¥å¯¹å®ä¾‹å˜é‡æ“ä½œã€‚</p><blockquote><p>å‰é¢å·²ç»è¯´åˆ°ï¼Œåœ¨iOS 5ä¹‹åï¼Œä½¿ç”¨<code>@property</code>å®šä¹‰ä¸€ä¸ªå±æ€§åï¼Œç³»ç»Ÿä¼šé»˜è®¤ç”Ÿæˆ<code>getter</code>å’Œ<code>setter</code>æ–¹æ³•ã€‚æˆ‘ä»¬ç”³æ˜äº†ä¸€ä¸ªå±æ€§ï¼Œä½†å¹¶ä¸æ˜¯ç«‹å³å°±è¦ä½¿ç”¨è¿™ä¸ªå¯¹è±¡ï¼Œæ²¡å¿…è¦æŠŠæ‰€æœ‰çš„å±æ€§éƒ½æ”¾åœ¨<code>viewDidLoad</code>æ–¹æ³•ä¸­åˆå§‹åŒ–ï¼Œç­‰åˆ°è¦ä½¿ç”¨æ—¶å†åŠ è½½(åˆå§‹åŒ–)ã€‚</p></blockquote><p>ï¼ˆ1ï¼‰ã€å½“å¼€å‘è€…ä½¿ç”¨æ‡’åŠ è½½æœ¬è´¨å°±æ˜¯é‡å†™äº† <code>getter()</code> æ–¹æ³•ï¼›</p><p>ï¼ˆ2ï¼‰ã€æ‡’åŠ è½½åœ¨åŠ è½½æ—¶å¿…é¡»åˆ¤ç©ºï¼›</p><p>ï¼ˆ3ï¼‰ã€æ‡’åŠ è½½åˆ¤ç©ºå¿…é¡»ä½¿ç”¨ä¸‹åˆ’çº¿ï¼Œå¦‚ä¸‹é¢ä»£ç ï¼ŒXcode 100% ä¼šæŠ¥é”™çš„ï¼Œå‰é¢å·²ç»è¯´æ˜ï¼Œself å°±æ˜¯è°ƒç”¨äº† setter è·Ÿ getter æ–¹æ³•ï¼Œæ‡’åŠ è½½æœ¬è´¨å°±æ˜¯é‡å†™äº† getter æ–¹æ³•ï¼Œä½†åœ¨æ­¤å¤„å±æ€§æœ¬èº«è¿˜æ²¡åˆå§‹åŒ–,æ˜¯ nil, ä½†æ˜¯ getter è¿”å›çš„ä¹Ÿæ˜¯ nil, é‚£åœ¨åˆ¤æ–­æ—¶å°±ä¼šè¿›å…¥æ­»å¾ªç¯ï¼›</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span><span style=color:#75715e>//é”™è¯¯çš„æ‡’åŠ è½½ç¤ºèŒƒä¸€
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>-(NSArray<span style=color:#f92672>*</span>)<span style=color:#a6e22e>PageddatafromServerList</span> {   
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span>(self.PageddatafromServerList <span style=color:#f92672>==</span> nil)   {     
</span></span><span style=display:flex><span>        self.PageddatafromServerList <span style=color:#f92672>=</span> [NSArray array];    
</span></span><span style=display:flex><span>    }  
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> self.PageddatafromServerList;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>//é”™è¯¯çš„æ‡’åŠ è½½ç¤ºèŒƒäºŒ
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>-(NSArray<span style=color:#f92672>*</span>)<span style=color:#a6e22e>PageddatafromServerList</span> {   
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span>(self.PageddatafromServerList) <span style=color:#75715e>//æ­¤å¤„ä¸€å®šè¦åˆ¤ç©º   
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    {     
</span></span><span style=display:flex><span>        self.PageddatafromServerList <span style=color:#f92672>=</span> [NSArray array];    
</span></span><span style=display:flex><span>    }  
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> self.PageddatafromServerList;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>//æ­£ç¡®çš„æ‡’åŠ è½½æ–¹å¼
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>- (NSArray <span style=color:#f92672>*</span>)<span style=color:#a6e22e>DepartmentArray</span> {   
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span>(_DepartmentArray <span style=color:#f92672>==</span> nil) {      
</span></span><span style=display:flex><span>        _DepartmentArray <span style=color:#f92672>=</span> [NSArray array];   
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> _DepartmentArray;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p><img src=https://upload-images.jianshu.io/upload_images/1214383-1d112281de77c800.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/651/format/webp alt=æ‡’åŠ è½½é—®é¢˜ä»£ç ></p><blockquote><p>åˆ†æï¼šæœ€ä¸Šé¢è´´å‡ºçš„ä»£ç å‡ºç°çš„åŸå› ï¼š</p><p>ç”±äºè¿™ä¸ªå†™è¿™ä¸ªä»£ç çš„å“¥ä»¬ä½¿ç”¨äº†æ‡’åŠ è½½ï¼Œè€Œæ‡’åŠ è½½æœ¬è´¨ä¸Šæ˜¯é‡å†™äº†å±æ€§çš„ <code>getter</code> æ–¹æ³•ï¼Œæœ¬æ–‡ç¬¬äºŒæ¡ä¹Ÿè¯´æ˜äº† <code>self.</code> å’Œ <code>_</code> çš„åŒºåˆ«ï¼Œæ‰€ä»¥åœ¨èµ‹å€¼æ—¶ä½¿ç”¨ <code>_dataArray</code>ï¼Œå°±æ²¡æœ‰è°ƒ <code>dataArray</code> çš„ <code>getter</code> æ–¹æ³•ï¼Œæ‡’åŠ è½½æ ¹æœ¬å°±æ²¡æœ‰è°ƒï¼ï¼ï¼æ‰€ä»¥å‡ºç°çš„æƒ…å†µå°±æ˜¯ç»™ <code>dataArray</code> èµ‹å€¼åä¾æ—§æ˜¯ <code>nil</code>ï¼</p><p>ç›´æ¥å°±ä¸¾ä¸ªğŸŒ°æ¥è¯´æ˜å§ï¼šæˆ‘ä¹°äº†ä¸ªè¶…çº§çœç”µçš„å°ç¯ï¼Œå›å®¶åæˆ‘ç»™å°ç¯é€šä¸Šç”µåå‘ç°æ€ä¹ˆæŠ˜è…¾è¿™ä¸ªå°ç¯éƒ½ä¸äº®ï¼Œä¸ºä»€ä¹ˆå‘¢ï¼Ÿå› ä¸ºæˆ‘æ²¡æœ‰æ‘å°ç¯çš„å¼€å…³ï¼ï¼</p></blockquote><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span><span style=color:#75715e>// é‚£ä¹ˆæ‡’åŠ è½½çš„æ­£ç¡®æ‰“å¼€æ–¹å¼æ˜¯æ€æ ·çš„å‘¢ï¼Ÿè¯·çœ‹ä»£ç ï¼š
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>@interface</span> <span style=color:#a6e22e>EOCClass</span> : <span style=color:#a6e22e>NSObject</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>@property</span> (<span style=color:#66d9ef>strong</span>, <span style=color:#66d9ef>nonatomic</span>) NSArray <span style=color:#f92672>*</span>LazyLoading;
</span></span><span style=display:flex><span>-(<span style=color:#66d9ef>void</span>)<span style=color:#a6e22e>LazyLoadingData</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>@end</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>-</span>(<span style=color:#66d9ef>void</span>)LazyLoadingData {
</span></span><span style=display:flex><span>    NSLog(<span style=color:#e6db74>@&#34;_LazyLoading============%@&#34;</span>,_LazyLoading);Â  Â  
</span></span><span style=display:flex><span>    NSLog(<span style=color:#e6db74>@&#34;self.LazyLoading=============%@&#34;</span>,self.LazyLoading);Â  Â  
</span></span><span style=display:flex><span>    NSLog(<span style=color:#e6db74>@&#34;=============%@&#34;</span>,[self LazyLoading]);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>-</span>(NSArray<span style=color:#f92672>*</span>)LazyLoading {Â   
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span>(<span style=color:#f92672>!</span>_LazyLoading) {Â  Â   
</span></span><span style=display:flex><span>        _LazyLoading<span style=color:#f92672>=</span> [NSArray array];Â   
</span></span><span style=display:flex><span>    }Â  
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> _LazyLoading;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p><img src=https://upload-images.jianshu.io/upload_images/1214383-624cf0347e44f040.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/593/format/webp alt=æ‡’åŠ è½½å›¾ç‰‡></p><blockquote><p>é‚£ä¹ˆï¼Œé€šè¿‡ä¸Šé¢çš„ä»£ç ï¼Œå¯ä»¥çœ‹å‡ºï¼Œä½¿ç”¨äº†æ‡’åŠ è½½åï¼Œå½“è¦ä½¿ç”¨è¿™ä¸ªå¯¹è±¡æ—¶å¯ä»¥ç”¨<code>self.</code> è°ƒç”¨è¯¥å¯¹è±¡æˆ–è€…ç›´æ¥è°ƒç”¨è¿™ä¸ªå¯¹è±¡çš„ <code>getter</code> æ–¹æ³•ï¼Œå¦‚æœç”¨ä¸‹åˆ’çº¿è°ƒç”¨å®ä¾‹å˜é‡é‚£ä¹ˆæ‡’åŠ è½½å°±æ²¡æœ‰è°ƒç”¨ï¼Œæœ€ç»ˆé€ æˆçš„ç»“æœå°±æ˜¯èµ‹å€¼äº†ä¹Ÿæ˜¯ <code>nil</code>;</p></blockquote><h3 id=another-example-on-iosé¢è¯•å®å…¸httpsheron-newlandgithubioassetsknowledgesindexhtml>Another Example on <a href=https://heron-newland.github.io/assets/knowledges/index.html>iOSé¢è¯•å®å…¸</a></h3><blockquote><p><a href=https://heron-newland.github.io/assets/knowledges/%E4%BB%80%E4%B9%88%E6%98%AF%E6%87%92%E5%8A%A0%E8%BD%BD.html>ä»€ä¹ˆæ˜¯æ‡’åŠ è½½</a></p><p>æ‡’æ±‰æ¨¡å¼ï¼Œåªåœ¨ç”¨åˆ°çš„æ—¶å€™æ‰å»åˆå§‹åŒ–ï¼Œä¹Ÿå¯ä»¥ç†è§£æˆå»¶æ—¶åŠ è½½,ä¸€èˆ¬æ‡’åŠ è½½å†™åœ¨getteræ–¹æ³•ä¸­ã€‚æˆ‘è§‰å¾—æœ€å¥½ä¹Ÿæœ€ç®€å•çš„ä¸€ä¸ªåˆ—å­å°±æ˜¯ <code>tableView</code> ä¸­å›¾ç‰‡çš„åŠ è½½æ˜¾ç¤ºäº†ã€‚ä¸€ä¸ªå»¶æ—¶è½½ï¼Œé¿å…å†…å­˜è¿‡é«˜ï¼Œä¸€ä¸ªå¼‚æ­¥åŠ è½½ï¼Œé¿å…çº¿ç¨‹å µå¡ã€‚</p></blockquote><h3 id=swift--objc-lazy>Swift & Objc Lazy</h3><p><a href=https://blog.csdn.net/I_HOPE_SOAR/article/details/121306121>objective-cå’Œswiftä¸­æ‡’åŠ è½½çš„åŒºåˆ«</a></p><p>ocä¸­æ‡’åŠ è½½çš„å†™æ³•å°±æ˜¯ï¼Œå¦‚æœä¸€ä¸ªå˜é‡ä¸ºç©ºï¼Œåˆ™è¿›è¡Œä¸€å®šæ“ä½œï¼Œå¦åˆ™returnåŸæ¥çš„å€¼</p><p>è€Œswiftä¸­åªç”¨å†™ä¸€ä¸ªlazyæ ‡è¯†ç¬¦,swiftä¸­çš„æ‡’åŠ è½½åªæœ‰ç¬¬ä¸€æ¬¡è°ƒç”¨æ­¤å˜é‡æ—¶æ‰æ‰§è¡Œé—­åŒ…ä¸­çš„å†…å®¹ï¼Œä¸è®ºæ˜¯å¦ä¸ºç©ºï¼Œåé¢éƒ½ä¸ä¼šæ‰§è¡Œäº†ã€‚</p><p>æ‰€ä»¥ä¸¤è€…çš„åŒºåˆ«å°±åœ¨äºï¼Œå¦‚æœè°ƒç”¨äº†ä¸€æ¬¡ocä¸­çš„æ‡’åŠ è½½ï¼Œå†æŠŠå˜é‡è®¾ç½®ä¸ºç©ºï¼Œç¬¬äºŒæ¬¡è¿˜æ˜¯ä¼šè¿›å…¥æ‡’åŠ è½½ã€‚</p><p>è€Œswiftè¯­è¨€ä¸­ï¼Œè°ƒç”¨äº†ä¸€æ¬¡æ‡’åŠ è½½ï¼Œå†æŠŠå˜é‡è®¾ç½®ä¸ºç©ºï¼Œç¬¬äºŒæ¬¡å°±ä¸ä¼šè¿›å…¥æ‡’åŠ è½½äº†ã€‚</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span><span style=color:#75715e>//swift</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>import</span> <span style=color:#a6e22e>Foundation</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Test</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>var</span> name: String
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>lazy</span> <span style=color:#66d9ef>var</span> greeting: String? = {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#e6db74>&#34;hello&#34;</span>
</span></span><span style=display:flex><span>    }()
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>lazy</span> <span style=color:#66d9ef>var</span> eatting: String = {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#e6db74>&#34;rice&#34;</span>
</span></span><span style=display:flex><span>    }()
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>init</span>(name: String) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>self</span>.name = name
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> test = Test(name: <span style=color:#e6db74>&#34;init&#34;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> a = test.greeting<span style=color:#75715e>//ç¬¬ä¸€æ¬¡è°ƒç”¨</span>
</span></span><span style=display:flex><span>print(a!)<span style=color:#75715e>//è¾“å‡ºhello</span>
</span></span><span style=display:flex><span>test.greeting = <span style=color:#66d9ef>nil</span><span style=color:#75715e>//è®¾ç½®ä¸ºç©º</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> b = test.greeting<span style=color:#75715e>//ç¬¬äºŒæ¬¡è°ƒç”¨</span>
</span></span><span style=display:flex><span>print(b)<span style=color:#75715e>//è¾“å‡ºnil</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span><span style=color:#75715e>//objectivec
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#75715e>#import &lt;Foundation/Foundation.h&gt;
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>@interface</span> <span style=color:#a6e22e>Test</span> : <span style=color:#a6e22e>NSObject</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>@property</span> (<span style=color:#66d9ef>nonatomic</span>) NSString <span style=color:#f92672>*</span>name;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>@end</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>@implementation</span> <span style=color:#a6e22e>Test</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>//lazy load
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>- (NSString <span style=color:#f92672>*</span>)<span style=color:#a6e22e>name</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span>(<span style=color:#f92672>!</span>_name) {
</span></span><span style=display:flex><span>        _name <span style=color:#f92672>=</span> <span style=color:#e6db74>@&#34;hello&#34;</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> _name;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>- (<span style=color:#66d9ef>void</span>)<span style=color:#a6e22e>printt</span> {
</span></span><span style=display:flex><span>    NSLog(<span style=color:#e6db74>@&#34;%@&#34;</span>,_name);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>@end</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> main(<span style=color:#66d9ef>int</span> argc, <span style=color:#66d9ef>const</span> <span style=color:#66d9ef>char</span> <span style=color:#f92672>*</span> argv[]) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>@autoreleasepool</span> {
</span></span><span style=display:flex><span>        Test <span style=color:#f92672>*</span>test <span style=color:#f92672>=</span> [[Test alloc] init];
</span></span><span style=display:flex><span>        NSLog(<span style=color:#e6db74>@&#34;%@&#34;</span>,test.name);<span style=color:#75715e>//ç¬¬ä¸€æ¬¡è°ƒç”¨ï¼Œè¾“å‡ºhello
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        test.name <span style=color:#f92672>=</span> nil;
</span></span><span style=display:flex><span>        NSLog(<span style=color:#e6db74>@&#34;%@&#34;</span>,test.name);<span style=color:#75715e>//ç¬¬äºŒæ¬¡è°ƒç”¨ï¼Œè¾“å‡ºhelloä¸¤æ¬¡è¿›å…¥æ‡’åŠ è½½
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=see-more-on>See more on</h3><ul><li><a href=https://blog.csdn.net/yxys01/article/details/51489938>Objective-Cå­¦ä¹ ä¹‹æ‡’åŠ è½½ï¼ˆå»¶è¿ŸåŠ è½½ï¼‰</a></li><li><a href=https://stackoverflow.com/questions/11769562/lazy-instantiation-in-objective-c-iphone-development>Lazy instantiation in Objective-C/ iPhone development</a></li></ul><h2 id=struct-in-objective-c>Struct in Objective-C</h2><ul><li><a href=https://blog.csdn.net/srn214/article/details/47788231>OCä¸­å®šä¹‰äº†ä¸€ä¸ªç»“æ„ä½“(struct)ï¼Œè®¾ç½®ç»“æ„ä½“çš„å€¼</a></li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span><span style=color:#75715e>// main.m æ–‡ä»¶
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#75715e>#import &lt;Foundation/Foundation.h&gt;
</span></span></span><span style=display:flex><span><span style=color:#75715e>#import &#34;Dog.h&#34;
</span></span></span><span style=display:flex><span><span style=color:#75715e>#import &#34;Person.h&#34;
</span></span></span><span style=display:flex><span><span style=color:#75715e>#import &#34;Student.h&#34;
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>(<span style=color:#66d9ef>int</span> argc, <span style=color:#66d9ef>const</span> <span style=color:#66d9ef>char</span> <span style=color:#f92672>*</span> argv[]) {
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>@autoreleasepool</span> {
</span></span><span style=display:flex><span>        Person <span style=color:#f92672>*</span>p1 <span style=color:#f92672>=</span> [[Person alloc] init];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e>// ç»™å¯¹è±¡ä¸­çš„ç»“æ„ä½“(struct)èµ‹å€¼
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#75715e>// å¦‚æœç›´æ¥ç”¨cè¯­è¨€çš„æ–¹å¼ç›´æ¥èµ‹å€¼å°±ä¼šæŠ¥é”™ï¼Œå¦‚s-&gt;birthday={1990,12,11};å°±ä¼šæŠ›å‡ºé”™è¯¯
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#75715e>// å£°æ˜å¹¶åˆå§‹åŒ–ä¸€ä¸ªstructç±»å‹ä¸´æ—¶å˜é‡ï¼Œå†æ•´ä¸ªèµ‹å€¼ç»™birthdayæˆå‘˜ã€‚
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span>        Date d <span style=color:#f92672>=</span> {<span style=color:#ae81ff>2015</span>, <span style=color:#ae81ff>12</span>, <span style=color:#ae81ff>22</span>};
</span></span><span style=display:flex><span>        p1.birthday <span style=color:#f92672>=</span> d;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Person.h æ–‡ä»¶
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#75715e>#import &lt;Foundation/Foundation.h&gt;
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#75715e>// ç”Ÿæ—¥
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>typedef</span> <span style=color:#66d9ef>struct</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> year; <span style=color:#75715e>// å¹´
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>int</span> month; <span style=color:#75715e>// æœˆ
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>int</span> day; <span style=color:#75715e>// æ—¥
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>} Date;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// æ€§åˆ«
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>typedef</span> <span style=color:#66d9ef>enum</span> {
</span></span><span style=display:flex><span>    XingBieMan,
</span></span><span style=display:flex><span>    XingBieWoman
</span></span><span style=display:flex><span>} XingBie;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>@interface</span> <span style=color:#a6e22e>Person</span> : <span style=color:#a6e22e>NSObject</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// å§“åçš„setterå’Œgetter
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>@property</span> (<span style=color:#66d9ef>nonatomic</span>, <span style=color:#66d9ef>retain</span>) NSString <span style=color:#f92672>*</span>name;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// ç”Ÿæ—¥çš„setterå’Œgetter
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>@property</span> (<span style=color:#66d9ef>nonatomic</span>, <span style=color:#66d9ef>assign</span>) Date birthday;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// å¹´é¾„çš„setterå’Œgetter
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>@property</span> (<span style=color:#66d9ef>nonatomic</span>, <span style=color:#66d9ef>assign</span>) <span style=color:#66d9ef>int</span> age;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// æ€§åˆ«
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>@property</span> (<span style=color:#66d9ef>nonatomic</span>, <span style=color:#66d9ef>assign</span>) XingBie sex;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// èº«é«˜
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>@property</span> (<span style=color:#66d9ef>nonatomic</span>, <span style=color:#66d9ef>assign</span>) <span style=color:#66d9ef>double</span> height;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// ä½“é‡
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>@property</span> (<span style=color:#66d9ef>nonatomic</span>, <span style=color:#66d9ef>assign</span>) <span style=color:#66d9ef>double</span> weight;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>@end</span>
</span></span></code></pre></div><h2 id=turn-json-file-into-model-object>Turn JSON File into Model Object</h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;name&#34;</span>: <span style=color:#e6db74>&#34;John Doe&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;age&#34;</span>: <span style=color:#ae81ff>30</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span><span style=color:#75715e>// Person.h æ–‡ä»¶å†…å®¹ï¼š
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#75715e>#import &lt;Foundation/Foundation.h&gt;
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>@interface</span> <span style=color:#a6e22e>Person</span> : <span style=color:#a6e22e>NSObject</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>@property</span> (<span style=color:#66d9ef>nonatomic</span>, <span style=color:#66d9ef>strong</span>) NSString <span style=color:#f92672>*</span>name;
</span></span><span style=display:flex><span><span style=color:#66d9ef>@property</span> (<span style=color:#66d9ef>nonatomic</span>, <span style=color:#66d9ef>assign</span>) NSInteger age;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>- (<span style=color:#66d9ef>instancetype</span>)<span style=color:#a6e22e>initWithDictionary:</span>(NSDictionary <span style=color:#f92672>*</span>)dictionary;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>@end</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span><span style=color:#75715e>// Person.m æ–‡ä»¶å†…å®¹ï¼š
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#75715e>#import &#34;Person.h&#34;
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>@implementation</span> <span style=color:#a6e22e>Person</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>- (<span style=color:#66d9ef>instancetype</span>)<span style=color:#a6e22e>initWithDictionary:</span>(NSDictionary <span style=color:#f92672>*</span>)dictionary {
</span></span><span style=display:flex><span>    self <span style=color:#f92672>=</span> [super init];
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (self) {
</span></span><span style=display:flex><span>        _name <span style=color:#f92672>=</span> dictionary[<span style=color:#e6db74>@&#34;name&#34;</span>];
</span></span><span style=display:flex><span>        _age <span style=color:#f92672>=</span> [dictionary[<span style=color:#e6db74>@&#34;age&#34;</span>] integerValue];
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> self;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>@end</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span><span style=color:#75715e>// main.m æ–‡ä»¶å†…å®¹ï¼š
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#75715e>#import &lt;Foundation/Foundation.h&gt;
</span></span></span><span style=display:flex><span><span style=color:#75715e>#import &#34;Person.h&#34;
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>(<span style=color:#66d9ef>int</span> argc, <span style=color:#66d9ef>const</span> <span style=color:#66d9ef>char</span> <span style=color:#f92672>*</span> argv[]) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>@autoreleasepool</span> {
</span></span><span style=display:flex><span>        <span style=color:#75715e>// 1. è¯»å– JSON æ–‡ä»¶
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#75715e>// If you use Xcode CLI
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        NSString <span style=color:#f92672>*</span>filePath <span style=color:#f92672>=</span> <span style=color:#e6db74>@&#34;/Users/frank/Example/CLITesting/CLITesting/person.json&#34;</span>;
</span></span><span style=display:flex><span>        <span style=color:#75715e>// If you use Xcode App
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#75715e>// NSString *filePath = [[NSBundle mainBundle] pathForResource:@&#34;data&#34; ofType:@&#34;json&#34;];
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        NSData <span style=color:#f92672>*</span>jsonData <span style=color:#f92672>=</span> [NSData dataWithContentsOfFile:filePath];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>//        NSLog(@&#34;%@&#34;, jsonData);
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#75715e>// 2. ä½¿ç”¨ NSJSONSerialization å°† JSON æ•°æ®è½¬æ¢ä¸ºå­—å…¸
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        NSError <span style=color:#f92672>*</span>error;
</span></span><span style=display:flex><span>        NSDictionary <span style=color:#f92672>*</span>jsonDictionary <span style=color:#f92672>=</span> [NSJSONSerialization
</span></span><span style=display:flex><span>                                        JSONObjectWithData:jsonData
</span></span><span style=display:flex><span>                                        options:kNilOptions
</span></span><span style=display:flex><span>                                        error:<span style=color:#f92672>&amp;</span>error];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e>// 3. åˆ¤æ–­æ˜¯å¦è½¬æ¢æˆåŠŸ
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#66d9ef>if</span> (error) {
</span></span><span style=display:flex><span>            NSLog(<span style=color:#e6db74>@&#34;Error converting JSON to NSDictionary: %@&#34;</span>, error.localizedDescription);
</span></span><span style=display:flex><span>        } <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>            <span style=color:#75715e>// 4. ä½¿ç”¨å­—å…¸åˆå§‹åŒ– Person å¯¹è±¡
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>            Person <span style=color:#f92672>*</span>person <span style=color:#f92672>=</span> [[Person alloc] initWithDictionary:jsonDictionary];
</span></span><span style=display:flex><span>            NSLog(<span style=color:#e6db74>@&#34;Person name: %@, age: %ld&#34;</span>, person.name, (<span style=color:#66d9ef>long</span>)person.age);
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=array-of-json-objects>Array of JSON Objects</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>[
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;name&#34;</span>: <span style=color:#e6db74>&#34;John Doe&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;age&#34;</span>: <span style=color:#ae81ff>30</span>
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;name&#34;</span>: <span style=color:#e6db74>&#34;Frank Doe&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;age&#34;</span>: <span style=color:#ae81ff>330</span>
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>]
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span><span style=color:#75715e>// 1. è¯»å– JSON æ–‡ä»¶
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>NSString <span style=color:#f92672>*</span>filePath <span style=color:#f92672>=</span> <span style=color:#e6db74>@&#34;/Users/frank/Example/CLITesting/CLITesting/person.json&#34;</span>;
</span></span><span style=display:flex><span>NSData <span style=color:#f92672>*</span>jsonData <span style=color:#f92672>=</span> [NSData dataWithContentsOfFile:filePath];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>//        NSLog(@&#34;%@&#34;, jsonData);
</span></span></span><span style=display:flex><span><span style=color:#75715e>// 2. ä½¿ç”¨ NSJSONSerialization å°† JSON æ•°æ®è½¬æ¢ä¸ºå­—å…¸
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>NSError <span style=color:#f92672>*</span>error;
</span></span><span style=display:flex><span>NSDictionary <span style=color:#f92672>*</span>jsonDictionary <span style=color:#f92672>=</span> [NSJSONSerialization
</span></span><span style=display:flex><span>                                JSONObjectWithData:jsonData
</span></span><span style=display:flex><span>                                options:kNilOptions
</span></span><span style=display:flex><span>                                error:<span style=color:#f92672>&amp;</span>error];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// 3. åˆ¤æ–­æ˜¯å¦è½¬æ¢æˆåŠŸ
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>if</span> (error) {
</span></span><span style=display:flex><span>    NSLog(<span style=color:#e6db74>@&#34;Error converting JSON to NSDictionary: %@&#34;</span>, error.localizedDescription);
</span></span><span style=display:flex><span>} <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>    <span style=color:#75715e>// 4. ä½¿ç”¨å­—å…¸åˆå§‹åŒ– Person å¯¹è±¡
</span></span></span><span style=display:flex><span><span style=color:#75715e>//            Person *person = [[Person alloc] initWithDictionary:jsonDictionary];
</span></span></span><span style=display:flex><span><span style=color:#75715e>//            NSLog(@&#34;Person name: %@, age: %ld&#34;, person.name, (long)person.age);
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    NSMutableArray <span style=color:#f92672>*</span>personArray <span style=color:#f92672>=</span> [NSMutableArray array];
</span></span><span style=display:flex><span>    NSLog(<span style=color:#e6db74>@&#34;%@&#34;</span>, jsonDictionary);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (NSDictionary <span style=color:#f92672>*</span>dict <span style=color:#66d9ef>in</span> jsonDictionary) {
</span></span><span style=display:flex><span>        Person <span style=color:#f92672>*</span>person <span style=color:#f92672>=</span> [[Person alloc] init];
</span></span><span style=display:flex><span>        person.age <span style=color:#f92672>=</span> [dict[<span style=color:#e6db74>@&#34;age&#34;</span>] integerValue];
</span></span><span style=display:flex><span>        person.name <span style=color:#f92672>=</span> dict[<span style=color:#e6db74>@&#34;name&#34;</span>];
</span></span><span style=display:flex><span>        [personArray addObject:person];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    NSLog(<span style=color:#e6db74>@&#34;%@&#34;</span>, personArray);
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=another-example>Another Example</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span><span style=color:#75715e>//
</span></span></span><span style=display:flex><span><span style=color:#75715e>//  main.m
</span></span></span><span style=display:flex><span><span style=color:#75715e>//  CLITesting
</span></span></span><span style=display:flex><span><span style=color:#75715e>//
</span></span></span><span style=display:flex><span><span style=color:#75715e>//  Created by hb24155 on 3/30/23.
</span></span></span><span style=display:flex><span><span style=color:#75715e>//
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#75715e>#import &lt;Foundation/Foundation.h&gt;
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>@interface</span> <span style=color:#a6e22e>HotDetail</span> : <span style=color:#a6e22e>NSObject</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>@property</span> (<span style=color:#66d9ef>nonatomic</span>, <span style=color:#66d9ef>strong</span>) NSString <span style=color:#f92672>*</span>contentId;
</span></span><span style=display:flex><span><span style=color:#66d9ef>@property</span> (<span style=color:#66d9ef>nonatomic</span>, <span style=color:#66d9ef>strong</span>) NSArray<span style=color:#f92672>&lt;</span>NSString <span style=color:#f92672>*&gt;</span> <span style=color:#f92672>*</span>headImageList;
</span></span><span style=display:flex><span><span style=color:#66d9ef>@property</span> (<span style=color:#66d9ef>nonatomic</span>, <span style=color:#66d9ef>strong</span>) NSString <span style=color:#f92672>*</span>pvCount;
</span></span><span style=display:flex><span><span style=color:#66d9ef>@property</span> (<span style=color:#66d9ef>nonatomic</span>, <span style=color:#66d9ef>strong</span>) NSString <span style=color:#f92672>*</span>iconUrl;
</span></span><span style=display:flex><span><span style=color:#66d9ef>@property</span> (<span style=color:#66d9ef>nonatomic</span>, <span style=color:#66d9ef>strong</span>) NSString <span style=color:#f92672>*</span>title;
</span></span><span style=display:flex><span><span style=color:#66d9ef>@property</span> (<span style=color:#66d9ef>nonatomic</span>, <span style=color:#66d9ef>strong</span>) NSString <span style=color:#f92672>*</span>jumpUrl;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>- (<span style=color:#66d9ef>instancetype</span>)<span style=color:#a6e22e>initWithDictionary:</span>(NSDictionary <span style=color:#f92672>*</span>)dictionary;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>@end</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>@implementation</span> <span style=color:#a6e22e>HotDetail</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>- (<span style=color:#66d9ef>instancetype</span>)<span style=color:#a6e22e>initWithDictionary:</span>(NSDictionary <span style=color:#f92672>*</span>)dictionary {
</span></span><span style=display:flex><span>    self <span style=color:#f92672>=</span> [super init];
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (self) {
</span></span><span style=display:flex><span>        _contentId <span style=color:#f92672>=</span> dictionary[<span style=color:#e6db74>@&#34;contentId&#34;</span>];
</span></span><span style=display:flex><span>        _headImageList <span style=color:#f92672>=</span> dictionary[<span style=color:#e6db74>@&#34;headImageList&#34;</span>];
</span></span><span style=display:flex><span>        _pvCount <span style=color:#f92672>=</span> dictionary[<span style=color:#e6db74>@&#34;pvCount&#34;</span>];
</span></span><span style=display:flex><span>        _iconUrl <span style=color:#f92672>=</span> dictionary[<span style=color:#e6db74>@&#34;iconUrl&#34;</span>];
</span></span><span style=display:flex><span>        _title <span style=color:#f92672>=</span> dictionary[<span style=color:#e6db74>@&#34;title&#34;</span>];
</span></span><span style=display:flex><span>        _jumpUrl <span style=color:#f92672>=</span> dictionary[<span style=color:#e6db74>@&#34;jumpUrl&#34;</span>];
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> self;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>@end</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>@interface</span> <span style=color:#a6e22e>HotDiscussion</span> : <span style=color:#a6e22e>NSObject</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>@property</span> (<span style=color:#66d9ef>nonatomic</span>, <span style=color:#66d9ef>strong</span>) NSString <span style=color:#f92672>*</span>guid;
</span></span><span style=display:flex><span><span style=color:#66d9ef>@property</span> (<span style=color:#66d9ef>nonatomic</span>, <span style=color:#66d9ef>strong</span>) NSString <span style=color:#f92672>*</span>picUrl;
</span></span><span style=display:flex><span><span style=color:#66d9ef>@property</span> (<span style=color:#66d9ef>nonatomic</span>, <span style=color:#66d9ef>strong</span>) NSString <span style=color:#f92672>*</span>hotLink;
</span></span><span style=display:flex><span><span style=color:#66d9ef>@property</span> (<span style=color:#66d9ef>nonatomic</span>, <span style=color:#66d9ef>strong</span>) NSArray<span style=color:#f92672>&lt;</span>HotDetail <span style=color:#f92672>*&gt;</span> <span style=color:#f92672>*</span>hotDetailList;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>- (<span style=color:#66d9ef>instancetype</span>)<span style=color:#a6e22e>initWithDictionary:</span>(NSDictionary <span style=color:#f92672>*</span>)dictionary;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>@end</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>@implementation</span> <span style=color:#a6e22e>HotDiscussion</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>- (<span style=color:#66d9ef>instancetype</span>)<span style=color:#a6e22e>initWithDictionary:</span>(NSDictionary <span style=color:#f92672>*</span>)dictionary {
</span></span><span style=display:flex><span>    self <span style=color:#f92672>=</span> [super init];
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (self) {
</span></span><span style=display:flex><span>        _guid <span style=color:#f92672>=</span> dictionary[<span style=color:#e6db74>@&#34;guid&#34;</span>];
</span></span><span style=display:flex><span>        _picUrl <span style=color:#f92672>=</span> dictionary[<span style=color:#e6db74>@&#34;picUrl&#34;</span>];
</span></span><span style=display:flex><span>        _hotLink <span style=color:#f92672>=</span> dictionary[<span style=color:#e6db74>@&#34;hotLink&#34;</span>];
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>        NSMutableArray <span style=color:#f92672>*</span>details <span style=color:#f92672>=</span> [NSMutableArray array];
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (NSDictionary <span style=color:#f92672>*</span>detailDict <span style=color:#66d9ef>in</span> dictionary[<span style=color:#e6db74>@&#34;hotDetailList&#34;</span>]) {
</span></span><span style=display:flex><span>            HotDetail <span style=color:#f92672>*</span>detail <span style=color:#f92672>=</span> [[HotDetail alloc] initWithDictionary:detailDict];
</span></span><span style=display:flex><span>            [details addObject:detail];
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        _hotDetailList <span style=color:#f92672>=</span> [details <span style=color:#66d9ef>copy</span>];
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> self;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>@end</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> main(<span style=color:#66d9ef>int</span> argc, <span style=color:#66d9ef>const</span> <span style=color:#66d9ef>char</span> <span style=color:#f92672>*</span> argv[]) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>@autoreleasepool</span> {
</span></span><span style=display:flex><span>        <span style=color:#75715e>// insert code here...
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        NSLog(<span style=color:#e6db74>@&#34;Hello, World!&#34;</span>);
</span></span><span style=display:flex><span>        NSString <span style=color:#f92672>*</span>jsonString <span style=color:#f92672>=</span> <span style=color:#e6db74>@&#34;{</span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74>hotDiscussion</span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74>: {</span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74>guid</span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74>: </span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74>do mollit pro</span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74>,</span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74>picUrl</span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74>: </span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74>adipisicing deserunt ea ex</span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74>,</span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74>hotLink</span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74>: </span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74>occaecat</span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74>,</span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74>hotDetailList</span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74>: [{</span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74>contentId</span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74>: </span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74>quis mollit sit</span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74>,</span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74>headImageList</span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74>: [</span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74>labore deserunt sint</span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74>,</span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74>cup</span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74>,</span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74>aliqua sint magna</span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74>],</span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74>pvCount</span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74>: </span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74>laboris id adipisicing</span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74>,</span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74>iconUrl</span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74>: </span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74>ut non</span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74>,</span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74>title</span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74>: </span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74>aute exercitation nisi tempor</span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74>,</span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74>jumpUrl</span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74>: </span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74>ut ut eu cupidatat</span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74>},{</span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74>contentId</span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74>: </span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74>nostrud exercitation quis cupidatat eiusmod</span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74>,</span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74>headImageList</span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74>: [</span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74>incididunt sunt</span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74>,</span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74>exercitation enim officia aute</span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74>],</span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74>pvCount</span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74>: </span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74>labore</span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74>,</span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74>iconUrl</span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74>: </span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74>sed tempor magna nulla</span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74>,</span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74>title</span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74>: </span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74>in amet dolor minim</span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74>,</span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74>jumpUrl</span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74>: </span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74>amet</span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74>}]}}&#34;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        NSData <span style=color:#f92672>*</span>jsonData <span style=color:#f92672>=</span> [jsonString dataUsingEncoding:NSUTF8StringEncoding];
</span></span><span style=display:flex><span>        NSError <span style=color:#f92672>*</span>error;
</span></span><span style=display:flex><span>        NSDictionary <span style=color:#f92672>*</span>jsonDict <span style=color:#f92672>=</span> [NSJSONSerialization JSONObjectWithData:jsonData options:NSJSONReadingMutableContainers error:<span style=color:#f92672>&amp;</span>error];
</span></span><span style=display:flex><span>        NSLog(<span style=color:#e6db74>@&#34;%@&#34;</span>, jsonDict);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>/*
</span></span></span><span style=display:flex><span><span style=color:#75715e> &#34;hotDiscussion&#34;: {
</span></span></span><span style=display:flex><span><span style=color:#75715e>     &#34;guid&#34;: &#34;do mollit pro&#34;,
</span></span></span><span style=display:flex><span><span style=color:#75715e>     &#34;picUrl&#34;: &#34;adipisicing deserunt ea ex&#34;,
</span></span></span><span style=display:flex><span><span style=color:#75715e>     &#34;hotLink&#34;: &#34;occaecat&#34;,
</span></span></span><span style=display:flex><span><span style=color:#75715e>     &#34;hotDetailList&#34;: [
</span></span></span><span style=display:flex><span><span style=color:#75715e>         {
</span></span></span><span style=display:flex><span><span style=color:#75715e>             &#34;contentId&#34;: &#34;quis mollit sit&#34;,
</span></span></span><span style=display:flex><span><span style=color:#75715e>             &#34;headImageList&#34;: [
</span></span></span><span style=display:flex><span><span style=color:#75715e>                 &#34;labore deserunt sint&#34;,
</span></span></span><span style=display:flex><span><span style=color:#75715e>                 &#34;cup&#34;,
</span></span></span><span style=display:flex><span><span style=color:#75715e>                 &#34;aliqua sint magna&#34;
</span></span></span><span style=display:flex><span><span style=color:#75715e>             ],
</span></span></span><span style=display:flex><span><span style=color:#75715e>             &#34;pvCount&#34;: &#34;laboris id adipisicing&#34;,
</span></span></span><span style=display:flex><span><span style=color:#75715e>             &#34;iconUrl&#34;: &#34;ut non&#34;,
</span></span></span><span style=display:flex><span><span style=color:#75715e>             &#34;title&#34;: &#34;aute exercitation nisi tempor&#34;,
</span></span></span><span style=display:flex><span><span style=color:#75715e>             &#34;jumpUrl&#34;: &#34;ut ut eu cupidatat&#34;
</span></span></span><span style=display:flex><span><span style=color:#75715e>         },
</span></span></span><span style=display:flex><span><span style=color:#75715e>         {
</span></span></span><span style=display:flex><span><span style=color:#75715e>             &#34;contentId&#34;: &#34;nostrud exercitation quis cupidatat eiusmod&#34;,
</span></span></span><span style=display:flex><span><span style=color:#75715e>             &#34;headImageList&#34;: [
</span></span></span><span style=display:flex><span><span style=color:#75715e>                 &#34;incididunt sunt&#34;,
</span></span></span><span style=display:flex><span><span style=color:#75715e>                 &#34;exercitation enim officia aute&#34;
</span></span></span><span style=display:flex><span><span style=color:#75715e>             ],
</span></span></span><span style=display:flex><span><span style=color:#75715e>             &#34;pvCount&#34;: &#34;labore&#34;,
</span></span></span><span style=display:flex><span><span style=color:#75715e>             &#34;iconUrl&#34;: &#34;sed tempor magna nulla&#34;,
</span></span></span><span style=display:flex><span><span style=color:#75715e>             &#34;title&#34;: &#34;in amet dolor minim&#34;,
</span></span></span><span style=display:flex><span><span style=color:#75715e>             &#34;jumpUrl&#34;: &#34;amet&#34;
</span></span></span><span style=display:flex><span><span style=color:#75715e>         },
</span></span></span><span style=display:flex><span><span style=color:#75715e>     ]
</span></span></span><span style=display:flex><span><span style=color:#75715e> }
</span></span></span><span style=display:flex><span><span style=color:#75715e> */</span>
</span></span></code></pre></div><h2 id=-isequal-isequalto>==, isEqual, isEqualTo</h2><blockquote><p><a href=https://stackoverflow.com/questions/7096691/difference-between-isequalto-and-isequal>Difference between isEqualTo: and isEqual:</a></p></blockquote><p>isEqual: is part of the NSObject protocol and is meant for comparing objects.</p><p>isEqual: æ–¹æ³•æ˜¯ NSObject ç±»çš„ä¸€ä¸ªæ–¹æ³•ï¼Œå®ƒç”¨äºæ¯”è¾ƒä¸¤ä¸ªå¯¹è±¡çš„å†…å®¹æ˜¯å¦ç›¸ç­‰ã€‚å…·ä½“æ¥è¯´ï¼Œå®ƒæ¯”è¾ƒä¸¤ä¸ªå¯¹è±¡çš„åœ°å€æ˜¯å¦ç›¸åŒï¼Œå¦‚æœç›¸åŒï¼Œåˆ™è¿”å› YESï¼›å¦åˆ™ï¼Œå®ƒå°†æ¯”è¾ƒä¸¤ä¸ªå¯¹è±¡çš„å±æ€§å€¼ã€å®ä¾‹å˜é‡ã€æ–¹æ³•ç­‰æ˜¯å¦ç›¸åŒï¼Œå¦‚æœç›¸åŒï¼Œåˆ™è¿”å› YESï¼›å¦åˆ™ï¼Œè¿”å› NOã€‚</p><p>isEqualTo: is part of the Cocoa AppleScript support infrastructure (specifically, NSComparisonMethods, which allow AppleScript to compare Cocoa objects). It&rsquo;s normally the same as isEqual:, but can be overridden if you want equality to work differently internally and in a script.</p><p>isEqualTo: æ–¹æ³•æ˜¯ Cocoa AppleScript æ”¯æŒåŸºç¡€è®¾æ–½çš„ä¸€éƒ¨åˆ†ï¼ˆå…·ä½“æ¥è¯´ï¼Œå®ƒæ˜¯ NSComparisonMethods çš„ä¸€éƒ¨åˆ†ï¼Œå®ƒå…è®¸ AppleScript æ¯”è¾ƒ Cocoa å¯¹è±¡ï¼‰ã€‚å®ƒé€šå¸¸ä¸ isEqual: ç›¸åŒï¼Œä½†å¦‚æœä½ æƒ³åœ¨å†…éƒ¨å’Œè„šæœ¬ä¸­ä½¿ç”¨ä¸åŒçš„ç›¸ç­‰æ€§ï¼Œåˆ™å¯ä»¥è¦†ç›–å®ƒã€‚</p><blockquote><p><a href=https://www.jianshu.com/p/1d05bf21d8f9>isEqual ï¼ŒisEqualToString ï¼Œ == ä¸‰è€…çš„åŒºåˆ«</a></p></blockquote><p>isEqual: é¦–å…ˆåˆ¤æ–­ä¸¤ä¸ªå¯¹è±¡æ˜¯å¦ç±»å‹ä¸€è‡´ï¼Œ åœ¨åˆ¤æ–­å…·ä½“å†…å®¹æ˜¯å¦ä¸€è‡´ï¼Œå¦‚æœç±»å‹ä¸åŒç›´æ¥return no.å¦‚å…ˆåˆ¤æ–­æ˜¯å¦éƒ½æ˜¯ NSStringï¼Œåœ¨åˆ¤æ–­stringçš„å†…å®¹ã€‚</p><p>isEqualToString: è¿™ä¸ªç›´æ¥åˆ¤æ–­å­—ç¬¦ä¸²å†…å®¹ã€‚</p><p>==æ˜¯ç›´æ¥æ¯”è¾ƒæŒ‡å‘çš„åœ°å€ã€‚</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span>- (<span style=color:#66d9ef>BOOL</span>)<span style=color:#a6e22e>isEqual:</span>(<span style=color:#66d9ef>id</span>)other {  
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (other <span style=color:#f92672>==</span> self) { 
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> YES;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (<span style=color:#f92672>!</span>other <span style=color:#f92672>||</span> <span style=color:#f92672>!</span>[other isKindOfClass:[self <span style=color:#66d9ef>class</span>]]) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> NO;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> [self isEqualToWidget:other]; 
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>- (<span style=color:#66d9ef>BOOL</span>)<span style=color:#a6e22e>isEqualToWidget:</span>(MyWidget <span style=color:#f92672>*</span>)aWidget {    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (self <span style=color:#f92672>==</span> aWidget) <span style=color:#66d9ef>return</span> YES;    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (<span style=color:#f92672>!</span>[(<span style=color:#66d9ef>id</span>)[self name] isEqual:[aWidget name]]) <span style=color:#66d9ef>return</span> NO;    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (<span style=color:#f92672>!</span>[[self data] isEqualToData:[aWidget data]]) <span style=color:#66d9ef>return</span> NO;    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> YES;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><ul><li>é¦–å…ˆéƒ½ä¼šåˆ¤æ–­ æŒ‡é’ˆæ˜¯å¦ç›¸ç­‰ï¼Œç›¸ç­‰ç›´æ¥è¿”å›YESï¼Œ</li><li>ä¸ç›¸ç­‰å†åˆ¤æ–­æ˜¯å¦æ˜¯åŒç±»å¯¹è±¡æˆ–éç©ºï¼Œç©ºæˆ–éåŒç±»å¯¹è±¡ç›´æ¥è¿”å›NOï¼Œ</li><li>è€Œåä¾æ¬¡åˆ¤æ–­å¯¹è±¡å¯¹åº”çš„å±æ€§æ˜¯å¦ç›¸ç­‰ï¼Œè‹¥å‡ç›¸ç­‰ï¼Œè¿”å›YES</li><li>è¿™æ ·å°±ä¸éš¾ç†è§£ isEqualToString çš„å®ç°å†…éƒ¨çš„äº†</li></ul><blockquote><p><a href=https://www.jianshu.com/p/915356e280fc>iOSå¼€å‘ ä¹‹ ä¸è¦å‘Šè¯‰æˆ‘ä½ çœŸçš„æ‡‚isEqualä¸hash!</a></p></blockquote><p>ä¸ºä»€ä¹ˆè¦æœ‰isEqualæ–¹æ³•?
isEqualæ–¹æ³•çš„ä½œç”¨å¤§å®¶è‚¯å®šæ˜¯çŸ¥é“çš„:</p><blockquote><p>åˆ¤æ–­ä¸¤ä¸ªå¯¹è±¡æ˜¯å¦ç›¸ç­‰</p></blockquote><p>ä½†æ˜¯åˆ¤æ–­ç›¸ç­‰ä¸æ˜¯å·²ç»æœ‰==è¿ç®—ç¬¦äº†ä¹ˆ, ä¸ºä»€ä¹ˆè¿˜è¦isEqualæ–¹æ³•?</p><p>è¿™æ˜¯å› ä¸º:</p><blockquote><p>å¯¹äºåŸºæœ¬ç±»å‹, ==è¿ç®—ç¬¦æ¯”è¾ƒçš„æ˜¯å€¼; å¯¹äºå¯¹è±¡ç±»å‹, ==è¿ç®—ç¬¦æ¯”è¾ƒçš„æ˜¯å¯¹è±¡çš„åœ°å€(å³æ˜¯å¦ä¸ºåŒä¸€å¯¹è±¡)</p></blockquote><p>æ³¨æ„: ä¸Šè¿°==è¿ç®—ç¬¦çš„è¯´æ˜é€‚ç”¨äºObjective-Cå’ŒJavaç­‰ä¸æ”¯æŒè¿ç®—ç¬¦é‡è½½çš„è¯­è¨€, æ”¯æŒè¿ç®—ç¬¦é‡è½½çš„è¯­è¨€æœ‰C++</p><p>æ‰€ä»¥è¦ç†æ¸…==è¿ç®—ç¬¦å’ŒisEqualæ–¹æ³•çš„åŒºåˆ«, é—®é¢˜å°±é›†ä¸­åœ¨</p><p>ä»€ä¹ˆå«æ¯”è¾ƒå¯¹è±¡çš„åœ°å€, ä»€ä¹ˆå«æ¯”è¾ƒå¯¹è±¡</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span>UIColor <span style=color:#f92672>*</span>color1 <span style=color:#f92672>=</span> [UIColor colorWithRed:<span style=color:#ae81ff>0.5</span> green:<span style=color:#ae81ff>0.5</span> blue:<span style=color:#ae81ff>0.5</span> alpha:<span style=color:#ae81ff>1.0</span>];
</span></span><span style=display:flex><span>UIColor <span style=color:#f92672>*</span>color2 <span style=color:#f92672>=</span> [UIColor colorWithRed:<span style=color:#ae81ff>0.5</span> green:<span style=color:#ae81ff>0.5</span> blue:<span style=color:#ae81ff>0.5</span> alpha:<span style=color:#ae81ff>1.0</span>];
</span></span><span style=display:flex><span>NSLog(<span style=color:#e6db74>@&#34;color1 == color2 = %@&#34;</span>, color1 <span style=color:#f92672>==</span> color2 <span style=color:#f92672>?</span> <span style=color:#e6db74>@&#34;YES&#34;</span> <span style=color:#f92672>:</span> <span style=color:#e6db74>@&#34;NO&#34;</span>);
</span></span><span style=display:flex><span>NSLog(<span style=color:#e6db74>@&#34;[color1 isEqual:color2] = %@&#34;</span>, [color1 isEqual:color2] <span style=color:#f92672>?</span> <span style=color:#e6db74>@&#34;YES&#34;</span> <span style=color:#f92672>:</span> <span style=color:#e6db74>@&#34;NO&#34;</span>);
</span></span><span style=display:flex><span><span style=color:#75715e>// color1 == color2 = NO
</span></span></span><span style=display:flex><span><span style=color:#75715e>// [color1 isEqual:color2] = YES
</span></span></span></code></pre></div><p>ä»ä¸Šé¢çš„ä¾‹å­å¯ä»¥çœ‹å‡º, ==è¿ç®—ç¬¦åªæ˜¯ç®€å•åœ°åˆ¤æ–­æ˜¯å¦æ˜¯åŒä¸€ä¸ªå¯¹è±¡, è€ŒisEqualæ–¹æ³•å¯ä»¥åˆ¤æ–­å¯¹è±¡æ˜¯å¦ç›¸åŒ, ä¾‹å¦‚UIColorå¯¹è±¡è¡¨ç¤ºçš„coloræ˜¯å¦ç›¸åŒ</p><h3 id=--isequal-objc--swift>==, ===, isEqual: Objc & Swift</h3><blockquote><p><a href=https://swifter.tips/equal/>onevcat: åˆ¤ç­‰</a></p></blockquote><p>æˆ‘ä»¬åœ¨ Objective-C æ—¶ä»£ï¼Œé€šå¸¸ä½¿ç”¨ -isEqualToString: æ¥åœ¨å·²ç»èƒ½ç¡®å®šæ¯”è¾ƒå¯¹è±¡å’Œå¾…æ¯”è¾ƒå¯¹è±¡éƒ½æ˜¯ NSString çš„æ—¶å€™è¿›è¡Œå­—ç¬¦ä¸²åˆ¤ç­‰ã€‚Swift ä¸­çš„ String ç±»å‹ä¸­æ˜¯æ²¡æœ‰ -isEqualToString: æˆ–è€… -isEqual: è¿™æ ·çš„æ–¹æ³•çš„ï¼Œå› ä¸ºè¿™äº›æ¯•ç«Ÿæ˜¯ NSObject çš„ä¸œè¥¿ã€‚åœ¨ Swift çš„å­—ç¬¦ä¸²å†…å®¹åˆ¤ç­‰ï¼Œæˆ‘ä»¬ç®€å•åœ°ä½¿ç”¨ == æ“ä½œç¬¦æ¥è¿›è¡Œ</p><p>åœ¨åˆ¤ç­‰ä¸Š Swift çš„è¡Œä¸ºå’Œ Objective-C æœ‰ç€å·¨å¤§çš„å·®åˆ«ã€‚åœ¨ Objective-C ä¸­ == è¿™ä¸ªç¬¦å·çš„æ„æ€æ˜¯åˆ¤æ–­ä¸¤ä¸ªå¯¹è±¡æ˜¯å¦æŒ‡å‘åŒä¸€å—å†…å­˜åœ°å€ã€‚å…¶å®å¾ˆå¤šæ—¶å€™è¿™å¹¶ä¸æ˜¯æˆ‘ä»¬ç»å¸¸æ‰€æœŸæœ›çš„åˆ¤ç­‰ï¼Œæˆ‘ä»¬æ›´å…³å¿ƒçš„å¾€å¾€è¿˜æ˜¯å¯¹è±¡çš„å†…å®¹ç›¸åŒï¼Œè€Œè¿™ç§æ„ä¹‰çš„ç›¸ç­‰å³ä½¿ä¸¤ä¸ªå¯¹è±¡å¼•ç”¨çš„ä¸æ˜¯åŒä¸€å—å†…å­˜åœ°å€æ—¶ï¼Œä¹Ÿæ˜¯å¯ä»¥åšåˆ°çš„ã€‚Objective-C ä¸­æˆ‘ä»¬é€šå¸¸é€šè¿‡å¯¹ -isEqual: è¿›è¡Œé‡å†™ï¼Œæˆ–è€…æ›´è¿›ä¸€æ­¥å»å®ç°ç±»ä¼¼ -isEqualToString: è¿™æ ·çš„ -isEqualToClass: çš„å¸¦æœ‰ç±»å‹ä¿¡æ¯çš„æ–¹æ³•æ¥è¿›è¡Œå†…å®¹åˆ¤ç­‰ã€‚å¦‚æœæˆ‘ä»¬æ²¡æœ‰åœ¨ä»»æ„å­ç±»é‡å†™ -isEqual: çš„è¯ï¼Œåœ¨è°ƒç”¨è¿™ä¸ªæ–¹æ³•æ—¶ä¼šç›´æ¥ä½¿ç”¨ NSObject ä¸­çš„ç‰ˆæœ¬ï¼Œå»ç›´æ¥è¿›è¡Œ Objective-C çš„ == åˆ¤æ–­ã€‚</p><p>åœ¨ Swift ä¸­æƒ…å†µå¤§ä¸ä¸€æ ·ï¼ŒSwift é‡Œçš„ == æ˜¯ä¸€ä¸ªæ“ä½œç¬¦çš„å£°æ˜ï¼Œåœ¨ Equatable é‡Œå£°æ˜äº†è¿™ä¸ªæ“ä½œç¬¦çš„æ¥å£æ–¹æ³•ï¼š</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span><span style=color:#66d9ef>protocol</span> <span style=color:#a6e22e>Equatable</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>func</span> ==(lhs: <span style=color:#66d9ef>Self</span>, rhs: <span style=color:#66d9ef>Self</span>) -&gt; Bool
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>å¯¹äºåŸæ¥ Objective-C ä¸­ä½¿ç”¨ == è¿›è¡Œçš„å¯¹è±¡æŒ‡é’ˆçš„åˆ¤å®šï¼Œåœ¨ Swift ä¸­æä¾›çš„æ˜¯å¦ä¸€ä¸ªæ“ä½œç¬¦ ===ã€‚åœ¨ Swift ä¸­ === åªæœ‰ä¸€ç§é‡è½½ï¼š</p><p><code>func ===(lhs: AnyObject?, rhs: AnyObject?) -> Bool</code></p><p>å®ƒç”¨æ¥åˆ¤æ–­ä¸¤ä¸ª AnyObject æ˜¯å¦æ˜¯åŒä¸€ä¸ªå¼•ç”¨ã€‚</p><p>å¯¹äºåˆ¤ç­‰ï¼Œå’Œå®ƒç´§å¯†ç›¸å…³çš„ä¸€ä¸ªè¯é¢˜å°±æ˜¯å“ˆå¸Œï¼Œå› ä¸ºå“ˆå¸Œæ˜¯ä¸€ä¸ªç¨å¾®å¤æ‚çš„è¯é¢˜ï¼Œæ‰€ä»¥æˆ‘å°†å®ƒåˆ†æˆäº†ä¸€ä¸ªå•èŠ‚ã€‚ä½†æ˜¯å¦‚æœåœ¨å®é™…é¡¹ç›®ä¸­ä½ éœ€è¦é‡è½½ == æˆ–è€…é‡å†™ -isEqual: æ¥è¿›è¡Œåˆ¤ç­‰çš„è¯ï¼Œå¾ˆå¯èƒ½ä½ ä¹Ÿä¼šæƒ³çœ‹çœ‹æœ‰å…³å“ˆå¸Œçš„å†…å®¹ï¼Œé‡è½½äº†åˆ¤ç­‰çš„è¯ï¼Œæˆ‘ä»¬è¿˜éœ€è¦æä¾›ä¸€ä¸ªå¯é çš„å“ˆå¸Œç®—æ³•ä½¿å¾—åˆ¤ç­‰çš„å¯¹è±¡åœ¨å­—å…¸ä¸­ä½œä¸º key æ—¶ä¸ä¼šå‘ç”Ÿå¥‡æ€ªçš„äº‹æƒ…ã€‚</p><h2 id=category>Category</h2><ul><li><a href=https://tech.meituan.com/2015/03/03/diveintocategory.html>æ·±å…¥ç†è§£Objective-Cï¼šCategory</a></li><li><a href=https://juejin.cn/post/6844903968691191815>ã€iOSé¢è¯•ç²®é£Ÿã€‘OCè¯­è¨€â€”Category(åˆ†ç±»)å’Œç±»æ‰©å±•(extension)ã€å…³è”å¯¹è±¡</a></li></ul><blockquote><p><a href=https://www.jianshu.com/p/dc3196030a03>OCåŸºç¡€ä¹‹ç±»åˆ«ï¼ˆCategoryï¼‰å’Œæ‰©å±•ï¼ˆExtensionï¼‰</a></p></blockquote><p>.hæ–‡ä»¶ä¸­çš„æ ¼å¼ä¸º</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span><span style=color:#75715e>#import &#34;ç±»å.h&#34;
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>@interface</span> <span style=color:#960050;background-color:#1e0010>ç±»å (ç±»åˆ«å)</span>
</span></span><span style=display:flex><span><span style=color:#75715e>// åœ¨æ­¤å¤„å£°æ˜æ–¹æ³•
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>@end</span>
</span></span></code></pre></div><p>.mæ–‡ä»¶ä¸­çš„æ ¼å¼ä¸º</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span><span style=color:#75715e>#import &#34;ç±»å+ç±»åˆ«å.h&#34;
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>@implementation</span> <span style=color:#960050;background-color:#1e0010>ç±»å (ç±»åˆ«å)</span>
</span></span><span style=display:flex><span><span style=color:#75715e>// åœ¨æ­¤å¤„å®ç°å£°æ˜çš„æ–¹æ³•
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>@end</span>
</span></span></code></pre></div><p>æ‰©å±•æ–‡ä»¶æ ¼å¼ .hæ–‡ä»¶ä¸­çš„æ ¼å¼ä¸º</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span><span style=color:#75715e>#import &#34;ç±»å.h&#34;
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>@interface</span> <span style=color:#960050;background-color:#1e0010>ç±»å () &lt;</span><span style=color:#a6e22e>XYZViewDelegate</span><span style=color:#f92672>&gt;</span>
</span></span><span style=display:flex><span><span style=color:#75715e>// åœ¨æ­¤æ·»åŠ ç§æœ‰æˆå‘˜å˜é‡ã€å±æ€§ã€å£°æ˜æ–¹æ³•
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>@end</span>
</span></span></code></pre></div><p>(): è¿™é‡Œçš„ç©ºæ‹¬å·è¡¨ç¤ºç±»çš„æ‰©å±•ï¼ˆExtensionï¼‰ï¼Œåœ¨æ‰©å±•ä¸­å¯ä»¥æ·»åŠ é¢å¤–çš„æˆå‘˜å˜é‡ã€å±æ€§ã€æ–¹æ³•æˆ–éµå¾ªåè®®ç­‰ï¼Œä»¥å¢å¼ºç±»çš„åŠŸèƒ½ã€‚</p><p>è¿™é‡Œä½¿ç”¨å°–æ‹¬å·æ‹¬èµ·æ¥çš„éƒ¨åˆ†è¡¨ç¤ºè¯¥ç±»éµå¾ªäº†ä¸€ä¸ªåè®®XYZViewDelegateã€‚åè®®åç§°æ”¾åœ¨å°–æ‹¬å·å†…ï¼Œå¤šä¸ªåè®®ä¹‹é—´å¯ä»¥ç”¨é€—å·åˆ†éš”ã€‚éµå¾ªåè®®æ„å‘³ç€è¯¥ç±»çš„å®ä¾‹å¯ä»¥å®ç°åè®®ä¸­å®šä¹‰çš„æ–¹æ³•ï¼Œä»¥å“åº”ç›¸å…³äº‹ä»¶æˆ–æä¾›å®ç°ã€‚</p><h3 id=details>Details</h3><p>Objective-Cçš„Categoryå’ŒExtension
Categoryæ˜¯Objective-Cè¯­è¨€çš„ä¸€ä¸ªç‰¹æ€§ï¼Œå®ƒä¸»è¦ç”¨äºä¸ºç°æœ‰çš„ç±»æ·»åŠ æ–°çš„æ–¹æ³•ï¼Œæ— è®ºè¿™ä¸ªç±»æ˜¯ç³»ç»Ÿç±»è¿˜æ˜¯è‡ªå®šä¹‰ç±»ã€‚ä½ å¯ä»¥å°†ç±»çš„å®ç°åˆ†æ•£åˆ°å¤šä¸ªä¸åŒçš„æºæ–‡ä»¶ä¸­ï¼Œè¿™ä½¿å¾—ä½ å¯ä»¥åœ¨ä¸è®¿é—®ç±»æºä»£ç çš„æƒ…å†µä¸‹æ‰©å±•ç±»çš„åŠŸèƒ½ã€‚</p><p>Extensionåœ¨è¯­æ³•ä¸Šçœ‹èµ·æ¥å‡ ä¹å’ŒCategoryç›¸åŒï¼Œä½†å®ƒåªèƒ½ä¸ºè‡ªå·±çš„ç±»æ·»åŠ æ–°çš„æ–¹æ³•å’Œå±æ€§ï¼Œè€Œä¸èƒ½ä¸ºç³»ç»Ÿç±»æˆ–ä»–äººçš„ç±»æ·»åŠ æ–°çš„æ–¹æ³•æˆ–å±æ€§ã€‚å¦å¤–ï¼ŒExtensionçš„æ–¹æ³•å’Œå±æ€§åœ¨ç¼–è¯‘å™¨ä¼šæ£€æŸ¥æ˜¯å¦å®ç°ï¼Œè€ŒCategoryåˆ™ä¸ä¼šã€‚</p><p>Swiftçš„Extension
Swiftä¸­çš„Extensionçš„åŠŸèƒ½æ¯”Objective-Cä¸­çš„Categoryå’ŒExtensionæ›´å¼ºå¤§ã€‚å®ƒä¸ä»…å¯ä»¥å‘ç°æœ‰çš„ç±»æ·»åŠ æ–°çš„æ–¹æ³•å’Œè®¡ç®—å±æ€§ï¼Œè¿˜å¯ä»¥å‘ç°æœ‰çš„ç±»æ·»åŠ æ–°çš„æ„é€ å‡½æ•°ã€ä¸‹æ ‡ã€åµŒå¥—ç±»å‹ï¼Œç”šè‡³å¯ä»¥ä½¿ç°æœ‰ç±»å‹éµå¾ªç‰¹å®šçš„åè®®ã€‚</p><p>å¯¹æ¯”
Categoryå’ŒSwiftçš„Extensionéƒ½å¯ä»¥ä¸ºç°æœ‰ç±»æ·»åŠ æ–°çš„æ–¹æ³•ï¼Œä½†æ˜¯Swiftçš„Extensionå¯ä»¥ä¸ºç°æœ‰ç±»æ·»åŠ æ›´å¤šçš„æ–°ç‰¹æ€§ï¼Œæ¯”å¦‚æ–°çš„æ„é€ å‡½æ•°ã€ä¸‹æ ‡ã€åµŒå¥—ç±»å‹å’Œéµå¾ªåè®®ç­‰ã€‚</p><p>Categoryå’ŒExtensionå¯ä»¥ä¸ºç³»ç»Ÿç±»å’Œä»–äººçš„ç±»æ·»åŠ æ–°çš„æ–¹æ³•ï¼Œè€ŒObjective-Cçš„Extensionåªèƒ½ä¸ºè‡ªå·±çš„ç±»æ·»åŠ æ–°çš„æ–¹æ³•å’Œå±æ€§ã€‚</p><p>åœ¨Objective-Cä¸­ï¼Œä½ å¯ä»¥åœ¨Categoryä¸­è¦†ç›–åŸæœ‰ç±»çš„æ–¹æ³•ï¼Œè€Œåœ¨Swiftä¸­ï¼Œä½ ä¸èƒ½åœ¨Extensionä¸­è¦†ç›–åŸæœ‰ç±»çš„æ–¹æ³•ã€‚</p><p>Objective-Cçš„Extensionåœ¨ç¼–è¯‘å™¨ä¼šæ£€æŸ¥æ–¹æ³•å’Œå±æ€§çš„å®ç°ï¼Œè€ŒCategoryåˆ™ä¸ä¼šã€‚åœ¨Swiftä¸­ï¼Œä½ ä¸èƒ½åœ¨Extensionä¸­æ·»åŠ æ–°çš„å­˜å‚¨å±æ€§ï¼Œåªèƒ½æ·»åŠ æ–°çš„è®¡ç®—å±æ€§ã€‚</p><h3 id=å®ç°>å®ç°</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span><span style=color:#75715e>// NSString+MyCategory.h
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#75715e>#import &lt;Foundation/Foundation.h&gt;
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>@interface</span> <span style=color:#a6e22e>NSString</span> (MyCategory)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>- (<span style=color:#66d9ef>BOOL</span>)<span style=color:#a6e22e>isNotEmpty</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>@end</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// NSString+MyCategory.m
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#75715e>#import &#34;NSString+MyCategory.h&#34;
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>@implementation</span> <span style=color:#a6e22e>NSString</span> (MyCategory)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>- (<span style=color:#66d9ef>BOOL</span>)<span style=color:#a6e22e>isNotEmpty</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#f92672>!</span>[self isEqualToString:<span style=color:#e6db74>@&#34;&#34;</span>];
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>@end</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span><span style=color:#75715e>// MyClass.m
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#75715e>#import &lt;Foundation/Foundation.h&gt;
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>@interface</span> <span style=color:#a6e22e>MyClass</span> : <span style=color:#a6e22e>NSObject</span>
</span></span><span style=display:flex><span>- (<span style=color:#66d9ef>void</span>)<span style=color:#a6e22e>myMethod</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>@end</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>@implementation</span> <span style=color:#a6e22e>MyClass</span>
</span></span><span style=display:flex><span>- (<span style=color:#66d9ef>void</span>)<span style=color:#a6e22e>myMethod</span> {
</span></span><span style=display:flex><span>    NSLog(<span style=color:#e6db74>@&#34;Hello, world!&#34;</span>);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#66d9ef>@end</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> main() {
</span></span><span style=display:flex><span>    MyClass <span style=color:#f92672>*</span>myObject <span style=color:#f92672>=</span> [[MyClass alloc] init];
</span></span><span style=display:flex><span>    [myObject myMethod];
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><blockquote><p><code>@implementation ObjcBaseViewController (Alert)</code> æ‹¬å·é‡Œæ˜¯ä»€ä¹ˆ</p></blockquote><p>åœ¨ Objective-C ä¸­ï¼Œåœ†æ‹¬å· () ä¸­çš„å†…å®¹è¡¨ç¤ºä¸€ä¸ªç±»åˆ«ï¼ˆCategoryï¼‰çš„åç§°ã€‚åœ¨ä½ ç»™å‡ºçš„è¿™ä¸ªä¾‹å­ä¸­ï¼ŒAlert æ˜¯ ObjcBaseViewController ç±»çš„ä¸€ä¸ªç±»åˆ«ã€‚</p><p>ç±»åˆ«æ˜¯ Objective-C ä¸­ä¸€ç§å…è®¸ä½ æ·»åŠ æ–°æ–¹æ³•ï¼ˆä½†ä¸èƒ½æ·»åŠ æ–°å±æ€§æˆ–å®ä¾‹å˜é‡ï¼‰åˆ°ç°æœ‰ç±»çš„æœºåˆ¶ã€‚ä½ å¯ä»¥ä½¿ç”¨ç±»åˆ«æ¥æ·»åŠ æ–¹æ³•åˆ°ç³»ç»Ÿç±»ï¼Œä¾‹å¦‚ NSStringã€NSArrayã€è‡ªå·±çš„è‡ªå®šä¹‰ç±»ç­‰ç­‰ã€‚</p><p>ä½ çš„ä»£ç ä¸­ @implementation ObjcBaseViewController (Alert) æ˜¯ ObjcBaseViewController ç±»åˆ« Alert çš„å®ç°éƒ¨åˆ†çš„å¼€å§‹ã€‚åœ¨è¿™é‡Œï¼Œä½ å¯ä»¥å®ç°ä½ å¸Œæœ›æ·»åŠ åˆ° ObjcBaseViewController ç±»ä¸­çš„æ–¹æ³•ã€‚</p><blockquote><p><code>@implementation NSString (MyCategory)</code> ä¸ºä»€ä¹ˆè¦åŠ  MyCategoryï¼Œæˆ‘çœ‹ä¹Ÿæ²¡æœ‰ç”¨åˆ°</p></blockquote><p>åœ¨ Objective-C ä¸­ï¼Œä½¿ç”¨ @implementation NSString (MyCategory) çš„å½¢å¼æ˜¯ä¸ºäº†å£°æ˜ä¸€ä¸ªåä¸º &ldquo;MyCategory&rdquo; çš„ NSString ç±»åˆ«ã€‚åœ¨è¿™é‡Œï¼Œ&ldquo;MyCategory&rdquo; æ˜¯ç±»åˆ«çš„åç§°ï¼Œè€Œä¸æ˜¯è¦åœ¨ä»£ç ä¸­ä½¿ç”¨çš„ä¸€ä¸ªå˜é‡ã€‚ä½ å¯ä»¥å°†å…¶è§†ä¸ºç»™è¿™ä¸ªç±»åˆ«çš„æ ‡ç­¾æˆ–åç§°ï¼Œç”¨äºåŒºåˆ†å…¶ä»–å¯èƒ½å­˜åœ¨çš„ç±»åˆ«ã€‚</p><p>ç±»åˆ«ï¼ˆCategoryï¼‰çš„ä¸»è¦ç”¨é€”æ˜¯ä¸ºç°æœ‰çš„ç±»æ·»åŠ æ–°çš„æ–¹æ³•ã€‚ä½ å¯èƒ½ä¼šæƒ³ï¼Œä¸ºä»€ä¹ˆä¸ç›´æ¥åœ¨ç±»çš„ä¸»è¦å®ç°éƒ¨åˆ†ä¸­æ·»åŠ è¿™äº›æ–¹æ³•å‘¢ï¼ŸåŸå› æ˜¯ç±»åˆ«æä¾›äº†ä¸€ç§ç»„ç»‡ä»£ç çš„æ–¹å¼ï¼Œå…è®¸ä½ å°†ç›¸å…³çš„æ–¹æ³•åˆ†ç»„ï¼Œå°¤å…¶æ˜¯å½“è¿™äº›æ–¹æ³•æ˜¯ä¸ºäº†æŸä¸€ç‰¹å®šçš„åŠŸèƒ½æˆ–ç”¨é€”æ—¶ã€‚</p><p>åœ¨ä½ çš„ç¤ºä¾‹ä¸­ï¼Œ&ldquo;MyCategory&rdquo; å¯èƒ½æ˜¯ç”¨æ¥æŒ‡ç¤ºè¿™äº›æ–°æ–¹æ³•çš„ç”¨é€”çš„ã€‚æ¯”å¦‚è¯´ï¼Œå¦‚æœä½ æ·»åŠ çš„æ–¹æ³•æ˜¯ç”¨æ¥å¤„ç†å­—ç¬¦ä¸²æ ¼å¼åŒ–çš„ï¼Œä½ å¯èƒ½ä¼šé€‰æ‹©å‘½åä¸º &ldquo;Formatting&rdquo;ã€‚è¿™æ ·ï¼Œå½“å…¶ä»–å¼€å‘è€…çœ‹åˆ° @implementation NSString (Formatting) æ—¶ï¼Œä»–ä»¬å¯ä»¥å¾ˆå¿«ç†è§£è¿™äº›æ–¹æ³•çš„ç”¨é€”ã€‚</p><p>è¯·æ³¨æ„ï¼Œç±»åˆ«ååœ¨ä»£ç ä¸­å¹¶æ²¡æœ‰å®é™…çš„åŠŸèƒ½æ€§ç”¨é€”ï¼Œå®ƒä»…ä»…æ˜¯ä¸€ä¸ªæ ‡è¯†ï¼Œç”¨äºåŒºåˆ†ä¸åŒçš„ç±»åˆ«ã€‚å°½ç®¡å¦‚æ­¤ï¼Œé€‰æ‹©ä¸€ä¸ªæœ‰æ„ä¹‰çš„åå­—å¯ä»¥ä½¿ä½ çš„ä»£ç æ›´æ˜“äºç†è§£å’Œç»´æŠ¤ã€‚</p><h2 id=ios-constant---static-nsstring--const-kstr-->iOS Constant - <code>static NSString * const kStr = @""</code></h2><blockquote><p><a href=https://toutiao.io/posts/kw76e7/preview>iOS ä¸è¦ç”¨å®æ¥å®šä¹‰ä½ çš„å¸¸é‡</a></p></blockquote><p>iOS ä¸è¦ç”¨å®æ¥å®šä¹‰ä½ çš„å¸¸é‡</p><p>æœ€è¿‘åœ¨å·¥ç¨‹é‡Œçœ‹åˆ°å¾ˆå¤šä¸è§„èŒƒçš„ä½¿ç”¨ï¼Œäºæ˜¯æ¥å†™ä¸€ç¯‡åšå®¢æ¥è®©ä¸æ˜¯å¾ˆæ¸…æ¥šçš„å°æœ‹å‹ä»¬ï¼Œå°‘åŸ‹ç‚¹å‘ã€‚</p><p>é¦–å…ˆï¼Œé¢„å¤„ç†å‘½ä»¤ä»–ä¸æ˜¯ä¸€ä¸ªå¸¸é‡ï¼ï¼ï¼ï¼</p><p>æˆ‘ä»¬æ¥çœ‹ä¸€æ®µä»£ç </p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span><span style=color:#75715e>#define avatar @&#34;60&#34;
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>if</span> (false) {
</span></span><span style=display:flex><span><span style=color:#75715e>#define avatar @&#34;80&#34;
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>}
</span></span><span style=display:flex><span>NSLog(avatar);
</span></span></code></pre></div><h3 id=é¦–å…ˆé¢„å¤„ç†å‘½ä»¤ä»–ä¸æ˜¯ä¸€ä¸ªå¸¸é‡>é¦–å…ˆï¼Œé¢„å¤„ç†å‘½ä»¤ä»–ä¸æ˜¯ä¸€ä¸ªå¸¸é‡ï¼ï¼ï¼ï¼</h3><p>è¿™æ®µä»£ç ä¼šè¾“å‡ºå¤šå°‘ï¼Œæˆ‘ä»¬å°†â€œavatarâ€å®šä¹‰ä¸ºäº†60ï¼Œç„¶ååœ¨ä¸€ä¸ªæ°¸è¿œä¸ä¼šæ‰§è¡Œçš„ä»£ç é‡Œé¢é‡æ–°å®šä¹‰äº†â€œavatarâ€ä¸º80ï¼Œifè¯­å¥ä¸­çš„ä»£ç æ°¸è¿œä¸ä¼šæ‰§è¡Œï¼Œä½†æ˜¯åœ¨ç¼–è¯‘æ—¶æœŸï¼Œç¼–è¯‘å™¨ä¼šç¼–è¯‘è¿™æ®µä»£ç ï¼Œè€Œè¿™ä¸ªæ—¶å€™ç¼–è¯‘å™¨å°±ä¼šå°†avatarè¿™ä¸ªåå­—æ›¿æ¢ä¸º@â€œ80â€ï¼Œæ‰€ä»¥è¿™æ®µä»£ç æœ€åçš„è¾“å‡ºç»“æœå°±æ˜¯80ã€‚</p><p>å½“ç„¶è¿™ä¸ªæ—¶å€™ç¼–è¯‘å™¨æ˜¯ä¼šæœ‰ä¸€ä¸ªè­¦å‘Šçš„ï¼Œä½†æ˜¯ä¸çŸ¥é“æœ‰å¤šå°‘åŒå­¦ä¼šå¿½ç•¥è¿™ä¸ªè­¦å‘Šã€‚æˆ–è€…ä½ ä¼šå‘Šè¯‰æˆ‘ä½ å¯¹è­¦å‘Šååˆ†æ•æ„Ÿï¼Œä¸ä¼šæ”¾è¿‡ä»–çš„ï¼Œä½†æ˜¯è®°ä½ä½ ä¸æ˜¯ä¸€ä¸ªäººåœ¨å†™ä»£ç ï¼Œå¯èƒ½åœ¨åˆ«äººçš„é¡µé¢ä»–ç»™ä½ é‡æ–°å®šä¹‰äº†ä½ çš„defineï¼Œç»™ä½ æŒ–äº†ä¸€ä¸ªå¤§å‘ï¼Œè¿˜æ‰¾ä¸ç€â€¦â€¦â€¦</p><h3 id=ç”¨constæ¥å®šä¹‰ä¸€ä¸ªå¸¸é‡>ç”¨constæ¥å®šä¹‰ä¸€ä¸ªå¸¸é‡</h3><p>constä¿®é¥°ç¬¦å®šä¹‰çš„å˜é‡æ˜¯ä¸å¯å˜çš„ï¼Œæ¯”å¦‚è¯´ä½ éœ€è¦å®šä¹‰ä¸€ä¸ªåŠ¨ç”»æ—¶é—´çš„å¸¸é‡ï¼Œä½ å¯ä»¥è¿™ä¹ˆåšï¼š</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span><span style=color:#66d9ef>static</span> <span style=color:#66d9ef>const</span> NSTimeInterval kAnimateDuration <span style=color:#f92672>=</span> <span style=color:#ae81ff>0.3</span>;
</span></span></code></pre></div><p>å½“ä½ è¯•å›¾å»ä¿®æ”¹â€œ kAnimateDurationâ€çš„å€¼çš„æ—¶å€™ï¼Œç¼–è¯‘å™¨ä¼šæŠ¥é”™ã€‚æ›´åŠ é‡è¦çš„æ˜¯ç”¨è¿™ç§æ–¹æ³•å®šä¹‰çš„å¸¸é‡æ˜¯å¸¦æœ‰ç±»å‹ä¿¡æ¯çš„ï¼Œè€Œè¿™ç‚¹åˆ™æ˜¯defineä¸å…·å¤‡çš„ã€‚</p><p>ä¹Ÿè®¸ä½ å·²ç»å‘ç°äº†ï¼Œå¦‚æœä½ åƒè¿™æ ·å®šä¹‰ï¼š</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span><span style=color:#66d9ef>static</span> <span style=color:#66d9ef>const</span> NSString <span style=color:#f92672>*</span> kUserName <span style=color:#f92672>=</span> <span style=color:#e6db74>@&#34;StrongX&#34;</span>;
</span></span></code></pre></div><p>ä½ æ˜¯å¯ä»¥ä¿®æ”¹userNameçš„å€¼çš„ï¼Œï¼ˆè¯´å¥½çš„å¸¸é‡å‘¢ï½ï½ï½ï¼‰</p><p>é¦–å…ˆæˆ‘ä»¬éœ€è¦ç¡®å®šçš„æ˜¯ä»¥ä¸‹ä¸¤ç§å†™æ³•æ˜¯ä¸€æ ·çš„ï¼š</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span><span style=color:#66d9ef>static</span> NSString <span style=color:#66d9ef>const</span> <span style=color:#f92672>*</span> kUserName <span style=color:#f92672>=</span> <span style=color:#e6db74>@&#34;StrongX&#34;</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>static</span> <span style=color:#66d9ef>const</span> NSString <span style=color:#f92672>*</span> kUserName <span style=color:#f92672>=</span> <span style=color:#e6db74>@&#34;StrongX&#34;</span>;
</span></span></code></pre></div><p>ä¹Ÿå°±æ˜¯è¯´constæ”¾åœ¨ç±»å‹å‰è¿˜æ˜¯ç±»å‹åæ˜¯ä¸€æ ·çš„æ•ˆæœã€‚ç„¶åä¸åŒæ•ˆæœçš„æ˜¯ä¸‹é¢è¿™ç§å†™æ³•ï¼š</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span><span style=color:#66d9ef>static</span> NSString <span style=color:#f92672>*</span> <span style=color:#66d9ef>const</span> kUserName <span style=color:#f92672>=</span> <span style=color:#e6db74>@&#34;StrongX&#34;</span>;
</span></span></code></pre></div><p>const ä¿®é¥°çš„æ˜¯ä»–å³è¾¹çš„éƒ¨åˆ†ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼š</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span><span style=color:#66d9ef>static</span> NSString <span style=color:#66d9ef>const</span> <span style=color:#f92672>*</span> kUserName <span style=color:#f92672>=</span> <span style=color:#66d9ef>static</span> NSString <span style=color:#66d9ef>const</span> (<span style=color:#f92672>*</span> kUserName )
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>static</span> NSString <span style=color:#f92672>*</span> <span style=color:#66d9ef>const</span> kUserName <span style=color:#f92672>=</span> <span style=color:#66d9ef>static</span> NSString <span style=color:#f92672>*</span> <span style=color:#66d9ef>const</span> (kUserName)
</span></span></code></pre></div><p>å½“constä¿®é¥°çš„æ˜¯(userName)çš„æ—¶å€™ï¼Œä¸å¯å˜çš„æ˜¯userName;æ˜Ÿå·åœ¨Cè¯­è¨€ä¸­è¡¨ç¤ºæŒ‡é’ˆæŒ‡å‘ç¬¦ï¼Œä¹Ÿå°±æ˜¯è¯´è¿™ä¸ªæ—¶å€™userNameæŒ‡å‘çš„å†…å­˜å—åœ°å€ä¸å¯å˜ï¼Œè€Œå†…å­˜ä¿å­˜çš„å†…å®¹æ˜¯å¯å˜çš„ï¼Œæˆ‘ä»¬æ¥åšä¸ªå°è¯•ï¼š</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span>NSLog(<span style=color:#e6db74>@&#34;å†…å­˜åœ°å€ï¼š %x&#34;</span>,<span style=color:#f92672>&amp;</span> kUserName);
</span></span><span style=display:flex><span>kUserName <span style=color:#f92672>=</span> <span style=color:#e6db74>@&#34;superXLX&#34;</span>;
</span></span><span style=display:flex><span>NSLog(<span style=color:#e6db74>@&#34;å†…å­˜åœ°å€ï¼š %x&#34;</span>,<span style=color:#f92672>&amp;</span> kUserName);
</span></span></code></pre></div><p>ä»¥ä¸ŠNSLogä¼šæ‰“å°*userNameæŒ‡å‘çš„å†…å­˜å—åœ°å€ï¼Œè€Œä»–çš„è¾“å‡ºæ˜¯ï¼š</p><p>æˆ‘ä»¬å·²ç»å‘ç°å½“æˆ‘ä»¬æ”¹å˜å†…å­˜çš„å†…å­˜çš„æ—¶å€™ä»–çš„åœ°å€å¹¶æ²¡æœ‰å‘ç”Ÿæ”¹å˜ï¼Œä¹Ÿå°±æ˜¯è¯´è¿™æ˜¯ç¬¦åˆâ€œconstâ€ä¿®é¥°ç¬¦çš„è§„å®šçš„ã€‚
è€Œå½“æˆ‘ä»¬çš„ä¿®é¥°ç¬¦æ˜¯è¿™æ ·çš„æ—¶å€™ï¼š</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span><span style=color:#66d9ef>static</span> NSString <span style=color:#f92672>*</span> <span style=color:#66d9ef>const</span> kUserName <span style=color:#f92672>=</span> <span style=color:#e6db74>@&#34;StrongX&#34;</span>;
</span></span></code></pre></div><p>æˆ‘ä»¬åˆ™æ— æ³•æ”¹å˜userNameçš„å€¼ã€‚</p><p>æ‰€ä»¥å½“æˆ‘ä»¬éœ€è¦å®šä¹‰ä¸€ä¸ªä¸å¯å˜çš„å¸¸é‡çš„æ—¶å€™ ï¼Œæˆ‘ä»¬è¿˜æ˜¯éœ€è¦å°†â€œconstâ€ä¿®é¥°ç¬¦æ”¾åˆ°â€œ*â€æŒ‡é’ˆæŒ‡å‘ç¬¦åè¾¹æ‰å¯¹ã€‚</p><h3 id=ä¸€å®šè¦åŒæ—¶ä½¿ç”¨staticå’Œconstæ¥å®šä¹‰ä½ çš„å˜é‡>ä¸€å®šè¦åŒæ—¶ä½¿ç”¨staticå’Œconstæ¥å®šä¹‰ä½ çš„å˜é‡</h3><p>ä¸Šé¢å·²ç»è¯´äº†constæ˜¯ç”¨æ¥å®šä¹‰ä¸€ä¸ªå¸¸é‡ã€‚è€Œstaticåœ¨Cè¯­è¨€ä¸­ï¼ˆOCä¸­å»¶ç”¨ï¼‰åˆ™è¡¨æ˜æ­¤å˜é‡åªåœ¨æ”¹å˜é‡çš„è¾“å‡ºæ–‡ä»¶ä¸­å¯ç”¨(.mæ–‡ä»¶)ï¼Œå¦‚æœä½ ä¸åŠ â€œstaticâ€ç¬¦å·ï¼Œé‚£ä¹ˆç¼–è¯‘å™¨å°±ä¼šå¯¹è¯¥å˜é‡åˆ›å»ºä¸€ä¸ªâ€œå¤–éƒ¨ç¬¦å·â€ï¼Œåæœæ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ</p><p>ä½ å¯ä»¥å°è¯•åœ¨ä¸åŒç¼–è¯‘æ–‡ä»¶ä¸­åŠ å…¥ä»¥ä¸‹ä»£ç ï¼š</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span>NSString <span style=color:#f92672>*</span> <span style=color:#66d9ef>const</span> kUserName <span style=color:#f92672>=</span> <span style=color:#e6db74>@&#34;StrongX&#34;</span>;
</span></span></code></pre></div><p>å¯èƒ½å°½ç®¡æ–‡ä»¶ä¹‹é—´å¹¶æ²¡æœ‰ç›¸äº’å¼•ç”¨ï¼Œä¸å­˜åœ¨å±æ€§åé‡å¤çš„é—®é¢˜ï¼ˆå› ä¸ºè¿™å¹¶ä¸æ˜¯ä¸€ä¸ªå±æ€§ï¼Œè¿™æ˜¯ä¸€ä¸ªå¤–éƒ¨ç¬¦å·ï¼‰,ä½†æ˜¯ç¼–è¯‘å™¨è¿˜æ˜¯æŠ¥é”™äº†:</p><p>ä»–ä¼šå‘Šè¯‰ä½ åœ¨ä¸¤ä¸ªç›®æ ‡æ–‡ä»¶(.0æ–‡ä»¶æ˜¯.mæ–‡ä»¶ç¼–è¯‘åçš„è¾“å‡ºæ–‡ä»¶)æœ‰ä¸€ä¸ªé‡å¤çš„ç¬¦å·ã€‚(OCä¸­æ²¡æœ‰ç±»ä¼¼C++ä¸­çš„åå­—ç©ºé—´çš„æ¦‚å¿µ)</p><p>æ‰€ä»¥å½“ä½ åœ¨ä½ è‡ªå·±çš„.mæ–‡ä»¶ä¸­éœ€è¦å£°æ˜ä¸€ä¸ªåªæœ‰ä½ è‡ªå·±å¯è§çš„å±€éƒ¨å˜é‡(kå¼€å¤´)çš„å˜é‡çš„æ—¶å€™ä¸€å®šè¦åŒæ—¶ä½¿ç”¨â€œstaticâ€å’Œâ€œconstâ€ä¸¤ä¸ªç¬¦å·ã€‚</p><h3 id=å®šä¹‰å·¥ç¨‹ä¸­çš„å…¨å±€å˜é‡>å®šä¹‰å·¥ç¨‹ä¸­çš„å…¨å±€å˜é‡</h3><p>åœ¨æˆ‘ä»¬çš„å·¥ç¨‹ä¸­ä¸€å®šä¼šå®šä¹‰å¾ˆå¤šå…¨å±€å¸¸é‡ï¼Œå¾ˆå¤šäººçš„åšæ³•æ˜¯ä¼šåˆ›å»ºä¸€ä¸ªâ€œ constant.hâ€æ–‡ä»¶ï¼Œåœ¨è¿™ä¸ªæ–‡ä»¶ä¸­ç”¨#defineå£°æ˜è®¸å¤šå¸¸é‡ï¼Œç„¶åå°†è¿™ä¸ªå¤´æ–‡ä»¶å¼•å…¥â€œpchâ€æ–‡ä»¶ä¸­ï¼Œä¸èƒ½è¯´è¿™ä¹ˆåšä¸å¯¹ï¼Œä½†æ˜¯å¦‚åŒä¸Šé¢è¯´çš„é‚£æ ·defineå¯èƒ½è¢«ä¿®æ”¹ï¼Œå½“ç„¶åœ¨å‘½åè§„èŒƒçš„æƒ…å†µä¸‹è¿™ç§æƒ…å†µå¾ˆå°‘å‡ºç°ï¼Œå¹¶ä¸”è¿™æ ·åšçš„æ•ˆç‡å¾ˆé«˜ã€‚</p><p>ç„¶è€Œè‹¹æœæ›´æ¨èå¦å¤–ä¸€ç§åšæ³•:â€externâ€ï¼Œè¿™æ ·åšçš„ä¼˜åŠ¿æ˜¯ä¿æŒå¸¸é‡ç»å¯¹ä¸ä¼šè¢«ä¿®æ”¹ï¼Œå¹¶ä¸”ä¸€å®šåˆå§‹åŒ–è¿˜å¸¦æœ‰ç±»å‹ä¿¡æ¯ã€‚</p><p>æˆ‘ä»¬åœ¨â€constants.hâ€æ–‡ä»¶ä¸­ï¼Œå£°æ˜å¸¸é‡ï¼š</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span><span style=color:#66d9ef>extern</span> NSString <span style=color:#f92672>*</span><span style=color:#66d9ef>const</span> XUserName;
</span></span></code></pre></div><p>ç„¶ååœ¨â€œconstants.mâ€ä¸­å®šä¹‰ä»–ï¼š</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span>NSString <span style=color:#f92672>*</span><span style=color:#66d9ef>const</span> XUserName <span style=color:#f92672>=</span> <span style=color:#e6db74>@&#34;StrongX&#34;</span>;
</span></span></code></pre></div><p>ç”¨â€œexternâ€å®šä¹‰çš„å¸¸é‡å¿…é¡»ä¹Ÿåªèƒ½åˆå§‹åŒ–ä¸€æ¬¡ï¼Œä¸æ»¡è¶³å¿…é¡»ä»¥åŠåªèƒ½ä¸€æ¬¡çš„æ¡ä»¶é‚£ä¹ˆç¼–è¯‘å™¨å°±ä¼šæé†’ä½ ã€‚åœ¨å®šä¹‰å…¨å±€å˜é‡çš„æ—¶å€™éœ€è¦è¦æ³¨æ„ä½ çš„å‘½åï¼Œä½ å¯ä»¥ä½¿ç”¨è§„å®šå¥½çš„å‰ç¼€æ¥å‘½åã€‚</p><p>â€œdefineâ€å’Œâ€œexternâ€å„æœ‰å„çš„ä¼˜åŠ¿ï¼Œä¸è¿‡æˆ‘ä¸ªäººè¿˜æ˜¯æ¯”è¾ƒæ¨èä½¿ç”¨â€œexternâ€.(å› ä¸ºä¹‹å‰åœ¨ä¸€ä¸ªå·¥ç¨‹ä¸­è¢«defineå‘æƒ¨äº†â€”â€”ï¼)ã€‚</p><blockquote><p><a href=https://stackoverflow.com/questions/12815189/whats-the-different-between-const-nsstring-and-static-nsstring>what&rsquo;s the different between const NSString and static NSString</a></p></blockquote><p>I want to use class variable. the following two approaches work well, but I don&rsquo;t know what&rsquo;s the different between them.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span><span style=color:#66d9ef>static</span> NSString <span style=color:#f92672>*</span>str1 <span style=color:#f92672>=</span> <span style=color:#e6db74>@&#34;str1&#34;</span>;
</span></span><span style=display:flex><span>NSString <span style=color:#f92672>*</span><span style=color:#66d9ef>const</span> str2 <span style=color:#f92672>=</span> <span style=color:#e6db74>@&#34;str2&#34;</span>;
</span></span></code></pre></div><p>you can change the location to where str1 is pointing to but cannot do the same for str2 as it is a const pointer</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span><span style=color:#75715e>// this will work :
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>str1 <span style=color:#f92672>=</span> <span style=color:#e6db74>@&#34;Hello&#34;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// while this won&#39;t:
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>str2 <span style=color:#f92672>=</span> <span style=color:#e6db74>@&#34;Hello&#34;</span>; 
</span></span></code></pre></div><h2 id=weakify-å’Œ-strongify>@weakify å’Œ @strongify</h2><p>@weakify æ˜¯ä¸€ä¸ªå®ï¼Œç”¨äºåˆ›å»ºä¸€ä¸ªæŒ‡å‘è‡ªèº«çš„å¼±å¼•ç”¨ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå®ƒç”¨äºé¿å…é—­åŒ…ä¸­çš„å¾ªç¯å¼•ç”¨ã€‚å¾ªç¯å¼•ç”¨ä¼šå¯¼è‡´å†…å­˜æ³„æ¼ï¼Œå› ä¸ºå¯¹è±¡ä¸èƒ½æ­£ç¡®é‡Šæ”¾ã€‚@weakify å’Œ @strongify é€šå¸¸åœ¨ Objective-C ä¸­ä¸ ReactiveCocoa å’Œ ReactiveObjC åº“ä¸€èµ·ä½¿ç”¨ã€‚</p><p>åœ¨é—­åŒ…ä¸­ï¼Œå½“ä½ éœ€è¦å¼•ç”¨ self æ—¶ï¼Œé€šå¸¸éœ€è¦è€ƒè™‘åˆ°å¾ªç¯å¼•ç”¨çš„é—®é¢˜ã€‚ä½¿ç”¨ @weakify(self)ï¼Œæ‚¨å¯ä»¥åœ¨é—­åŒ…å†…éƒ¨åˆ›å»ºä¸€ä¸ªå¼±å¼•ç”¨çš„è‡ªèº«ã€‚ç„¶åï¼Œæ‚¨éœ€è¦ä½¿ç”¨ @strongify(self) å®å°†å¼±å¼•ç”¨è½¬æ¢å›å¼ºå¼•ç”¨ï¼Œä»¥ä¾¿åœ¨é—­åŒ…å†…éƒ¨å®‰å…¨åœ°ä½¿ç”¨ selfã€‚</p><p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªå®Œæ•´çš„ç¤ºä¾‹ï¼Œè¯´æ˜äº†å¦‚ä½•åœ¨ Objective-C ä¸­ä½¿ç”¨ @weakify å’Œ @strongifyï¼š</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span><span style=color:#75715e>#import &lt;ReactiveObjC/ReactiveObjC.h&gt;
</span></span></span><span style=display:flex><span><span style=color:#75715e>#import &#34;YourClass.h&#34;
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>@implementation</span> <span style=color:#a6e22e>YourClass</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>- (<span style=color:#66d9ef>instancetype</span>)<span style=color:#a6e22e>init</span> {
</span></span><span style=display:flex><span>    self <span style=color:#f92672>=</span> [super init];
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (self) {
</span></span><span style=display:flex><span>        [self setup];
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> self;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>- (<span style=color:#66d9ef>void</span>)<span style=color:#a6e22e>setup</span> {
</span></span><span style=display:flex><span>    @weakify(self)
</span></span><span style=display:flex><span>    [[RACObserve(self, someProperty) skip:<span style=color:#ae81ff>1</span>] subscribeNext:<span style=color:#f92672>^</span>(<span style=color:#66d9ef>id</span> x) {
</span></span><span style=display:flex><span>        @strongify(self)
</span></span><span style=display:flex><span>        <span style=color:#75715e>// åœ¨è¿™é‡Œå®‰å…¨åœ°ä½¿ç”¨ selfï¼Œè€Œä¸ä¼šå¯¼è‡´å¾ªç¯å¼•ç”¨
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        [self doSomething];
</span></span><span style=display:flex><span>    }];
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>- (<span style=color:#66d9ef>void</span>)<span style=color:#a6e22e>doSomething</span> {
</span></span><span style=display:flex><span>    <span style=color:#75715e>// ...
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>@end</span>
</span></span></code></pre></div><p>åœ¨æ­¤ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨ RACObserve ç›‘å¬åä¸º someProperty çš„å±æ€§çš„å˜åŒ–ã€‚å½“å±æ€§å‘ç”Ÿå˜åŒ–æ—¶ï¼Œæˆ‘ä»¬çš„é—­åŒ…ä¼šè¢«è°ƒç”¨ã€‚åœ¨é—­åŒ…ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨ @strongify(self) å°†å¼±å¼•ç”¨è½¬æ¢å›å¼ºå¼•ç”¨ï¼Œä»¥ä¾¿å®‰å…¨åœ°ä½¿ç”¨ selfã€‚è¿™ç§æ–¹æ³•é¿å…äº†å¾ªç¯å¼•ç”¨é—®é¢˜ã€‚</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span>[model setDidSelectRow:<span style=color:#f92672>^</span>{
</span></span><span style=display:flex><span>    <span style=color:#75715e>// @strongify(self)ï¼šè¿™æ˜¯ä¸€ä¸ªå®ï¼Œç”¨äºé¿å…åœ¨ block å†…éƒ¨å‡ºç°å¾ªç¯å¼•ç”¨çš„é—®é¢˜ã€‚å®ƒä¼šåˆ›å»ºä¸€ä¸ªå¼ºå¼•ç”¨çš„ self å˜é‡ï¼Œä»¥ç¡®ä¿åœ¨ block å†…éƒ¨å¯ä»¥å®‰å…¨åœ°è®¿é—® self å¯¹è±¡ã€‚
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    @strongify(self)
</span></span><span style=display:flex><span>    UIViewController <span style=color:#f92672>*</span>vc <span style=color:#f92672>=</span> [UIViewController new];
</span></span><span style=display:flex><span>    <span style=color:#75715e>// é€šè¿‡å¯¼èˆªæ§åˆ¶å™¨å°† vc æ¨å…¥åˆ°å½“å‰è§†å›¾æ§åˆ¶å™¨çš„å¯¼èˆªå †æ ˆä¸­ï¼Œå®ç°é¡µé¢çš„åˆ‡æ¢å’Œå¯¼èˆªã€‚
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    [self.navigationController pushViewController:vc animated:YES];
</span></span><span style=display:flex><span>}];
</span></span></code></pre></div><h2 id=type-size>Type Size</h2><blockquote><p>Values of type &lsquo;NSUInteger&rsquo; should not be used as format arguments; add an explicit cast to &lsquo;unsigned long&rsquo; instead</p><p>Replace &lsquo;%d", &rsquo; with &lsquo;%lu", (unsigned long)&rsquo;</p></blockquote><p>NSUInteger æ˜¯ Objective-C ä¸­çš„ä¸€ä¸ªæ— ç¬¦å·æ•´æ•°ç±»å‹ï¼Œç”¨äºè¡¨ç¤ºå¯¹è±¡çš„æ•°é‡æˆ–å®¹å™¨ä¸­çš„å…ƒç´ æ•°é‡ã€‚åœ¨ä½¿ç”¨ NSUInteger ä½œä¸ºæ ¼å¼åŒ–å­—ç¬¦ä¸²çš„å‚æ•°æ—¶ï¼Œæ‚¨éœ€è¦ä½¿ç”¨ %lu æ ¼å¼åŒ–ç¬¦å·æ¥æŒ‡å®šå®ƒçš„ç±»å‹ã€‚è¿™æ˜¯å› ä¸ºåœ¨ 64 ä½æ¶æ„ä¸‹ï¼ŒNSUInteger çš„å¤§å°ä¸º 8 ä¸ªå­—èŠ‚ï¼Œè€Œ %d åªèƒ½å¤„ç† 4 ä¸ªå­—èŠ‚çš„æœ‰ç¬¦å·æ•´æ•°ã€‚</p><p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªç¤ºä¾‹ï¼Œå±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨ %lu æ ¼å¼åŒ–ç¬¦å·æ¥è¾“å‡º NSUInteger å€¼ï¼š</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span>NSUInteger count <span style=color:#f92672>=</span> <span style=color:#ae81ff>10</span>;
</span></span><span style=display:flex><span>NSLog(<span style=color:#e6db74>@&#34;The count is: %lu&#34;</span>, count);
</span></span></code></pre></div><p>åœ¨ä¸Šé¢çš„ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬é¦–å…ˆåˆ›å»ºäº†ä¸€ä¸ªåä¸º count çš„ NSUInteger å˜é‡ï¼Œå…¶å€¼ä¸º 10ã€‚ç„¶åï¼Œæˆ‘ä»¬ä½¿ç”¨ NSLog å‡½æ•°è¾“å‡ºä¸€ä¸ªå¸¦æœ‰æ ¼å¼åŒ–å­—ç¬¦ä¸²çš„æ¶ˆæ¯ï¼Œå¹¶ä½¿ç”¨ %lu æ ¼å¼åŒ–ç¬¦å·å°† count å˜é‡çš„å€¼è¾“å‡ºä¸ºä¸€ä¸ªæ— ç¬¦å·é•¿æ•´å‹ã€‚è¿™å°†ç¡®ä¿åœ¨ 64 ä½æ¶æ„ä¸‹æ­£ç¡®å¤„ç† NSUInteger ç±»å‹çš„å€¼ã€‚</p><p>è¯·æ³¨æ„ï¼Œåœ¨ 32 ä½æ¶æ„ä¸‹ï¼ŒNSUInteger çš„å¤§å°ä¸º 4 ä¸ªå­—èŠ‚ï¼Œå› æ­¤æ‚¨å¯ä»¥ä½¿ç”¨ %u æ ¼å¼åŒ–ç¬¦å·æ¥æŒ‡å®šå®ƒçš„ç±»å‹ã€‚</p><h2 id=ternary-operator>Ternary Operator</h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span>NSString <span style=color:#f92672>*</span>content <span style=color:#f92672>=</span> searchContent <span style=color:#f92672>?:</span> kDefaultSearchText;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// equation
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>NSString <span style=color:#f92672>*</span>content;
</span></span><span style=display:flex><span><span style=color:#66d9ef>if</span> (searchContent) {
</span></span><span style=display:flex><span>    content <span style=color:#f92672>=</span> searchContent;
</span></span><span style=display:flex><span>} <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>    content <span style=color:#f92672>=</span> kDefaultSearchText;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>This is also called the null coalescing operator, and it is used to simplify conditional assignment. If searchContent is not nil, then it is assigned to content, otherwise kDefaultSearchText is assigned to content.</p><p>è¿™ä¸ªè¯­æ³•ä¹Ÿè¢«ç§°ä¸º null coalescing operatorï¼Œç”¨äºç®€åŒ–æ¡ä»¶èµ‹å€¼æ“ä½œï¼Œå¦‚æœ searchContent ä¸ä¸ºç©ºï¼Œåˆ™å°†å…¶èµ‹å€¼ç»™ contentï¼Œå¦åˆ™å°† kDefaultSearchText èµ‹å€¼ç»™ contentã€‚</p><h2 id=block>block</h2><blockquote><p><a href=https://book.douban.com/subject/26613294/>Objective-Cç¼–ç¨‹ï¼ˆç¬¬2ç‰ˆï¼‰</a></p><p>æœ¬ä¹¦å°† iOS 4.0 åŠ å…¥çš„è¯­è¨€ç‰¹æ€§ Blocks ç¿»è¯‘ä¸º â€œBlock å¯¹è±¡â€ï¼Œå› ä¸º Blocks æ˜¯ç®€ç§°ï¼Œå…¶æ­£å¼åç§°ä¸º Block Objectã€‚</p><p>Block å¯¹è±¡æ˜¯ä¸€æ®µä»£ç </p></blockquote><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span><span style=color:#f92672>^</span>{
</span></span><span style=display:flex><span>    NSLog(<span style=color:#e6db74>@&#34;This is an instruction within a block.&#34;</span>);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>^</span>(<span style=color:#66d9ef>double</span> divident, <span style=color:#66d9ef>double</span> divisor) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>double</span> quotient <span style=color:#f92672>=</span> dividend <span style=color:#f92672>/</span> divisor;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> quotient;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Block å˜é‡å£°æ˜
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>void</span> (<span style=color:#f92672>^</span>devowelizer)(<span style=color:#66d9ef>id</span>, NSUInter, Bool<span style=color:#f92672>*</span>)
</span></span><span style=display:flex><span><span style=color:#66d9ef>void</span><span style=color:#f92672>:</span> block <span style=color:#960050;background-color:#1e0010>å¯¹è±¡çš„è¿”å›ç±»å‹</span>
</span></span><span style=display:flex><span>block: <span style=color:#960050;background-color:#1e0010>å˜é‡çš„åç§°</span>
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>å®å‚ç±»å‹</span>
</span></span></code></pre></div><p><code>^(id _Nonnull sender){}</code> æ˜¯ä¸€ä¸ª Objective-C è¯­è¨€ä¸­çš„è¯­æ³•ï¼Œç”¨äºå®šä¹‰ä¸€ä¸ªå—å¯¹è±¡ï¼ˆBlock Objectï¼‰ã€‚å—å¯¹è±¡æ˜¯ä¸€ç§å°†ä»£ç å—å°è£…ä¸ºå¯¹è±¡çš„æŠ€æœ¯ï¼Œåœ¨ Objective-C ä¸­å¹¿æ³›åº”ç”¨äºå¼‚æ­¥ç¼–ç¨‹å’Œäº‹ä»¶å¤„ç†ç­‰æ–¹é¢ã€‚</p><p>åœ¨è¿™ä¸ªè¯­æ³•ä¸­ï¼Œ<code>^</code> ç¬¦å·è¡¨ç¤ºå®šä¹‰äº†ä¸€ä¸ªå—å¯¹è±¡ï¼Œåé¢çš„ <code>(id _Nonnull sender)</code> åˆ™è¡¨ç¤ºå—å¯¹è±¡çš„å‚æ•°åˆ—è¡¨ï¼Œè¿™é‡Œåªæœ‰ä¸€ä¸ªç±»å‹ä¸º idï¼Œå¹¶ä¸”ä¸èƒ½ä¸º nil çš„å‚æ•° senderã€‚æ‹¬å·ä¸­çš„ <code>_Nonnull</code> è¡¨ç¤ºè¯¥å‚æ•°ä¸èƒ½ä¸º nilï¼Œè¿™æ˜¯ Objective-C çš„ä¸€ä¸ªç©ºç±»å‹é™å®šç¬¦ï¼ˆnullability qualifierï¼‰ã€‚</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span>[self addGestureRecognizer:[[UITapGestureRecognizer alloc] initWithActionBlock:<span style=color:#f92672>^</span>(<span style=color:#66d9ef>id</span>  _Nonnull sender) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (actionBlock) {
</span></span><span style=display:flex><span>        actionBlock();
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}]];
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span><span style=color:#75715e>// swift like</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>self</span>.addGestureRecognizer(UITapGestureRecognizer { <span style=color:#66d9ef>_</span> <span style=color:#66d9ef>in</span>
</span></span><span style=display:flex><span>    actionBlock?()
</span></span><span style=display:flex><span>})
</span></span></code></pre></div><h3 id=read-more>Read More</h3><blockquote><p><a href=http://www.bczl.xyz/objc/doc-zh/8.Working-with-Blocks.html>ä½¿ç”¨Blocks</a></p></blockquote><h2 id=_nullable>_Nullable</h2><blockquote><p><a href=https://kangzubin.com/nullability-and-objective-c/>Objective-C ä¸­ nullableã€__nullableã€_Nullable çš„åŒºåˆ«</a></p></blockquote><h2 id=ns_assume_nonnull_begin-å’Œ-ns_assume_nonnull_end><code>NS_ASSUME_NONNULL_BEGIN</code> å’Œ <code>NS_ASSUME_NONNULL_END</code></h2><blockquote><p><a href=https://www.jianshu.com/p/67aa3bbb68c6>NS_ASSUME_NONNULL_BEGINå’ŒNS_ASSUME_NONNULL_END</a></p><p>åœ¨swiftä¸­ï¼Œå¯ä»¥ä½¿ç”¨!å’Œ?æ¥è¡¨ç¤ºä¸€ä¸ªå¯¹è±¡æ˜¯optionalçš„è¿˜æ˜¯non-optionalï¼Œå¦‚view?å’Œview!ã€‚è€Œåœ¨Objective-Cä¸­åˆ™æ²¡æœ‰è¿™ä¸€åŒºåˆ†ï¼Œviewå³å¯è¡¨ç¤ºè¿™ä¸ªå¯¹è±¡æ˜¯optionalï¼Œä¹Ÿå¯è¡¨ç¤ºæ˜¯non-optioanlã€‚è¿™æ ·å°±ä¼šé€ æˆä¸€ä¸ªé—®é¢˜ï¼šåœ¨Swiftä¸Objective-Cæ··ç¼–æ—¶ï¼ŒSwiftç¼–è¯‘å™¨å¹¶ä¸çŸ¥é“ä¸€ä¸ªObjective-Cå¯¹è±¡åˆ°åº•æ˜¯optionalè¿˜æ˜¯non-optionalï¼Œå› æ­¤è¿™ç§æƒ…å†µä¸‹ç¼–è¯‘å™¨ä¼šéšå¼åœ°å°†Objective-Cçš„å¯¹è±¡å½“æˆæ˜¯non-optionalã€‚</p><p>ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œè‹¹æœåœ¨Xcode 6.3å¼•å…¥äº†ä¸€ä¸ªObjective-Cçš„æ–°ç‰¹æ€§ï¼šnullability annotationsã€‚è¿™ä¸€æ–°ç‰¹æ€§çš„æ ¸å¿ƒæ˜¯ä¸¤ä¸ªæ–°çš„ç±»å‹æ³¨é‡Šï¼š__nullableå’Œ__nonnullã€‚ä»å­—é¢ä¸Šæˆ‘ä»¬å¯ä»¥çŒœåˆ°ï¼Œ__nullableè¡¨ç¤ºå¯¹è±¡å¯ä»¥æ˜¯NULLæˆ–nilï¼Œè€Œ__nonnullè¡¨ç¤ºå¯¹è±¡ä¸åº”è¯¥ä¸ºç©ºã€‚å½“æˆ‘ä»¬ä¸éµå¾ªè¿™ä¸€è§„åˆ™æ—¶ï¼Œç¼–è¯‘å™¨å°±ä¼šç»™å‡ºè­¦å‘Šã€‚</p><p>å¦‚æœéœ€è¦æ¯ä¸ªå±æ€§æˆ–æ¯ä¸ªæ–¹æ³•éƒ½å»æŒ‡å®šnonnullå’Œnullableï¼Œæ˜¯ä¸€ä»¶éå¸¸ç¹ççš„äº‹ã€‚è‹¹æœä¸ºäº†å‡è½»æˆ‘ä»¬çš„å·¥ä½œé‡ï¼Œä¸“é—¨æä¾›äº†ä¸¤ä¸ªå®ï¼š</p><p>NS_ASSUME_NONNULL_BEGINå’ŒNS_ASSUME_NONNULL_ENDã€‚è¿™ä¸¤ä¸ªå®çš„å®šä¹‰æ˜¯ï¼š</p><p><code>#define NS_ASSUME_NONNULL_BEGIN _Pragma("clang assume_nonnull begin")</code></p><p><code>#define NS_ASSUME_NONNULL_END _Pragma("clang assume_nonnull end")</code></p><p>åœ¨è¿™ä¸¤ä¸ªå®ä¹‹é—´çš„ä»£ç ï¼Œæ‰€æœ‰ç®€å•æŒ‡é’ˆå¯¹è±¡éƒ½è¢«å‡å®šä¸ºnonnullï¼Œå› æ­¤æˆ‘ä»¬åªéœ€è¦å»æŒ‡å®šé‚£äº›nullableçš„æŒ‡é’ˆã€‚</p></blockquote><p><code>NS_ASSUME_NONNULL_END</code> æ˜¯åœ¨ Objective-C ä»£ç ä¸­ä½¿ç”¨çš„ä¸€ä¸ªé¢„å¤„ç†æŒ‡ä»¤ï¼Œç”¨äºå¸®åŠ©å¤„ç†ç©ºå€¼ï¼ˆnullï¼‰çš„æƒ…å†µã€‚</p><p>åœ¨ Objective-C ä¸­ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œæ‰€æœ‰çš„å¯¹è±¡ç±»å‹éƒ½å¯ä»¥æ˜¯ç©ºå€¼ï¼ˆnullï¼‰ï¼Œå³å¯ä»¥ä¸º nilã€‚è¿™æ„å‘³ç€ä½ éœ€è¦ç»å¸¸ä½¿ç”¨ç©ºå€¼æ£€æŸ¥ï¼Œä»¥ç¡®ä¿å¯¹è±¡ä¸æ˜¯ç©ºå€¼ï¼Œç„¶åå†è¿›è¡Œæ“ä½œï¼Œä»¥é¿å…å‡ºç°æ½œåœ¨çš„å´©æºƒæˆ–é”™è¯¯ã€‚</p><p>è€Œ <code>NS_ASSUME_NONNULL_END</code> çš„ä½œç”¨æ˜¯å‡è®¾åœ¨è¯¥æŒ‡ä»¤ä¹‹åå£°æ˜çš„æ‰€æœ‰å¯¹è±¡ç±»å‹éƒ½ä¸ä¼šæ˜¯ç©ºå€¼ã€‚æ¢å¥è¯è¯´ï¼Œè¿™ä¸ªæŒ‡ä»¤ä¸ºä»£ç ä¸­çš„å¯¹è±¡ç±»å‹æ·»åŠ äº†ä¸€ä¸ªéç©ºçš„å‡è®¾ï¼Œä»è€Œå‡å°‘äº†ç©ºå€¼æ£€æŸ¥çš„éœ€è¦ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä½ å¯ä»¥å‡è®¾å¯¹è±¡éƒ½æ˜¯éç©ºçš„ï¼Œå¹¶ç›´æ¥è¿›è¡Œæ“ä½œï¼Œè€Œæ— éœ€æ¯æ¬¡éƒ½è¿›è¡Œç©ºå€¼æ£€æŸ¥ã€‚</p><p>ä½¿ç”¨ <code>NS_ASSUME_NONNULL_END</code> å¯ä»¥ç®€åŒ–ä»£ç ï¼Œå¹¶æé«˜å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§ï¼Œç‰¹åˆ«æ˜¯å½“ä½ ç¡®å®šæŸäº›å¯¹è±¡ä¸ä¼šä¸ºç©ºæ—¶ã€‚</p><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä½ ä»ç„¶éœ€è¦å¯¹æ¥è‡ªå¤–éƒ¨æˆ–ä¸ç¡®å®šçš„æºçš„å¯¹è±¡è¿›è¡Œç©ºå€¼æ£€æŸ¥ï¼Œä»¥ç¡®ä¿ä»£ç çš„å¥å£®æ€§ã€‚</p><p>ä»¥ä¸‹æ˜¯ä½¿ç”¨ <code>NS_ASSUME_NONNULL_END</code> çš„ç¤ºä¾‹ï¼š</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span>NS_ASSUME_NONNULL_BEGIN
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// åœ¨è¿™é‡Œå£°æ˜çš„å¯¹è±¡ç±»å‹é»˜è®¤ä¸ºéç©º
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>@property</span> (<span style=color:#66d9ef>nonatomic</span>, <span style=color:#66d9ef>strong</span>) NSString <span style=color:#f92672>*</span>nonNullableString;
</span></span><span style=display:flex><span><span style=color:#66d9ef>@property</span> (<span style=color:#66d9ef>nonatomic</span>, <span style=color:#66d9ef>strong</span>, nullable) NSString <span style=color:#f92672>*</span>nullableString;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>NS_ASSUME_NONNULL_END
</span></span></code></pre></div><p>åœ¨ä¸Šè¿°ç¤ºä¾‹ä¸­ï¼Œ<code>nonNullable String</code> è¢«å‡è®¾ä¸ºéç©ºï¼Œæ‰€ä»¥ä½ å¯ä»¥ç›´æ¥ä½¿ç”¨å®ƒè€Œæ— éœ€è¿›è¡Œç©ºå€¼æ£€æŸ¥ã€‚è€Œ nullable String åˆ™æ˜¯ä¸€ä¸ªå¯ç©ºçš„å¯¹è±¡ï¼Œä½ ä»ç„¶éœ€è¦è¿›è¡Œç©ºå€¼æ£€æŸ¥ã€‚</p><p>æ€»è€Œè¨€ä¹‹ï¼Œ<code>NS_ASSUME_NONNULL_END</code> æä¾›äº†ä¸€ç§ç®€åŒ–ç©ºå€¼æ£€æŸ¥çš„æ–¹å¼ï¼Œä½†ä½ ä»ç„¶éœ€è¦åœ¨é€‚å½“çš„æƒ…å†µä¸‹è¿›è¡Œç©ºå€¼æ£€æŸ¥ï¼Œä»¥ç¡®ä¿ä»£ç çš„æ­£ç¡®æ€§å’Œå¥å£®æ€§ã€‚</p><h2 id=id-type>id type</h2><p><a href=https://www.jianshu.com/p/80ef5030e6c0>OCä¸­çš„idç±»å‹</a></p><h3 id=1-é™æ€ç±»å‹å’ŒåŠ¨æ€ç±»å‹>1. é™æ€ç±»å‹å’ŒåŠ¨æ€ç±»å‹</h3><p>é™æ€ç±»å‹</p><p>å°†ä¸€ä¸ªæŒ‡é’ˆå˜é‡å®šä¹‰ä¸ºç‰¹å®šç±»çš„å¯¹è±¡æ—¶,ä½¿ç”¨çš„æ˜¯é™æ€ç±»å‹,åœ¨ç¼–è¯‘çš„æ—¶å€™å°±çŸ¥é“è¿™ä¸ªæŒ‡é’ˆå˜é‡æ‰€å±çš„ç±»,è¿™ä¸ªå˜é‡æ€»æ˜¯å­˜å‚¨ç‰¹å®šç±»çš„å¯¹è±¡ã€‚</p><p><code>Person *p = [Person new];</code></p><p>åŠ¨æ€ç±»å‹</p><p>è¿™ä¸€ç‰¹æ€§æ˜¯ç¨‹åºç›´åˆ°æ‰§è¡Œæ—¶æ‰ç¡®å®šå¯¹è±¡æ‰€å±çš„ç±»</p><p><code>id obj = [Person new];</code></p><h3 id=2-ä¸ºä»€ä¹ˆè¦æœ‰åŠ¨æ€ç±»å‹>2. ä¸ºä»€ä¹ˆè¦æœ‰åŠ¨æ€ç±»å‹?</h3><ul><li>æˆ‘ä»¬çŸ¥é“ NSObject æ˜¯ OC ä¸­çš„åŸºç±»</li><li>é‚£ä¹ˆä»»ä½•å¯¹è±¡çš„ NSObject ç±»å‹çš„æŒ‡é’ˆå¯ä»¥æŒ‡å‘ä»»æ„å¯¹è±¡ï¼Œéƒ½æ²¡æœ‰é—®é¢˜</li><li>ä½†æ˜¯ NSObject æ˜¯é™æ€ç±»å‹ï¼Œå¦‚æœé€šè¿‡å®ƒç›´æ¥è°ƒç”¨ NSObject ä¸Šé¢ä¸å­˜åœ¨çš„æ–¹æ³•ï¼Œç¼–è¯‘å™¨ä¼šæŠ¥é”™ã€‚</li><li>ä½ å¦‚æœæƒ³é€šè¿‡ NSObject çš„æŒ‡é’ˆè°ƒç”¨ç‰¹å®šå¯¹è±¡çš„æ–¹æ³•ï¼Œå°±å¿…é¡»æŠŠ <code>NSObject *</code> è¿™ç§ç±»å‹å¼ºè½¬æˆç‰¹å®šç±»å‹ã€‚ç„¶åè°ƒç”¨ã€‚å¦‚ä¸‹</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span><span style=color:#75715e>//å®šä¹‰ NSObject * ç±»å‹
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>NSObject<span style=color:#f92672>*</span> obj <span style=color:#f92672>=</span> [Cat new];
</span></span><span style=display:flex><span>Cat <span style=color:#f92672>*</span>c <span style=color:#f92672>=</span> (Cat<span style=color:#f92672>*</span>)obj;
</span></span><span style=display:flex><span>[c eat];
</span></span></code></pre></div><p>id æ˜¯ä¸€ç§é€šç”¨çš„å¯¹è±¡ç±»å‹,å®ƒå¯ä»¥æŒ‡å‘å±äºä»»ä½•ç±»çš„å¯¹è±¡,ä¹Ÿå¯ä»¥ç†è§£ä¸ºä¸‡èƒ½æŒ‡é’ˆ ,ç›¸å½“äºCè¯­è¨€çš„ <code>void *</code></p><p>å› ä¸º id æ˜¯åŠ¨æ€ç±»å‹,æ‰€ä»¥å¯ä»¥é€šè¿‡ id ç±»å‹ç›´æ¥è°ƒç”¨æŒ‡å‘å¯¹è±¡ä¸­çš„æ–¹æ³•, ç¼–è¯‘å™¨ä¸ä¼šæŠ¥é”™</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span><span style=color:#75715e>/// Represents an instance of a class.
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>struct</span> objc_object {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>Class</span> isa  OBJC_ISA_AVAILABILITY;
</span></span><span style=display:flex><span>};
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>/// A pointer to an instance of a class.
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>typedef</span> <span style=color:#66d9ef>struct</span> objc_object <span style=color:#f92672>*</span><span style=color:#66d9ef>id</span>;
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span><span style=color:#66d9ef>id</span> obj <span style=color:#f92672>=</span> [C at new];
</span></span><span style=display:flex><span>[obj eat]; <span style=color:#75715e>// ä¸ç”¨å¼ºåˆ¶ç±»å‹è½¬æ¢
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span>[obj test]; <span style=color:#75715e>//å¯ä»¥è°ƒç”¨ç§æœ‰æ–¹æ³•
</span></span></span></code></pre></div><p>æ³¨æ„ï¼š</p><ul><li>åœ¨idçš„å®šä¹‰ä¸­,å·²ç»åŒ…å¥½äº†*å·ã€‚idæŒ‡é’ˆåªèƒ½æŒ‡å‘OCä¸­çš„å¯¹è±¡<ul><li>ä¸ºäº†å°½å¯èƒ½çš„å‡å°‘ç¼–ç¨‹ä¸­å‡ºé”™ï¼ŒXcodeåšäº†ä¸€ä¸ªæ£€æŸ¥ï¼Œå½“ä½¿ç”¨id ç±»å‹çš„è°ƒç”¨æœ¬é¡¹ç›®ä¸­æ‰€æœ‰ç±»ä¸­éƒ½æ²¡æœ‰çš„æ–¹æ³•ï¼Œç¼–è¯‘å™¨ä¼šæŠ¥é”™</li><li>id ç±»å‹ä¸èƒ½ä½¿ç”¨.è¯­æ³•, å› ä¸º.è¯­æ³•æ˜¯ç¼–è¯‘æ—¶ç‰¹æ€§, è€Œidæ˜¯è¿è¡Œæ—¶ç‰¹æ€§</li></ul></li></ul><h3 id=3-idæ•°æ®ç±»å‹ä¸é™æ€ç±»å‹>3. idæ•°æ®ç±»å‹ä¸é™æ€ç±»å‹</h3><p>è™½ç„¶è¯´idæ•°æ®ç±»å‹å¯ä»¥å­˜å‚¨ä»»ä½•ç±»å‹çš„å¯¹è±¡ï¼Œä½†æ˜¯ä¸è¦å…»æˆæ»¥ç”¨è¿™ç§é€šç”¨ç±»å‹</p><ul><li>å¦‚æ²¡æœ‰ä½¿ç”¨åˆ°å¤šæ€å°½é‡ä½¿ç”¨é™æ€ç±»å‹</li><li>é™æ€ç±»å‹å¯ä»¥æ›´æ—©çš„å‘ç°é”™è¯¯(åœ¨ç¼–è¯‘é˜¶æ®µè€Œä¸æ˜¯è¿è¡Œé˜¶æ®µ)</li><li>é™æ€ç±»å‹èƒ½å¤Ÿæé«˜ç¨‹åºçš„å¯è¯»æ€§</li><li>ä½¿ç”¨åŠ¨æ€ç±»å‹å‰æœ€å¥½åˆ¤æ–­å…¶çœŸå®ç±»å‹</li></ul><p>åŠ¨æ€ç±»å‹åˆ¤æ–­ç±»å‹</p><p><code>- (BOOL)isKindOfClass:classObj</code> åˆ¤æ–­å®ä¾‹å¯¹è±¡æ˜¯å¦æ˜¯è¿™ä¸ªç±»æˆ–è€…è¿™ä¸ªç±»çš„å­ç±»çš„å®ä¾‹</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span>Person <span style=color:#f92672>*</span>p <span style=color:#f92672>=</span> [Person new];
</span></span><span style=display:flex><span>Student <span style=color:#f92672>*</span>stu <span style=color:#f92672>=</span> [Student new];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>BOOL</span> res <span style=color:#f92672>=</span> [p isKindOfClass:[Person <span style=color:#66d9ef>class</span>]];
</span></span><span style=display:flex><span>NSLog(<span style=color:#e6db74>@&#34;res = %i&#34;</span>, res); <span style=color:#75715e>// YES
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>res <span style=color:#f92672>=</span> [stu isKindOfClass:[Person <span style=color:#66d9ef>class</span>]];
</span></span><span style=display:flex><span>NSLog(<span style=color:#e6db74>@&#34;res = %i&#34;</span>, res); <span style=color:#75715e>// YES
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span>- (<span style=color:#66d9ef>BOOL</span>) <span style=color:#a6e22e>isMemberOfClass:</span> classObj <span style=color:#960050;background-color:#1e0010>åˆ¤æ–­æ˜¯å¦æ˜¯è¿™ä¸ªç±»çš„å®ä¾‹</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Person <span style=color:#f92672>*</span>p <span style=color:#f92672>=</span> [Person new];
</span></span><span style=display:flex><span>Student <span style=color:#f92672>*</span>stu <span style=color:#f92672>=</span> [Student new];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>BOOL</span> res <span style=color:#f92672>=</span> [p isMemberOfClass:[Person <span style=color:#66d9ef>class</span>]];
</span></span><span style=display:flex><span>NSLog(<span style=color:#e6db74>@&#34;res = %i&#34;</span>, res); <span style=color:#75715e>// YES
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>res <span style=color:#f92672>=</span> [stu isMemberOfClass:[Person <span style=color:#66d9ef>class</span>]];
</span></span><span style=display:flex><span>NSLog(<span style=color:#e6db74>@&#34;res = %i&#34;</span>, res); <span style=color:#75715e>// NO
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span>+ (<span style=color:#66d9ef>BOOL</span>) <span style=color:#a6e22e>isSubclassOfClass:</span>classObj <span style=color:#960050;background-color:#1e0010>åˆ¤æ–­ç±»æ˜¯å¦æ˜¯æŒ‡å®šç±»çš„å­ç±»</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>BOOL</span> res <span style=color:#f92672>=</span> [Person isSubclassOfClass:[Student <span style=color:#66d9ef>class</span>]];
</span></span><span style=display:flex><span>NSLog(<span style=color:#e6db74>@&#34;res = %i&#34;</span>, res); <span style=color:#75715e>// NO
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span>res <span style=color:#f92672>=</span> [Student isSubclassOfClass:[Person <span style=color:#66d9ef>class</span>]];
</span></span><span style=display:flex><span>NSLog(<span style=color:#e6db74>@&#34;res = %i&#34;</span>, res); <span style=color:#75715e>// YES
</span></span></span></code></pre></div><h2 id=k-keyword>k Keyword</h2><p>åœ¨ Objective-C ä¸­ï¼Œä»¥ k å¼€å¤´çš„å‘½åæƒ¯ä¾‹è¡¨ç¤ºå¸¸é‡ã€‚è¿™æ˜¯ä¸€ç§çº¦å®šä¿—æˆçš„å‘½åæ–¹å¼ï¼Œç”¨äºæ ‡è¯†åœ¨ä»£ç ä¸­å…·æœ‰å›ºå®šå€¼çš„å¸¸é‡å˜é‡ã€‚</p><p>ä¾‹å¦‚ï¼Œä½ å¯èƒ½ä¼šçœ‹åˆ°åƒ kMaxItemCountã€kDefaultAnimationDuration è¿™æ ·çš„å‘½åã€‚è¿™äº›å˜é‡é€šå¸¸ç”¨äºè¡¨ç¤ºå›ºå®šä¸å˜çš„å€¼ï¼Œå¦‚æœ€å¤§æ•°é‡ã€é»˜è®¤åŠ¨ç”»æŒç»­æ—¶é—´ç­‰ã€‚</p><p>ä½¿ç”¨ k å¼€å¤´çš„å‘½åæ–¹å¼æœ‰åŠ©äºåœ¨ä»£ç ä¸­æ›´å®¹æ˜“åœ°è¯†åˆ«å’ŒåŒºåˆ†å¸¸é‡å˜é‡ï¼Œä½¿å…¶ä¸å…¶ä»–å˜é‡å’Œæ–¹æ³•ååŒºåˆ†å¼€æ¥ã€‚æ­¤å¤–ï¼Œå®ƒè¿˜æé†’å¼€å‘è€…ä¸è¦ä¿®æ”¹è¿™äº›å¸¸é‡çš„å€¼ï¼Œä»¥ç¡®ä¿å…¶å§‹ç»ˆä¿æŒä¸å˜ã€‚</p><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œk å¼€å¤´åªæ˜¯ä¸€ç§çº¦å®šï¼Œå¹¶æ²¡æœ‰ç‰¹æ®Šçš„è¯­æ³•æˆ–åŠŸèƒ½ã€‚å› æ­¤ï¼Œä½ å¯ä»¥æ ¹æ®è‡ªå·±çš„å–œå¥½å’Œå›¢é˜Ÿçš„çº¦å®šæ¥å†³å®šæ˜¯å¦ä½¿ç”¨ k å¼€å¤´çš„å‘½åæ–¹å¼ã€‚</p><h2 id=yes-no-true-false>YES, NO, true, false</h2><p>åœ¨ Objective-C ä¸­ï¼ŒBOOL ç±»å‹è¡¨ç¤ºå¸ƒå°”å€¼ï¼ˆtrue æˆ– falseï¼‰ã€‚å®ƒæ˜¯ä¸€ä¸ªåŸºæœ¬çš„ C æ•°æ®ç±»å‹ï¼Œå¯ä»¥å­˜å‚¨ true æˆ– false çš„å€¼ã€‚åœ¨ Objective-C ä¸­ï¼ŒBOOL ç±»å‹çš„å€¼å¯ä»¥ç”¨ä¸¤ä¸ªé¢„å®šä¹‰çš„å®æ¥è¡¨ç¤ºï¼šYES å’Œ NOã€‚</p><ul><li>YES è¡¨ç¤º trueï¼Œç”¨äºè¡¨ç¤ºä¸€ä¸ªæ¡ä»¶ä¸ºçœŸçš„æƒ…å†µã€‚</li><li>NO è¡¨ç¤º falseï¼Œç”¨äºè¡¨ç¤ºä¸€ä¸ªæ¡ä»¶ä¸ºå‡çš„æƒ…å†µã€‚</li></ul><p>è¿™äº›å®åœ¨ Objective-C ä¸­é€šå¸¸ç”¨äºæ¡ä»¶è¯­å¥å’Œå¸ƒå°”å˜é‡çš„èµ‹å€¼ã€‚</p><p>ä¾‹å¦‚ï¼Œä¸‹é¢æ˜¯ä¸€ä¸ªç¤ºä¾‹ï¼Œæ¼”ç¤ºå¦‚ä½•ä½¿ç”¨ BOOL ç±»å‹å’Œ YESã€NO å®ï¼š</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span><span style=color:#66d9ef>BOOL</span> isReady <span style=color:#f92672>=</span> YES;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>if</span> (isReady <span style=color:#f92672>==</span> YES) {
</span></span><span style=display:flex><span>    NSLog(<span style=color:#e6db74>@&#34;Ready&#34;</span>);
</span></span><span style=display:flex><span>} <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>    NSLog(<span style=color:#e6db74>@&#34;Not ready&#34;</span>);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// æˆ–è€…ç›´æ¥ä½¿ç”¨å¸ƒå°”å€¼è¿›è¡Œæ¡ä»¶åˆ¤æ–­
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>if</span> (isReady) {
</span></span><span style=display:flex><span>    NSLog(<span style=color:#e6db74>@&#34;Ready&#34;</span>);
</span></span><span style=display:flex><span>} <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>    NSLog(<span style=color:#e6db74>@&#34;Not ready&#34;</span>);
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>åœ¨ Objective-C ä¸­ï¼ŒBOOL ç±»å‹çš„å˜é‡å¯ä»¥ç›´æ¥ä½¿ç”¨ YES æˆ– NO è¿›è¡Œèµ‹å€¼å’Œæ¯”è¾ƒï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ true å’Œ false çš„æ•´æ•°å€¼ 1 å’Œ 0 è¿›è¡Œèµ‹å€¼å’Œæ¯”è¾ƒã€‚ä½†é€šå¸¸å»ºè®®ä½¿ç”¨ YES å’Œ NO å®ï¼Œä»¥æé«˜ä»£ç çš„å¯è¯»æ€§å’Œä¸€è‡´æ€§ã€‚</p><blockquote><p><a href=https://www.imooc.com/wenda/detail/590463>Objective-Cä¸­çš„YES / NOï¼ŒTRUE / FALSEå’Œtrue / false</a></p></blockquote><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span><span style=color:#75715e>// æˆ‘å¯¹æ­¤è¿›è¡Œäº†è¯¦å°½çš„æµ‹è¯•ã€‚æˆ‘çš„ç»“æœåº”è¯¥è¯´æ˜ä¸€åˆ‡ï¼š
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#75715e>//These will all print &#34;1&#34;
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>NSLog(<span style=color:#e6db74>@&#34;%d&#34;</span>, true <span style=color:#f92672>==</span> true);
</span></span><span style=display:flex><span>NSLog(<span style=color:#e6db74>@&#34;%d&#34;</span>, TRUE <span style=color:#f92672>==</span> true);
</span></span><span style=display:flex><span>NSLog(<span style=color:#e6db74>@&#34;%d&#34;</span>, YES  <span style=color:#f92672>==</span> true);
</span></span><span style=display:flex><span>NSLog(<span style=color:#e6db74>@&#34;%d&#34;</span>, true <span style=color:#f92672>==</span> TRUE);
</span></span><span style=display:flex><span>NSLog(<span style=color:#e6db74>@&#34;%d&#34;</span>, TRUE <span style=color:#f92672>==</span> TRUE);
</span></span><span style=display:flex><span>NSLog(<span style=color:#e6db74>@&#34;%d&#34;</span>, YES  <span style=color:#f92672>==</span> TRUE);
</span></span><span style=display:flex><span>NSLog(<span style=color:#e6db74>@&#34;%d&#34;</span>, true <span style=color:#f92672>==</span> YES);
</span></span><span style=display:flex><span>NSLog(<span style=color:#e6db74>@&#34;%d&#34;</span>, TRUE <span style=color:#f92672>==</span> YES);
</span></span><span style=display:flex><span>NSLog(<span style=color:#e6db74>@&#34;%d&#34;</span>, YES  <span style=color:#f92672>==</span> YES);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>NSLog(<span style=color:#e6db74>@&#34;%d&#34;</span>, false <span style=color:#f92672>==</span> false);
</span></span><span style=display:flex><span>NSLog(<span style=color:#e6db74>@&#34;%d&#34;</span>, FALSE <span style=color:#f92672>==</span> false);
</span></span><span style=display:flex><span>NSLog(<span style=color:#e6db74>@&#34;%d&#34;</span>, NO    <span style=color:#f92672>==</span> false);
</span></span><span style=display:flex><span>NSLog(<span style=color:#e6db74>@&#34;%d&#34;</span>, false <span style=color:#f92672>==</span> FALSE);
</span></span><span style=display:flex><span>NSLog(<span style=color:#e6db74>@&#34;%d&#34;</span>, FALSE <span style=color:#f92672>==</span> FALSE);
</span></span><span style=display:flex><span>NSLog(<span style=color:#e6db74>@&#34;%d&#34;</span>, NO    <span style=color:#f92672>==</span> FALSE);
</span></span><span style=display:flex><span>NSLog(<span style=color:#e6db74>@&#34;%d&#34;</span>, false <span style=color:#f92672>==</span> NO);
</span></span><span style=display:flex><span>NSLog(<span style=color:#e6db74>@&#34;%d&#34;</span>, FALSE <span style=color:#f92672>==</span> NO);
</span></span><span style=display:flex><span>NSLog(<span style=color:#e6db74>@&#34;%d&#34;</span>, NO    <span style=color:#f92672>==</span> NO);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>//These will all print &#34;0&#34;
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>NSLog(<span style=color:#e6db74>@&#34;%d&#34;</span>, false <span style=color:#f92672>==</span> true);
</span></span><span style=display:flex><span>NSLog(<span style=color:#e6db74>@&#34;%d&#34;</span>, FALSE <span style=color:#f92672>==</span> true);
</span></span><span style=display:flex><span>NSLog(<span style=color:#e6db74>@&#34;%d&#34;</span>, NO    <span style=color:#f92672>==</span> true);
</span></span><span style=display:flex><span>NSLog(<span style=color:#e6db74>@&#34;%d&#34;</span>, false <span style=color:#f92672>==</span> TRUE);
</span></span><span style=display:flex><span>NSLog(<span style=color:#e6db74>@&#34;%d&#34;</span>, FALSE <span style=color:#f92672>==</span> TRUE);
</span></span><span style=display:flex><span>NSLog(<span style=color:#e6db74>@&#34;%d&#34;</span>, NO    <span style=color:#f92672>==</span> TRUE);
</span></span><span style=display:flex><span>NSLog(<span style=color:#e6db74>@&#34;%d&#34;</span>, false <span style=color:#f92672>==</span> YES);
</span></span><span style=display:flex><span>NSLog(<span style=color:#e6db74>@&#34;%d&#34;</span>, FALSE <span style=color:#f92672>==</span> YES);
</span></span><span style=display:flex><span>NSLog(<span style=color:#e6db74>@&#34;%d&#34;</span>, NO    <span style=color:#f92672>==</span> YES);
</span></span><span style=display:flex><span>NSLog(<span style=color:#e6db74>@&#34;%d&#34;</span>, true <span style=color:#f92672>==</span> false);
</span></span><span style=display:flex><span>NSLog(<span style=color:#e6db74>@&#34;%d&#34;</span>, TRUE <span style=color:#f92672>==</span> false);
</span></span><span style=display:flex><span>NSLog(<span style=color:#e6db74>@&#34;%d&#34;</span>, YES  <span style=color:#f92672>==</span> false);
</span></span><span style=display:flex><span>NSLog(<span style=color:#e6db74>@&#34;%d&#34;</span>, true <span style=color:#f92672>==</span> FALSE);
</span></span><span style=display:flex><span>NSLog(<span style=color:#e6db74>@&#34;%d&#34;</span>, TRUE <span style=color:#f92672>==</span> FALSE);
</span></span><span style=display:flex><span>NSLog(<span style=color:#e6db74>@&#34;%d&#34;</span>, YES  <span style=color:#f92672>==</span> FALSE);
</span></span><span style=display:flex><span>NSLog(<span style=color:#e6db74>@&#34;%d&#34;</span>, true <span style=color:#f92672>==</span> NO);
</span></span><span style=display:flex><span>NSLog(<span style=color:#e6db74>@&#34;%d&#34;</span>, TRUE <span style=color:#f92672>==</span> NO);
</span></span><span style=display:flex><span>NSLog(<span style=color:#e6db74>@&#34;%d&#34;</span>, YES  <span style=color:#f92672>==</span> NO);
</span></span></code></pre></div><h2 id=typedef>typedef</h2><h3 id=ns_enum>NS_ENUM</h3><p>typedef NS_ENUM(NSInteger, AppStatus) {
AppOpened = 0,
AppNotOpened = 1,
};</p><h3 id=ns_options>NS_OPTIONS</h3><p>typedef NS_OPTIONS(NSUInteger, JYAlertControllerOptions) å’Œ typedef NS_ENUM(NSUInteger, AlertControllerOptions) éƒ½æ˜¯ç”¨äºå®šä¹‰æšä¸¾ç±»å‹çš„è¯­æ³•ï¼Œä½†å®ƒä»¬åœ¨å¤„ç†æšä¸¾é€‰é¡¹çš„æ–¹å¼ä¸Šæœ‰ä¸€äº›åŒºåˆ«ã€‚</p><p>typedef NS_OPTIONS(NSUInteger, JYAlertControllerOptions)</p><p>è¿™ç§è¯­æ³•å®šä¹‰çš„æšä¸¾ç±»å‹ä½¿ç”¨äº†NS_OPTIONSå®ï¼Œè¡¨ç¤ºè¿™æ˜¯ä¸€ä¸ªä½æ©ç æšä¸¾ï¼Œå³å¯ä»¥ä½¿ç”¨æŒ‰ä½æˆ–è¿ç®—ç¬¦|ç»„åˆå¤šä¸ªé€‰é¡¹å€¼ã€‚å®ƒä»¬çš„å€¼åº”è¯¥æ˜¯2çš„å¹‚æ¬¡æ–¹ï¼Œå¯ä»¥ç‹¬ç«‹æˆ–ç»„åˆä½¿ç”¨ã€‚</p><p>ä¾‹å¦‚ï¼Œå¯ä»¥è¿™æ ·å®šä¹‰ä¸€ä¸ªä½¿ç”¨ä½æ©ç çš„æšä¸¾ç±»å‹ï¼š</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span><span style=color:#66d9ef>typedef</span> <span style=color:#a6e22e>NS_OPTIONS</span>(NSUInteger, AlertControllerOptions) {
</span></span><span style=display:flex><span>    AlertControllerOptionNone      <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>,
</span></span><span style=display:flex><span>    AlertControllerOptionOption1   <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span> <span style=color:#f92672>&lt;&lt;</span> <span style=color:#ae81ff>0</span>,
</span></span><span style=display:flex><span>    AlertControllerOptionOption2   <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span> <span style=color:#f92672>&lt;&lt;</span> <span style=color:#ae81ff>1</span>,
</span></span><span style=display:flex><span>    AlertControllerOptionOption3   <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span> <span style=color:#f92672>&lt;&lt;</span> <span style=color:#ae81ff>2</span>,
</span></span><span style=display:flex><span>};
</span></span></code></pre></div><p>ä½¿ç”¨æ—¶å¯ä»¥æŒ‰ä½æˆ–è¿ç®—ç¬¦ç»„åˆé€‰é¡¹å€¼ï¼š</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span>JYAlertControllerOptions options <span style=color:#f92672>=</span> AlertControllerOptionOption1 <span style=color:#f92672>|</span> AlertControllerOptionOption3;
</span></span><span style=display:flex><span><span style=color:#66d9ef>typedef</span> NS_ENUM(NSUInteger, JYAlertControllerOptions)
</span></span></code></pre></div><p>è¿™ç§è¯­æ³•å®šä¹‰çš„æšä¸¾ç±»å‹æ˜¯æ™®é€šçš„æšä¸¾ï¼Œè¡¨ç¤ºæ¯ä¸ªé€‰é¡¹æ˜¯äº’æ–¥çš„ï¼Œä¸èƒ½è¿›è¡Œä½è¿ç®—ç»„åˆã€‚</p><p>ä¾‹å¦‚ï¼Œå¯ä»¥è¿™æ ·å®šä¹‰ä¸€ä¸ªæ™®é€šçš„æšä¸¾ç±»å‹ï¼š</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span><span style=color:#66d9ef>typedef</span> <span style=color:#a6e22e>NS_ENUM</span>(NSUInteger, AlertControllerOptions) {
</span></span><span style=display:flex><span>    AlertControllerOptionNone,
</span></span><span style=display:flex><span>    AlertControllerOptionOption1,
</span></span><span style=display:flex><span>    AlertControllerOptionOption2,
</span></span><span style=display:flex><span>    AlertControllerOptionOption3,
</span></span><span style=display:flex><span>};
</span></span></code></pre></div><p>ä½¿ç”¨æ—¶å¯ä»¥ç›´æ¥èµ‹å€¼ä¸€ä¸ªé€‰é¡¹ï¼š</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span>AlertControllerOptions option <span style=color:#f92672>=</span> AlertControllerOptionOption1;
</span></span></code></pre></div><p>æ€»çš„æ¥è¯´ï¼Œä½¿ç”¨ NS_OPTIONS å®å®šä¹‰çš„æšä¸¾ç±»å‹é€‚ç”¨äºéœ€è¦è¿›è¡Œä½è¿ç®—ç»„åˆçš„åœºæ™¯ï¼Œè€Œ NS_ENUM å®šä¹‰çš„æšä¸¾ç±»å‹é€‚ç”¨äºäº’æ–¥çš„é€‰é¡¹ã€‚é€‰æ‹©ä½¿ç”¨å“ªç§æ–¹å¼å–å†³äºå…·ä½“çš„éœ€æ±‚å’Œè¯­ä¹‰ã€‚</p><h3 id=typedef-enum>typedef enum</h3><p><code>typedef enum UNAuthorizationOptions : NSUInteger</code> è¿™ç§è¯­æ³•æ˜¯ç”¨äºå®šä¹‰UNAuthorizationOptionsæšä¸¾ç±»å‹ï¼Œå…¶åº•å±‚çš„å€¼ç±»å‹ä¸ºNSUIntegerã€‚</p><p>åœ¨è¿™ç§è¯­æ³•ä¸­ï¼Œenumå…³é”®å­—ç”¨äºå®šä¹‰ä¸€ä¸ªæšä¸¾ç±»å‹ï¼Œè€Œtypedefå…³é”®å­—ç”¨äºä¸ºè¯¥æšä¸¾ç±»å‹åˆ›å»ºä¸€ä¸ªåˆ«åã€‚UNAuthorizationOptionsæ˜¯ä¸€ä¸ªå…·ä½“çš„æšä¸¾ç±»å‹åç§°ï¼ŒNSUIntegeræŒ‡å®šäº†è¯¥æšä¸¾çš„åº•å±‚å€¼çš„æ•°æ®ç±»å‹ã€‚</p><p>è¿™ç§æ–¹å¼å®šä¹‰çš„æšä¸¾ç±»å‹ä¸­çš„é€‰é¡¹æ˜¯äº’æ–¥çš„ï¼Œä¸èƒ½è¿›è¡Œä½è¿ç®—ç»„åˆã€‚æ¯ä¸ªé€‰é¡¹éƒ½å¯¹åº”ä¸€ä¸ªå”¯ä¸€çš„æ•´æ•°å€¼ã€‚</p><p>ä¾‹å¦‚ï¼Œå¯ä»¥è¿™æ ·å®šä¹‰ä¸€ä¸ªä½¿ç”¨UNAuthorizationOptionsæšä¸¾çš„ç±»å‹ï¼š</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span><span style=color:#66d9ef>typedef</span> <span style=color:#66d9ef>enum</span> UNAuthorizationOptions : NSUInteger {
</span></span><span style=display:flex><span>    UNAuthorizationOptionNone    <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>,
</span></span><span style=display:flex><span>    UNAuthorizationOptionBadge   <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span> <span style=color:#f92672>&lt;&lt;</span> <span style=color:#ae81ff>0</span>,
</span></span><span style=display:flex><span>    UNAuthorizationOptionSound   <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span> <span style=color:#f92672>&lt;&lt;</span> <span style=color:#ae81ff>1</span>,
</span></span><span style=display:flex><span>    UNAuthorizationOptionAlert   <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span> <span style=color:#f92672>&lt;&lt;</span> <span style=color:#ae81ff>2</span>,
</span></span><span style=display:flex><span>} UNAuthorizationOptions;
</span></span></code></pre></div><p>ä½¿ç”¨æ—¶å¯ä»¥ç›´æ¥èµ‹å€¼ä¸€ä¸ªé€‰é¡¹ï¼š</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span>UNAuthorizationOptions options <span style=color:#f92672>=</span> UNAuthorizationOptionBadge;
</span></span></code></pre></div><p>è¿™ç§è¯­æ³•ä¸æ™®é€šçš„æšä¸¾è¯­æ³•ï¼ˆä¸ä½¿ç”¨typedefï¼‰åŠŸèƒ½ä¸Šæ²¡æœ‰æœ¬è´¨åŒºåˆ«ï¼Œåªæ˜¯ä¸ºäº†åˆ›å»ºä¸€ä¸ªç®€æ´çš„åˆ«åï¼Œæ–¹ä¾¿åœ¨ä»£ç ä¸­ä½¿ç”¨ã€‚</p><h3 id=difference-between-enum-and-ns_enum>difference between enum and NS_ENUM</h3><p>åœ¨ Objective-C ä¸­ï¼Œtypedef enum å’Œ typedef NS_ENUM éƒ½æ˜¯å®šä¹‰æšä¸¾çš„æ–¹å¼ï¼Œä½† typedef NS_ENUM æä¾›äº†æ›´å¥½çš„ç±»å‹å®‰å…¨æ€§å’Œæ˜“ç”¨æ€§ã€‚</p><p>typedef enum æ˜¯Cè¯­è¨€é£æ ¼çš„æšä¸¾å®šä¹‰æ–¹å¼ã€‚ä¾‹å¦‚ï¼š</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span><span style=color:#66d9ef>typedef</span> <span style=color:#66d9ef>enum</span> {
</span></span><span style=display:flex><span>    Monday,
</span></span><span style=display:flex><span>    Tuesday,
</span></span><span style=display:flex><span>    Wednesday,
</span></span><span style=display:flex><span>    Thursday,
</span></span><span style=display:flex><span>    Friday,
</span></span><span style=display:flex><span>    Saturday,
</span></span><span style=display:flex><span>    Sunday
</span></span><span style=display:flex><span>} DaysOfWeek;
</span></span></code></pre></div><p>ç„¶åï¼Œä½ å¯ä»¥åƒè¿™æ ·ä½¿ç”¨å®ƒï¼š</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span>DaysOfWeek today <span style=color:#f92672>=</span> Monday;
</span></span></code></pre></div><p>typedef NS_ENUM æ˜¯Objective-Cçš„æšä¸¾å®šä¹‰æ–¹å¼ï¼Œå®ƒæä¾›äº†æ›´å¥½çš„ç±»å‹å®‰å…¨æ€§å’Œæ˜“ç”¨æ€§ã€‚å®ƒæœ‰ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯è¦å®šä¹‰çš„æ–°ç±»å‹åï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯åŸºç¡€ç±»å‹ï¼Œé€šå¸¸æ˜¯NSIntegerã€‚ä¾‹å¦‚ï¼š</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span><span style=color:#66d9ef>typedef</span> <span style=color:#a6e22e>NS_ENUM</span>(NSInteger, AppStatus) {
</span></span><span style=display:flex><span>    AppStatusInactive,
</span></span><span style=display:flex><span>    AppStatusActive,
</span></span><span style=display:flex><span>    AppStatusBackground
</span></span><span style=display:flex><span>};
</span></span></code></pre></div><p>ç„¶åï¼Œä½ å¯ä»¥åƒè¿™æ ·ä½¿ç”¨å®ƒï¼š</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span>AppStatus status <span style=color:#f92672>=</span> AppStatusInactive;
</span></span></code></pre></div><p>ä¼˜ç‚¹ï¼š</p><p>ä½¿ç”¨NS_ENUMå®šä¹‰çš„æšä¸¾ç±»å‹ï¼Œåœ¨ç¼–è¯‘å™¨å±‚é¢ä¼šæœ‰æ›´å¼ºçš„ç±»å‹æ£€æŸ¥ï¼Œé¿å…ç±»å‹æ··æ·†çš„é—®é¢˜ã€‚</p><p>NS_ENUMä¼šè‡ªåŠ¨æ”¯æŒ Swift çš„è¯­æ³•ç³–ï¼Œä¾‹å¦‚ä½ å¯ä»¥åœ¨ Swift ä¸­ç›´æ¥ä½¿ç”¨ .Inactive è€Œä¸æ˜¯ AppStatusInactiveã€‚</p><h2 id=nsdictionary-to-class>NSDictionary to Class</h2><blockquote><p><a href=https://paaatrick.com/2019-02-03-mj-extension-guide/>iOS MJExtensionä½¿ç”¨æ–¹æ³•æŒ‡å—(Objective-C)</a></p></blockquote><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>(</span>
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#960050;background-color:#1e0010>messagePushMethod</span> <span style=color:#960050;background-color:#1e0010>=</span> <span style=color:#960050;background-color:#1e0010>PUSH;</span>
</span></span><span style=display:flex><span>    <span style=color:#960050;background-color:#1e0010>userCapsuleMessageSettings</span> <span style=color:#960050;background-color:#1e0010>=</span>         <span style=color:#960050;background-color:#1e0010>(</span>
</span></span><span style=display:flex><span>                    <span style=color:#960050;background-color:#1e0010>{</span>
</span></span><span style=display:flex><span>            <span style=color:#960050;background-color:#1e0010>capsuleGroup</span> <span style=color:#960050;background-color:#1e0010>=</span>                 <span style=color:#960050;background-color:#1e0010>(</span>
</span></span><span style=display:flex><span>                                    <span style=color:#960050;background-color:#1e0010>{</span>
</span></span><span style=display:flex><span>                    <span style=color:#960050;background-color:#1e0010>capsuleKey</span> <span style=color:#960050;background-color:#1e0010>=</span> <span style=color:#960050;background-color:#1e0010>Service5;</span>
</span></span><span style=display:flex><span>                    <span style=color:#960050;background-color:#1e0010>capsuleKeyName</span> <span style=color:#960050;background-color:#1e0010>=</span> <span style=color:#f92672>&#34;æœåŠ¡5&#34;</span><span style=color:#960050;background-color:#1e0010>;</span>
</span></span><span style=display:flex><span>                    <span style=color:#960050;background-color:#1e0010>capsuleType</span> <span style=color:#960050;background-color:#1e0010>=</span> <span style=color:#960050;background-color:#1e0010>service;</span>
</span></span><span style=display:flex><span>                    <span style=color:#960050;background-color:#1e0010>capsuleTypeStatus</span> <span style=color:#960050;background-color:#1e0010>=</span> <span style=color:#960050;background-color:#1e0010>open;</span>
</span></span><span style=display:flex><span>                }<span style=color:#960050;background-color:#1e0010>,</span>
</span></span><span style=display:flex><span>                                    {
</span></span><span style=display:flex><span>                    <span style=color:#960050;background-color:#1e0010>capsuleKey</span> <span style=color:#960050;background-color:#1e0010>=</span> <span style=color:#960050;background-color:#1e0010>Service4;</span>
</span></span><span style=display:flex><span>                    <span style=color:#960050;background-color:#1e0010>capsuleKeyName</span> <span style=color:#960050;background-color:#1e0010>=</span> <span style=color:#f92672>&#34;æœåŠ¡4&#34;</span><span style=color:#960050;background-color:#1e0010>;</span>
</span></span><span style=display:flex><span>                    <span style=color:#960050;background-color:#1e0010>capsuleType</span> <span style=color:#960050;background-color:#1e0010>=</span> <span style=color:#960050;background-color:#1e0010>service;</span>
</span></span><span style=display:flex><span>                    <span style=color:#960050;background-color:#1e0010>capsuleTypeStatus</span> <span style=color:#960050;background-color:#1e0010>=</span> <span style=color:#960050;background-color:#1e0010>open;</span>
</span></span><span style=display:flex><span>                }<span style=color:#960050;background-color:#1e0010>,</span>
</span></span><span style=display:flex><span>                                    {
</span></span><span style=display:flex><span>                    <span style=color:#960050;background-color:#1e0010>capsuleKey</span> <span style=color:#960050;background-color:#1e0010>=</span> <span style=color:#960050;background-color:#1e0010>Service3;</span>
</span></span><span style=display:flex><span>                    <span style=color:#960050;background-color:#1e0010>capsuleKeyName</span> <span style=color:#960050;background-color:#1e0010>=</span> <span style=color:#f92672>&#34;æœåŠ¡3&#34;</span><span style=color:#960050;background-color:#1e0010>;</span>
</span></span><span style=display:flex><span>                    <span style=color:#960050;background-color:#1e0010>capsuleType</span> <span style=color:#960050;background-color:#1e0010>=</span> <span style=color:#960050;background-color:#1e0010>service;</span>
</span></span><span style=display:flex><span>                    <span style=color:#960050;background-color:#1e0010>capsuleTypeStatus</span> <span style=color:#960050;background-color:#1e0010>=</span> <span style=color:#960050;background-color:#1e0010>open;</span>
</span></span><span style=display:flex><span>                }<span style=color:#960050;background-color:#1e0010>,</span>
</span></span><span style=display:flex><span>                                    {
</span></span><span style=display:flex><span>                    <span style=color:#960050;background-color:#1e0010>capsuleKey</span> <span style=color:#960050;background-color:#1e0010>=</span> <span style=color:#960050;background-color:#1e0010>Service2;</span>
</span></span><span style=display:flex><span>                    <span style=color:#960050;background-color:#1e0010>capsuleKeyName</span> <span style=color:#960050;background-color:#1e0010>=</span> <span style=color:#f92672>&#34;æœåŠ¡2&#34;</span><span style=color:#960050;background-color:#1e0010>;</span>
</span></span><span style=display:flex><span>                    <span style=color:#960050;background-color:#1e0010>capsuleType</span> <span style=color:#960050;background-color:#1e0010>=</span> <span style=color:#960050;background-color:#1e0010>service;</span>
</span></span><span style=display:flex><span>                    <span style=color:#960050;background-color:#1e0010>capsuleTypeStatus</span> <span style=color:#960050;background-color:#1e0010>=</span> <span style=color:#960050;background-color:#1e0010>open;</span>
</span></span><span style=display:flex><span>                }<span style=color:#960050;background-color:#1e0010>,</span>
</span></span><span style=display:flex><span>                                    {
</span></span><span style=display:flex><span>                    <span style=color:#960050;background-color:#1e0010>capsuleKey</span> <span style=color:#960050;background-color:#1e0010>=</span> <span style=color:#960050;background-color:#1e0010>Service1;</span>
</span></span><span style=display:flex><span>                    <span style=color:#960050;background-color:#1e0010>capsuleKeyName</span> <span style=color:#960050;background-color:#1e0010>=</span> <span style=color:#f92672>&#34;æœåŠ¡1&#34;</span><span style=color:#960050;background-color:#1e0010>;</span>
</span></span><span style=display:flex><span>                    <span style=color:#960050;background-color:#1e0010>capsuleType</span> <span style=color:#960050;background-color:#1e0010>=</span> <span style=color:#960050;background-color:#1e0010>service;</span>
</span></span><span style=display:flex><span>                    <span style=color:#960050;background-color:#1e0010>capsuleTypeStatus</span> <span style=color:#960050;background-color:#1e0010>=</span> <span style=color:#960050;background-color:#1e0010>open;</span>
</span></span><span style=display:flex><span>                }
</span></span><span style=display:flex><span>            <span style=color:#960050;background-color:#1e0010>);</span>
</span></span><span style=display:flex><span>            <span style=color:#960050;background-color:#1e0010>groupName</span> <span style=color:#960050;background-color:#1e0010>=</span> <span style=color:#e6db74>&#34;æ´»åŠ¨&#34;</span><span style=color:#960050;background-color:#1e0010>;</span>
</span></span><span style=display:flex><span>        <span style=color:#960050;background-color:#1e0010>}</span>
</span></span><span style=display:flex><span>    <span style=color:#960050;background-color:#1e0010>);</span>
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>}</span>
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>)</span> 
</span></span></code></pre></div><h2 id=singleton>singleton</h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span><span style=color:#75715e>/// å•ä¾‹
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>+ (<span style=color:#66d9ef>instancetype</span>)<span style=color:#a6e22e>sharedInstance</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>static</span> JYUserNotificationManager <span style=color:#f92672>*</span>sharedObject <span style=color:#f92672>=</span> nil;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>static</span> dispatch_once_t onceToken;
</span></span><span style=display:flex><span>    dispatch_once(<span style=color:#f92672>&amp;</span>onceToken, <span style=color:#f92672>^</span>{
</span></span><span style=display:flex><span>        sharedObject <span style=color:#f92672>=</span> [JYUserNotificationManager new];
</span></span><span style=display:flex><span>    });
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> sharedObject;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=nsuserdefaults>NSUserDefaults</h2><p><a href="https://developer.apple.com/documentation/foundation/nsuserdefaults?language=objc">NSUserDefaults</a></p><p><a href="https://twitter.com/Blankwonder/status/1686246482012450816?s=20">Yachen Liu - Twitter</a></p><blockquote><p>é¦–å…ˆè§£é‡Šä¸‹èƒŒæ™¯ï¼ŒUserDefaults æ˜¯ iOS/macOS ç³»ç»Ÿä¸­ä¸€ä¸ªç±»ä¼¼äº Windows æ³¨å†Œè¡¨çš„æœºåˆ¶ã€‚ä½†ä¸æ³¨å†Œè¡¨ä¸åŒçš„æ˜¯ï¼ŒUserDefaults å¹¶ä¸åƒæ³¨å†Œè¡¨é‚£æ ·æ˜¯æ•´ä¸ªç³»ç»Ÿçš„å…¬ç”¨å¤§æ•°æ®åº“ï¼Œå®ƒçš„æ¯ä¸ª app çš„å­˜å‚¨ç©ºé—´æ˜¯éš”ç¦»çš„ï¼Œè¿™ä¹Ÿæ˜¯å¯¼è‡´å¤§éƒ¨åˆ†å¼€å‘è€…ä¸ç†è§£è¿™é¡¹æ”¿ç­–çš„ç¼˜ç”±ï¼Œæ—¢ç„¶æ˜¯ per app éš”ç¦»çš„å­˜å‚¨ï¼Œé‚£å°±å’Œå­˜å–ä¸€ä¸ªæ–‡ä»¶æ²¡æœ‰åŒºåˆ«ï¼Œä¸ºä»€ä¹ˆè¦å†é¢å¤–ç”³æŠ¥ï¼Œè¿™æœ‰ä»€ä¹ˆæ„ä¹‰ã€‚</p><p>ç„¶è€Œäº‹å®ä¸Š UserDefaults çš„è¡Œä¸ºå¹¶éå¦‚æ­¤ï¼ŒUserDefaults æ˜¯ä¸€ä¸ªéå¸¸å¤è€çš„å­˜åœ¨ï¼Œæœ€æ—©åœ¨ 2001 å¹´çš„ Mac OS X ä¸­åŠ å…¥ï¼Œé‚£æ—¶å€™çš„ç³»ç»Ÿè®¾è®¡è¿˜æ²¡æœ‰å¤ªå¤šçš„éšç§è€ƒè™‘ã€‚ä¸€ä¸ªå…³é”®é—®é¢˜æ˜¯ï¼ŒUserDefaults ä¸­å­˜åœ¨ domain çš„åˆ†å±‚è®¾è®¡ï¼Œå…è®¸ç³»ç»Ÿé€šè¿‡ UserDefaults å°†ä¸€äº›å¿…è¦çš„ç³»ç»Ÿè®¾ç½®æš´éœ²ç»™ appï¼Œè¿™äº›å…¬å…±çš„ä¿¡æ¯éå¸¸åºæ‚ï¼ˆè§é™„å›¾ï¼Œå¦‚æœæ˜¯å¼€å‘è€…çš„è¯ï¼Œå¯ä»¥è‡ªå·±æ‰“å° NSUserDefaults.standardUserDefaults.dictionaryRepresentation æŸ¥çœ‹ï¼‰ï¼Œæ¯”æ–¹è¯´ ApplePerAppLanguageSelectionBundleIdentifiers é”®å€¼å†…ï¼Œå°±åŒ…å«äº†æ‰€æœ‰æ›¾ç»æ‰‹åŠ¨è®¾ç½®è¿‡è¯­è¨€é€‰é¡¹çš„ app çš„ bundle idï¼ŒCarCapabilities ä¸­ç”šè‡³åŒ…å«äº† CarPlay è®¾å¤‡çš„å”¯ä¸€åºåˆ—å·ï¼Œå…¶ä½™é”®å€¼ä¸­åŒ…å«çš„æ—¶é—´æˆ³ä¹Ÿéå¸¸å…·æœ‰ç‰¹å¼‚æ€§ã€‚å¯¹è¿™äº›å…¬å…±è®¾ç½®è¿›è¡ŒæŒ‡çº¹åŒ–å¤„ç†ï¼Œå¯ä»¥è½»æ¾åšåˆ°è·¨åº”ç”¨çš„ç”¨æˆ·è¿½è¸ªã€‚ï¼ˆè¿™ç§åšæ³•ä¹Ÿæ˜¯å¾ˆæœ‰æƒ³è±¡åŠ›ï¼‰</p></blockquote><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span><span style=color:#66d9ef>for</span> (NSString <span style=color:#f92672>*</span>key <span style=color:#66d9ef>in</span> [[NSUserDefaults standardUserDefaults] dictionaryRepresentation]) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>id</span> value <span style=color:#f92672>=</span> [[[NSUserDefaults standardUserDefaults] dictionaryRepresentation] objectForKey:key];
</span></span><span style=display:flex><span>    NSLog(<span style=color:#e6db74>@&#34;Key: %@, Value: %@&#34;</span>, key, value);
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=kvo>KVO</h2><h3 id=kvc>KVC</h3><p><a href=https://github.com/pro648/tips/blob/master/sources/KVC%E5%92%8CKVO%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.md>KVCå’ŒKVOå­¦ä¹ ç¬”è®°</a></p><p>åœ¨ç¼–ç¨‹ä¸­ï¼Œæœ€å¸¸è§çš„å°±æ˜¯ç¨‹åºçš„æµç¨‹å–å†³äºä½ æ‰€ä½¿ç”¨çš„å„ç§å˜é‡å’Œå±æ€§çš„å€¼ï¼Œæ ¹æ®å˜é‡å’Œå±æ€§çš„å€¼ç¡®å®šåé¢è¿è¡Œçš„ä»£ç ï¼Œæœ‰æ—¶ä¼šæ£€æŸ¥å¯¹è±¡æ˜¯å¦å·²åŠ å…¥æ•°ç»„ï¼Œæˆ–æ˜¯å¦å·²è¢«ç§»é™¤ï¼Œå› æ­¤ï¼Œè·å–ç±»ä¸­å±æ€§çš„å˜åŒ–æ˜¯ç¼–ç¨‹ä¸­é‡è¦éƒ¨åˆ†ã€‚</p><p>æˆ‘ä»¬æœ‰å¤šç§æ–¹å¼è·å–å¯¹è±¡çš„æ”¹å˜ï¼Œå¦‚å§”æ‰˜ã€é€šçŸ¥ç­‰ã€‚å¦‚æœéœ€è¦è§‚å¯Ÿå¤šä¸ªå±æ€§çš„å˜åŒ–ï¼Œä¸ºé¿å…äº§ç”Ÿå¤§é‡çš„ä»£ç ï¼Œæœ€å¥½æ˜¯ä½¿ç”¨é”®å€¼è§‚å¯Ÿï¼ˆKey Value Observingï¼Œç®€ç§°KVOï¼‰ï¼Œè¿™ä¹Ÿæ˜¯Appleåœ¨è‡ªå·±çš„è½¯ä»¶ä¸­å¤§é‡ä½¿ç”¨çš„ä¸€ç§ã€‚</p><p>ä½¿ç”¨é”®å€¼è§‚å¯Ÿè·Ÿè¸ªå•ä¸ªå±æ€§æˆ–é›†åˆï¼ˆå¦‚æ•°ç»„ï¼‰çš„å˜åŒ–éå¸¸é«˜æ•ˆï¼Œå®ƒåªéœ€è¦åœ¨è§‚å¯Ÿè€…æ–¹æ³•ä¸­æ·»åŠ ä»£ç ï¼Œä¸éœ€è¦ä¿®æ”¹è¢«è§‚å¯Ÿæ–‡ä»¶å†…çš„ä»£ç ï¼Œè¿™ä¸€ç‚¹å’Œå§”æ‰˜ã€é€šçŸ¥ä¸åŒã€‚ä½†éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œé”®å€¼è§‚å¯Ÿï¼ˆKVOï¼‰æ˜¯å»ºç«‹åœ¨é”®å€¼ç¼–ç ï¼ˆKey Value Codingï¼Œç®€ç§°KVCï¼‰çš„åŸºç¡€ä¸Šï¼Œä¹Ÿå°±æ˜¯è¯´ä»»ä½•ä½ æƒ³ä½¿ç”¨KVOè§‚å¯Ÿçš„å±æ€§å¿…é¡»ç¬¦åˆé”®å€¼ç¼–ç ã€‚</p><h3 id=isa>isa</h3><blockquote><p><a href=https://juejin.cn/post/6844904134286524429>iOS isaè¯¦è§£</a></p><p>æœ‰å¦‚ä¸‹ä»£ç ï¼Œåœ¨æ§åˆ¶å°è¾“å‡ºobjçš„æ•°æ®ç»“æ„ï¼Œæ’åœ¨ç¬¬ä¸€ä½çš„å°±æ˜¯isaçš„åœ°å€ã€‚</p></blockquote><p><img src=https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2020/4/21/1719d1e1b0d5b132~tplv-t2oaga2asx-zoom-in-crop-mark:4536:0:0:0.image alt=isa-address></p><blockquote><p>ä¸ºä»€ä¹ˆå‘¢ï¼Ÿå› ä¸ºå¯¹è±¡ç»§æ‰¿è‡ªNSObjectï¼ŒNSObjectåœ¨åº•å±‚çš„å®ç°æ˜¯ç»“æ„ä½“objc_objectï¼Œé‡Œé¢åªæœ‰ä¸€ä¸ªisaæˆå‘˜å˜é‡ï¼Œé‚£ä¹ˆå¯¹è±¡çš„é¦–åœ°å€æŒ‡å‘çš„ç¬¬ä¸€å—å°±æ˜¯isaæ‰€åœ¨ã€‚</p></blockquote><p><img src=https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2020/4/22/1719d7bec80b8e5e~tplv-t2oaga2asx-zoom-in-crop-mark:4536:0:0:0.image alt=isa-sourcecode></p><h3 id=isa-swizzling>isa-swizzling</h3><p>iOSä¸­çš„Method Swizzlingæ˜¯ä¸€ç§æŠ€æœ¯ï¼Œç”¨äºåœ¨è¿è¡Œæ—¶äº¤æ¢ä¸¤ä¸ªæ–¹æ³•çš„å®ç°ã€‚å®ƒå…è®¸å¼€å‘è€…åœ¨ä¸ä¿®æ”¹åŸå§‹ä»£ç çš„æƒ…å†µä¸‹ï¼ŒåŠ¨æ€æ”¹å˜æ–¹æ³•çš„è¡Œä¸ºã€‚</p><blockquote><p><a href=https://juejin.cn/post/6844903972528979976>Juejin</a></p><p>Key-Value Observing Implementation Details</p><p>Automatic key-value observing is implemented using a technique calledÂ isa-swizzling.</p><p>TheÂ isaÂ pointer, as the name suggests, points to the object&rsquo;s class which maintains a dispatch table. This dispatch table essentially contains pointers to the methods the class implements, among other data.</p></blockquote><ul><li><a href=https://www.fatbobman.com/posts/mastering-Observation/>æ·±åº¦è§£è¯» Observation â€”â€” SwiftUI æ€§èƒ½æå‡çš„æ–°é€”å¾„</a></li><li><a href=https://augmentedcode.io/2020/11/08/observing-a-kvo-compatible-model-in-swiftui-and-mvvm/>Observing a KVO compatible model in SwiftUI and MVVM</a></li></ul><blockquote><p><a href=https://www.jianshu.com/p/ce5bd1383a05>Juejin</a></p></blockquote><p>è¿™é‡Œç®€å•æ¥è¯´ï¼Œå°±æ˜¯KVOçš„å®ç°ä½¿ç”¨äº†ä¸€ç§å«åšisa-swizzlingçš„æŠ€æœ¯ï¼Œä¸»è¦çš„åŸç†æ˜¯å½“è§‚å¯Ÿä¸€ä¸ªå¯¹è±¡çš„å±æ€§æ—¶ï¼Œè¿™ä¸ªå¯¹è±¡çš„isaæŒ‡é’ˆå°†ä¼šè¢«ä¿®æ”¹ï¼ŒisaæŒ‡é’ˆä¼šæŒ‡å‘ä¸€ä¸ªä¸­é—´ç±»ï¼Œè¿™ä¸ªä¸­é—´ç±»æ˜¯è¢«è§‚å¯Ÿå¯¹è±¡çš„å­ç±»ï¼Œå®ƒé‡å†™äº†è¢«è§‚å¯Ÿå±æ€§çš„setteræ–¹æ³•ã€‚åŒæ—¶ä¸ºäº†éšè—ä¸­é—´ç±»ï¼Œä¿®æ”¹äº†è¿™ä¸ªä¸­é—´ç±»çš„classæ–¹æ³•ï¼Œä½¿å®ƒè¿”å›çš„æ˜¯è¢«è§‚å¯Ÿå¯¹è±¡çš„ç±»è€Œä¸æ˜¯è¿™ä¸ªä¸­é—´ç±»ã€‚</p><h3 id=method-swizzling>method-swizzling</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span><span style=color:#66d9ef>import</span> <span style=color:#a6e22e>UIKit</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>import</span> <span style=color:#a6e22e>Foundation</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>extension</span> <span style=color:#a6e22e>UIColor</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>@objc</span> <span style=color:#66d9ef>func</span> <span style=color:#a6e22e>colorDescription</span>() -&gt; String {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#e6db74>&#34;Print rainbow colours.&#34;</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>let</span> swizzleDescriptionImplementation: Void = {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>let</span> instance: UIColor = .red
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>let</span> aClass: AnyClass! = object_getClass(instance)
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>let</span> originalMethod = class_getInstanceMethod(aClass, <span style=color:#66d9ef>#selector</span>(description))
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>let</span> swizzledMethod = class_getInstanceMethod(aClass, <span style=color:#66d9ef>#selector</span>(colorDescription))
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> <span style=color:#66d9ef>let</span> originalMethod = originalMethod, <span style=color:#66d9ef>let</span> swizzledMethod = swizzledMethod {
</span></span><span style=display:flex><span>            method_exchangeImplementations(originalMethod, swizzledMethod)
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }()
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>func</span> <span style=color:#a6e22e>swizzleDescription</span>() {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>self</span>.swizzleDescriptionImplementation
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>print(UIColor.red)
</span></span><span style=display:flex><span>print(UIColor.blue)
</span></span><span style=display:flex><span>UIColor.swizzleDescription()
</span></span><span style=display:flex><span>print(UIColor.red)
</span></span><span style=display:flex><span>print(UIColor.blue)
</span></span><span style=display:flex><span>UIColor.swizzleDescription()
</span></span><span style=display:flex><span>print(UIColor.red)
</span></span><span style=display:flex><span>print(UIColor.blue)
</span></span></code></pre></div><h2 id=æ¶ˆæ¯è½¬å‘---message-forwarding>æ¶ˆæ¯è½¬å‘ - Message Forwarding</h2><blockquote><p><a href=https://juejin.cn/post/6844903600968171533>æ¶ˆæ¯è½¬å‘ç¯‡(Message Forwarding)</a></p></blockquote><ul><li>æ–¹æ³•ï¼šä¸ä¸€ä¸ªç±»ç›¸å…³çš„ä¸€æ®µå®é™…ä»£ç ï¼Œå¹¶ç»™å‡ºä¸€ä¸ªç‰¹å®šçš„åå­—ã€‚ä¾‹ï¼š<code>- (int)meaning { return 42; }</code></li><li>æ¶ˆæ¯ï¼šå‘é€ç»™å¯¹è±¡çš„åç§°å’Œä¸€ç»„å‚æ•°ã€‚ç¤ºä¾‹ï¼šå‘0x12345678å¯¹è±¡å‘é€ <code>meaning</code> å¹¶ä¸”æ²¡æœ‰å‚æ•°ã€‚</li><li>é€‰æ‹©å™¨ï¼šè¡¨ç¤ºæ¶ˆæ¯æˆ–æ–¹æ³•åç§°çš„ä¸€ç§ç‰¹æ®Šæ–¹å¼ï¼Œè¡¨ç¤ºä¸ºç±»å‹ SELã€‚é€‰æ‹©å™¨æœ¬è´¨ä¸Šå°±æ˜¯ä¸é€æ˜çš„å­—ç¬¦ä¸²ï¼Œå®ƒä»¬è¢«ç®¡ç†ï¼Œå› æ­¤å¯ä»¥ä½¿ç”¨ç®€å•çš„æŒ‡é’ˆç›¸ç­‰æ¥æ¯”è¾ƒå®ƒä»¬ï¼Œä»è€Œæé«˜é€Ÿåº¦ã€‚ï¼ˆå®ç°å¯èƒ½ä¼šæœ‰æ‰€ä¸åŒï¼Œä½†è¿™åŸºæœ¬ä¸Šæ˜¯ä»–ä»¬åœ¨å¤–éƒ¨çœ‹èµ·æ¥çš„æ ·å­ã€‚ï¼‰ä¾‹å¦‚ï¼š<code>@selector(meaning)</code>ã€‚</li><li>æ¶ˆæ¯å‘é€ï¼šæ¥æ”¶ä¿¡æ¯å¹¶æŸ¥æ‰¾å’Œæ‰§è¡Œé€‚å½“æ–¹æ³•çš„è¿‡ç¨‹ã€‚</li></ul></article></html>