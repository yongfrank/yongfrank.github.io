<!doctype html><html lang=en-us><title>Objc Snippet | Blog by Frank</title><meta charset=utf-8><script async src="https://www.googletagmanager.com/gtag/js?id=G-XZQ6YTCMN7"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-XZQ6YTCMN7",{anonymize_ip:!1})}</script><meta name=generator content="Hugo 0.111.3"><meta name=description content="my blog"><meta name=viewport content="width=device-width,initial-scale=1"><link rel=stylesheet href=https://yongfrank.github.io/css/index.css><link rel=canonical href=https://yongfrank.github.io/posts/objc-snippet/><link rel=alternate type=application/rss+xml href title="Blog by Frank"><header><a href=https://yongfrank.github.io/ class=title>Blog by Frank</a><nav><a href=/about/>About</a></nav></header><article><header><h1>Objc Snippet</h1><time datetime=2023-03-29T21:18:40+08:00>March 29, 2023</time></header><nav id=TableOfContents><ul><li><a href=#type-unsafe>Type unsafe</a></li><li><a href=#class-in-objective-c>Class in Objective-C</a><ul><li><a href=#quickstarthttpswwwtutorialspointcomobjective_cobjective_c_quick_guidehtm><a href=https://www.tutorialspoint.com/objective_c/objective_c_quick_guide.htm>QuickStart</a></a></li><li><a href=#synthesize>@synthesize</a></li></ul></li><li><a href=#property-in-objc>Property in objc</a></li><li><a href=#property-ä¿®é¥°ç¬¦>Property ä¿®é¥°ç¬¦</a><ul><li><a href=#atomic>atomic</a></li><li><a href=#nonatomic>nonatomic</a></li><li><a href=#copy>copy</a></li><li><a href=#assign>assign</a></li><li><a href=#strong>strong</a></li><li><a href=#weak>weak</a></li></ul></li><li><a href=#åˆå§‹åŒ–-initializationhttpsdeveloperapplecomlibraryarchivedocumentationcocoaconceptualprogrammingwithobjectivecworkingwithobjectsworkingwithobjectshtmlapple_refdocuidtp40011210-ch4-sw1>åˆå§‹åŒ– <a href=https://developer.apple.com/library/archive/documentation/Cocoa/Conceptual/ProgrammingWithObjectiveC/WorkingwithObjects/WorkingwithObjects.html#//apple_ref/doc/uid/TP40011210-CH4-SW1>Initialization</a></a></li><li><a href=#lazy-instantiation--ä¸‹åˆ’çº¿å˜é‡>Lazy instantiation & ä¸‹åˆ’çº¿å˜é‡</a><ul><li><a href=#another-example-on-iosé¢è¯•å®å…¸httpsheron-newlandgithubioassetsknowledgesindexhtml>Another Example on <a href=https://heron-newland.github.io/assets/knowledges/index.html>iOSé¢è¯•å®å…¸</a></a></li><li><a href=#swift--objc-lazy>Swift & Objc Lazy</a></li><li><a href=#see-more-on>See more on</a></li></ul></li><li><a href=#struct-in-objective-c>Struct in Objective-C</a></li><li><a href=#turn-json-file-into-model-object>Turn JSON File into Model Object</a><ul><li><a href=#array-of-json-objects>Array of JSON Objects</a></li><li><a href=#another-example>Another Example</a></li></ul></li><li><a href=#-isequal-isequalto>==, isEqual, isEqualTo</a><ul><li><a href=#--isequal-objc--swift>==, ===, isEqual: Objc & Swift</a></li></ul></li></ul></nav><h2 id=type-unsafe>Type unsafe</h2><ul><li><a href=https://developer.apple.com/documentation/objectivec/1418956-nsobject/1418795-isequal>isEqual</a></li><li><a href=https://developer.apple.com/documentation/objectivec/nsobject/1393823-isequalto>isEqualTo</a></li><li><a href=https://juejin.cn/post/7127912661714468872>OCåº•å±‚åŸç†ä¹‹isEqual</a></li><li><a href=https://existorlive.github.io/2020/05/26/isEqual-AND-hash-of-NSObject.html>isEqual</a></li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span>NSLog(<span style=color:#e6db74>@&#34;%d&#34;</span>, false <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span>NSLog(<span style=color:#e6db74>@&#34;%d&#34;</span>, nil <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span>NSLog(<span style=color:#e6db74>@&#34;%d&#34;</span>, <span style=color:#ae81ff>0</span> <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span>NSLog(<span style=color:#e6db74>@&#34;%d&#34;</span>, [false isEqual:<span style=color:#ae81ff>0</span>]);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>if</span> (nil <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span>) {
</span></span><span style=display:flex><span>    NSLog(<span style=color:#e6db74>@&#34;equal&#34;</span>);
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=class-in-objective-c>Class in Objective-C</h2><ul><li><a href=https://developer.apple.com/library/archive/documentation/Cocoa/Conceptual/ProgrammingWithObjectiveC/Introduction/Introduction.html>Apple Developer: Programming With Objective-C</a></li><li><a href=https://developer.apple.com/library/archive/referencelibrary/GettingStarted/RoadMapOSX/chapters/01_Introduction.html>Apple Developer: Start Developing Mac Apps Today</a></li></ul><h3 id=quickstarthttpswwwtutorialspointcomobjective_cobjective_c_quick_guidehtm><a href=https://www.tutorialspoint.com/objective_c/objective_c_quick_guide.htm>QuickStart</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span><span style=color:#66d9ef>@interface</span> <span style=color:#a6e22e>Person</span> : <span style=color:#a6e22e>NSObject</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>@property</span> (<span style=color:#66d9ef>nonatomic</span>, <span style=color:#66d9ef>strong</span>) NSString <span style=color:#f92672>*</span>name;
</span></span><span style=display:flex><span><span style=color:#66d9ef>@property</span> (<span style=color:#66d9ef>nonatomic</span>, <span style=color:#66d9ef>assign</span>) NSInteger age;
</span></span><span style=display:flex><span><span style=color:#66d9ef>@property</span> (<span style=color:#66d9ef>nonatomic</span>, <span style=color:#66d9ef>assign</span>) <span style=color:#66d9ef>int</span> birthYear;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>- (<span style=color:#66d9ef>instancetype</span>)<span style=color:#a6e22e>initWithName:</span>(NSString <span style=color:#f92672>*</span>)name <span style=color:#a6e22e>age:</span>(NSInteger)age;
</span></span><span style=display:flex><span>- (<span style=color:#66d9ef>void</span>)<span style=color:#a6e22e>sayHello</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>@end</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>@implementation</span> <span style=color:#a6e22e>Person</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>@synthesize</span> birthYear;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>- (<span style=color:#66d9ef>instancetype</span>)<span style=color:#a6e22e>initWithName:</span>(NSString <span style=color:#f92672>*</span>)name <span style=color:#a6e22e>age:</span>(NSInteger)age {
</span></span><span style=display:flex><span>    self <span style=color:#f92672>=</span> [super init];
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (self) {
</span></span><span style=display:flex><span>        _name <span style=color:#f92672>=</span> name;
</span></span><span style=display:flex><span>        _age <span style=color:#f92672>=</span> age;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> self;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>- (<span style=color:#66d9ef>void</span>)<span style=color:#a6e22e>sayHello</span> {
</span></span><span style=display:flex><span>    NSLog(<span style=color:#e6db74>@&#34;Hello, my name is %@ and I am %ld years old.&#34;</span>, self.name, (<span style=color:#66d9ef>long</span>)self.age);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>@end</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> main(<span style=color:#66d9ef>int</span> argc, <span style=color:#66d9ef>const</span> <span style=color:#66d9ef>char</span> <span style=color:#f92672>*</span> argv[]) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>@autoreleasepool</span> {
</span></span><span style=display:flex><span>        <span style=color:#75715e>// insert code here...
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        NSLog(<span style=color:#e6db74>@&#34;Hello, World!&#34;</span>);
</span></span><span style=display:flex><span>        Person <span style=color:#f92672>*</span>person <span style=color:#f92672>=</span> [[Person alloc] initWithName:<span style=color:#e6db74>@&#34;John Doe&#34;</span> age:<span style=color:#ae81ff>25</span>];
</span></span><span style=display:flex><span>        person.birthYear <span style=color:#f92672>=</span> <span style=color:#ae81ff>2022</span>;
</span></span><span style=display:flex><span>        [person sayHello];
</span></span><span style=display:flex><span>        NSLog(<span style=color:#e6db74>@&#34;%d&#34;</span>, person.birthYear);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=synthesize>@synthesize</h3><p>@synthesize height;</p><p>@synthesize is an Objective-C directive used to automatically generate getter and setter methods for a class property.</p><p>Before the release of Objective-C 2.0, developers had to write both the getter and setter methods themselves, which could be quite verbose and repetitive. However, with @synthesize, the compiler can generate these methods automatically based on the declared property, greatly simplifying the code.</p><p>For example, suppose you have a property height declared in a class Person. Instead of writing the getter and setter methods yourself, you can simply write:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span><span style=color:#66d9ef>@implementation</span> <span style=color:#a6e22e>Person</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>@synthesize</span> height;
</span></span><span style=display:flex><span><span style=color:#66d9ef>@end</span>
</span></span></code></pre></div><p>This will automatically generate the getter and setter methods for the height property.</p><p>Note that with the release of Objective-C 2.0, @synthesize is no longer strictly necessary. Instead, you can use the @property directive to declare the property and the compiler will automatically generate the getter and setter methods by default. However, @synthesize can still be useful in some cases, such as when you need to customize the behavior of the generated methods.</p><h2 id=property-in-objc>Property in objc</h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span><span style=color:#66d9ef>@interface</span> <span style=color:#a6e22e>MyObject</span> : <span style=color:#a6e22e>NSObject</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> memberVar1; <span style=color:#75715e>// æ˜¾å¼åœ°å£°æ˜å®ä¾‹å˜é‡
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>id</span>  memberVar2;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>@interface</span> <span style=color:#a6e22e>HotDiscussionModel</span> : <span style=color:#a6e22e>NSObject</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>@property</span> (<span style=color:#66d9ef>nonatomic</span>, <span style=color:#66d9ef>assign</span>) NSString <span style=color:#f92672>*</span>guid;
</span></span><span style=display:flex><span><span style=color:#66d9ef>@property</span> (<span style=color:#66d9ef>nonatomic</span>, <span style=color:#66d9ef>assign</span>) NSString <span style=color:#f92672>*</span>picUrl;
</span></span><span style=display:flex><span><span style=color:#66d9ef>@property</span> (<span style=color:#66d9ef>nonatomic</span>, <span style=color:#66d9ef>assign</span>) NSString <span style=color:#f92672>*</span>hotLink;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>@end</span>
</span></span></code></pre></div><p>è¿™ä¸¤æ®µä»£ç çš„åŒºåˆ«åœ¨äºå®šä¹‰å®ä¾‹å˜é‡çš„æ–¹å¼ä¸åŒã€‚</p><p>ç¬¬ä¸€æ®µä»£ç åœ¨ @interface è¯­å¥ä¸­å£°æ˜äº†å®ä¾‹å˜é‡ memberVar1 å’Œ memberVar2ã€‚è¿™ç§æ–¹å¼æ˜¯æ—©æœŸ Objective-C çš„å†™æ³•ï¼Œåœ¨ç°ä»£ Objective-C ä¸­ä¸å¤ªå¸¸è§äº†ã€‚</p><p>è€Œç¬¬äºŒæ®µä»£ç åˆ™ä½¿ç”¨äº†ç°ä»£ Objective-C çš„å±æ€§å£°æ˜æ–¹å¼ï¼Œä½¿ç”¨ @property æ¥å®šä¹‰å±æ€§ï¼Œä¸éœ€è¦æ˜¾å¼åœ°å£°æ˜å®ä¾‹å˜é‡ã€‚ç¼–è¯‘å™¨ä¼šè‡ªåŠ¨ä¸ºå±æ€§ç”Ÿæˆå¯¹åº”çš„å®ä¾‹å˜é‡ _guidã€_picUrl å’Œ _hotLinkã€‚</p><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåœ¨ç¬¬äºŒæ®µä»£ç ä¸­ï¼Œå±æ€§çš„ assign å…³é”®å­—è¡¨ç¤ºè¯¥å±æ€§çš„ setter æ–¹æ³•ä¼šç›´æ¥å°†ä¼ å…¥çš„å‚æ•°èµ‹å€¼ç»™å®ä¾‹å˜é‡ï¼Œä¸ä¼šè¿›è¡Œå†…å­˜ç®¡ç†ã€‚è€Œ retain å’Œ copy åˆ™ä¼šè‡ªåŠ¨å¤„ç†å†…å­˜ç®¡ç†ï¼Œretain è¡¨ç¤º setter æ–¹æ³•ä¼šå¯¹ä¼ å…¥çš„å¯¹è±¡è¿›è¡Œå¼•ç”¨è®¡æ•° +1 çš„æ“ä½œï¼Œè€Œ copy è¡¨ç¤º setter æ–¹æ³•ä¼šå¯¹ä¼ å…¥çš„å¯¹è±¡è¿›è¡Œä¸€ä»½æ‹·è´ï¼Œç„¶åè¿›è¡Œå¼•ç”¨è®¡æ•°çš„æ“ä½œã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œå¯¹äºå¯¹è±¡ç±»å‹çš„å±æ€§ï¼Œæˆ‘ä»¬åº”è¯¥ä½¿ç”¨ copy æˆ– strong æ¥è¿›è¡Œå†…å­˜ç®¡ç†ï¼Œè€Œå¯¹äºåŸºæœ¬æ•°æ®ç±»å‹çš„å±æ€§ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ assignã€‚</p><h2 id=property-ä¿®é¥°ç¬¦>Property ä¿®é¥°ç¬¦</h2><blockquote><p><a href=https://www.jianshu.com/p/4fb51144d4ca>iOS ä¸­å®šä¹‰å±æ€§æ—¶çš„atomicã€nonatomicã€copyã€assignã€strongã€weakå‡ ä¸ªç‰¹æ€§çš„åŒºåˆ«</a></p></blockquote><h3 id=atomic>atomic</h3><ul><li>é»˜è®¤å±æ€§ã€‚</li><li>å½“å‰è¿›ç¨‹è¿›è¡Œåˆ°ä¸€åŠï¼Œå…¶ä»–çº¿ç¨‹æ¥è®¿é—®å½“å‰çº¿ç¨‹ï¼Œå¯ä»¥ä¿è¯å…ˆæ‰§è¡Œå®Œæ¯•å½“å‰çº¿ç¨‹ã€‚</li><li>åªæ˜¯ä¿è¯setter/getter å®Œæ•´ï¼Œä¸æ˜¯çº¿ç¨‹å®‰å…¨ã€‚</li></ul><h3 id=nonatomic>nonatomic</h3><ul><li>éé»˜è®¤å±æ€§ã€‚</li><li>ä¸¤ä¸ªçº¿ç¨‹åŒæ—¶è®¿é—®åŒä¸€ä¸ªå±æ€§å°†ä¼šå¯¼è‡´æ— æ³•é¢„è®¡çš„ç»“æœã€‚</li><li>ä¼˜ç‚¹æ˜¯ç¨‹åºè¿è¡Œé€Ÿåº¦å¿«ã€‚</li></ul><h3 id=copy>copy</h3><ul><li>æ˜¯ownerï¼Œä¸æ˜¯referenceï¼ˆå¼•ç”¨ï¼‰ã€‚å½“å¯¹è±¡å¯å˜æ—¶ï¼Œå¯è®¾ç½®ä¸ºcopyï¼Œç”¨äºè·å–æ­¤æ—¶å€¼çš„å‰¯æœ¬ã€‚</li><li>æ–°çš„å¯¹è±¡å¼•ç”¨è®¡æ•°ä¸º1ï¼Œä¸åŸå§‹å¯¹è±¡å¼•ç”¨è®¡æ•°æ— å…³ï¼Œä¸”åŸå§‹å¯¹è±¡å¼•ç”¨è®¡æ•°ä¸ä¼šæ”¹å˜ã€‚</li><li>ä½¿ç”¨copyåˆ›å»ºçš„æ–°å¯¹è±¡ä¹Ÿæ˜¯å¼ºå¼•ç”¨ï¼Œä½¿ç”¨å®Œæˆåéœ€è¦è´Ÿè´£é‡Šæ”¾è¯¥å¯¹è±¡ã€‚</li><li>copyç‰¹æ€§å¯ä»¥å‡å°‘å¯¹è±¡å¯¹ä¸Šä¸‹æ–‡çš„ä¾èµ–ã€‚æ–°å¯¹è±¡ã€åŸå§‹å¯¹è±¡ä¸­ä»»ä¸€å¯¹è±¡çš„å€¼æ”¹å˜ä¸ä¼šå½±å“å¦ä¸€å¯¹è±¡çš„å€¼ã€‚</li><li>è¦æƒ³è®¾ç½®è¯¥å¯¹è±¡çš„ç‰¹æ€§ä¸ºcopyï¼Œè¯¥å¯¹è±¡å¿…é¡»éµå®ˆNSCopyingåè®®ï¼ŒFoundationç±»é»˜è®¤å®ç°äº†NSCopyingåè®®ï¼Œæ‰€ä»¥åªéœ€è¦ä¸ºè‡ªå®šä¹‰çš„ç±»å®ç°è¯¥åè®®å³å¯ã€‚æ›´å…¨é¢äº†è§£NSCopyingåè®®ï¼ŒæŸ¥çœ‹ æ·±å¤åˆ¶ã€æµ…å¤åˆ¶ã€copyã€mutableCopy ä¸€æ–‡ã€‚</li></ul><h3 id=assign>assign</h3><ul><li>ä¸copyç›¸åï¼Œåªæ˜¯referenceï¼Œä¸æ˜¯ownerã€‚åªè¿”å›æŒ‡é’ˆã€‚</li><li>ç”¨äºfloatã€intã€BOOLç­‰ç±»å‹ã€‚</li><li>é‡Šæ”¾åå†å‘é€æ¶ˆæ¯ä¼šå¯¼è‡´ç¨‹åºå´©æºƒã€‚</li></ul><h3 id=strong>strong</h3><ul><li>é»˜è®¤å±æ€§</li><li>strong = retain iOSå¼•å…¥ARCåï¼Œç”¨strongæ›¿ä»£äº†retainã€‚</li><li>åˆ›å»ºä¸€ä¸ªå¼ºå¼•ç”¨çš„æŒ‡é’ˆï¼Œå¼•ç”¨å¯¹è±¡å¼•ç”¨è®¡æ•°åŠ 1ã€‚</li><li>strongç‰¹æ€§è¡¨ç¤ºä¸¤ä¸ªå¯¹è±¡å†…å­˜åœ°å€ç›¸åŒï¼ˆå»ºç«‹ä¸€ä¸ªæŒ‡é’ˆï¼Œè¿›è¡ŒæŒ‡é’ˆæ‹·è´ï¼‰ï¼Œå†…å®¹ä¼šä¸€ç›´ä¿æŒç›¸åŒï¼Œç›´åˆ°æ›´æ”¹ä¸€æ–¹å†…å­˜åœ°å€ï¼Œæˆ–å°†å…¶è®¾ç½®ä¸ºnilã€‚</li><li>å¦‚æœæœ‰å¤šä¸ªå¯¹è±¡åŒæ—¶å¼•ç”¨ä¸€ä¸ªå±æ€§ï¼Œä»»ä¸€å¯¹è±¡å¯¹è¯¥å±æ€§çš„ä¿®æ”¹éƒ½ä¼šå½±å“å…¶ä»–å¯¹è±¡è·å–çš„å€¼ã€‚</li><li>æ‰€æœ‰å®ä¾‹å˜é‡ã€å±€éƒ¨å˜é‡é»˜è®¤éƒ½æ˜¯strongã€‚</li></ul><h3 id=weak>weak</h3><ul><li>åªæ˜¯referenceï¼Œä¸æ˜¯ownerã€‚å³å¼•ç”¨è®¡æ•°ä¸ä¼šåŠ 1ã€‚</li><li>å¯å°†weakå¯¹è±¡è®¾ä¸ºnilï¼Œå‘nilå‘é€æ¶ˆæ¯ï¼Œä»€ä¹ˆéƒ½ä¸ä¼šæ‰§è¡Œï¼Œç¨‹åºä¹Ÿä¸ä¼šå´©æºƒã€‚</li><li>ä»£ç†ä½¿ç”¨weakã€‚delegateå‡ ä¹ä¸€ç›´ownä»£ç†å¯¹è±¡ï¼Œæ‰€ä»¥ä»£ç†å¯¹è±¡åº”è¯¥å¯¹ä»£ç†ä½¿ç”¨weakï¼Œå¦åˆ™ä¼šå½¢æˆå¾ªç¯å¼•ç”¨ï¼ˆretain cycleï¼‰ã€‚ä½†ä¹Ÿæœ‰ä¾‹å¤–ï¼Œå¦‚æœä»£ç†å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸæ¯”ä»£ç†çŸ­ï¼Œä»£ç†å¯¹è±¡ä¹Ÿå¯ä»¥ä½¿ç”¨strongã€‚</li><li>IBOutletå¸¸ç”¨weakã€‚</li></ul><blockquote><p>å…³äºstrongå’Œweakå¯¹æ¯”çš„ä¸€ä¸ªå½¢è±¡ä¾‹å­ï¼š</p><p>å‡è®¾å¯¹è±¡æ˜¯ä¸€æ¡å°ç‹—ï¼Œå°ç‹—æƒ³è·‘èµ°ï¼ˆbe deallocated)ã€‚</p><p>strongç±»å‹å°±åƒæ˜¯æ‹´ç‹—çš„ç»³å­ï¼Œåªè¦æœ‰ä¸€æ¡ç»³å­æ “ä½ç‹—ï¼Œå®ƒå°±ä¸èƒ½è·‘èµ°ï¼Œå¦‚æœæœ‰äº”æ¡ç»³å­æ‹´ç€åŒä¸€æ¡ç‹—ï¼ˆäº”ä¸ªstrongç±»å‹æŒ‡å‘åŒä¸€ä¸ªå¯¹è±¡ï¼‰ï¼Œåªæœ‰å½“äº”æ¡ç»³å­éƒ½é‡Šæ”¾ç‹—æ‰å¯ä»¥è·‘èµ°ã€‚</p><p>weakç±»å‹å°±åƒæ˜¯å°å­©å­çœ‹ç€å°ç‹—è¯´ï¼šçœ‹è¿™é‡Œæœ‰å°ç‹—ã€‚åªè¦è¿˜æœ‰ç»³å­æ‹´ç€å°ç‹—ï¼Œå°å­©å­ä»¬å°±å¯ä»¥ç»§ç»­æŒ‡ç€å°ç‹—è¯´ï¼šçœ‹è¿™é‡Œæœ‰å°ç‹—ã€‚å½“ç»³å­é‡Šæ”¾äº†çš„æ—¶å€™ï¼Œä¸ç®¡æœ‰å¤šå°‘å°å­©å­ä¾æ—§åœ¨æŒ‡ç€å°ç‹—è¯´ï¼šçœ‹è¿™é‡Œçš„å°ç‹—ã€‚å°ç‹—éƒ½ä¼šè·‘æ‰ã€‚</p><p>å½“æœ€åä¸€ä¸ªstrongæŒ‡é’ˆä¸å†æŒ‡å‘è¿™ä¸ªå¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡å°±ä¼šè¢«é‡Šæ”¾ï¼Œæ­¤æ—¶ï¼Œæ‰€æœ‰æŒ‡å‘è¿™ä¸ªå¯¹è±¡çš„weakæŒ‡é’ˆéƒ½å°†è¢«æ¸…ç©ºã€‚</p></blockquote><h2 id=åˆå§‹åŒ–-initializationhttpsdeveloperapplecomlibraryarchivedocumentationcocoaconceptualprogrammingwithobjectivecworkingwithobjectsworkingwithobjectshtmlapple_refdocuidtp40011210-ch4-sw1>åˆå§‹åŒ– <a href=https://developer.apple.com/library/archive/documentation/Cocoa/Conceptual/ProgrammingWithObjectiveC/WorkingwithObjects/WorkingwithObjects.html#//apple_ref/doc/uid/TP40011210-CH4-SW1>Initialization</a></h2><p>Use new to Create an Object If No Arguments Are Needed for Initialization
Itâ€™s also possible to create an instance of a class using the new class method. This method is provided by NSObject and doesnâ€™t need to be overridden in your own subclasses.</p><p>Itâ€™s effectively the same as calling alloc and init with no arguments:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span>XYZObject <span style=color:#f92672>*</span>object <span style=color:#f92672>=</span> [XYZObject new];
</span></span><span style=display:flex><span><span style=color:#75715e>// is effectively the same as:
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>XYZObject <span style=color:#f92672>*</span>object <span style=color:#f92672>=</span> [[XYZObject alloc] init];
</span></span></code></pre></div><h2 id=lazy-instantiation--ä¸‹åˆ’çº¿å˜é‡>Lazy instantiation & ä¸‹åˆ’çº¿å˜é‡</h2><blockquote><p><a href=https://www.jianshu.com/p/986adc6fe3ca>Objective-C æ‡’åŠ è½½æ²¡æœ‰è°ƒç”¨ï¼Ÿ</a></p></blockquote><p>æ€»ç»“ï¼šself.å¯¹å±æ€§çš„getå’Œsetæ–¹æ³•é—´æ¥è°ƒç”¨ï¼Œä¸‹åˆ’çº¿_æ˜¯ç›´æ¥å¯¹å®ä¾‹å˜é‡æ“ä½œã€‚</p><blockquote><p>å‰é¢å·²ç»è¯´åˆ°ï¼Œåœ¨iOS 5ä¹‹åï¼Œä½¿ç”¨<code>@property</code>å®šä¹‰ä¸€ä¸ªå±æ€§åï¼Œç³»ç»Ÿä¼šé»˜è®¤ç”Ÿæˆ<code>getter</code>å’Œ<code>setter</code>æ–¹æ³•ã€‚æˆ‘ä»¬ç”³æ˜äº†ä¸€ä¸ªå±æ€§ï¼Œä½†å¹¶ä¸æ˜¯ç«‹å³å°±è¦ä½¿ç”¨è¿™ä¸ªå¯¹è±¡ï¼Œæ²¡å¿…è¦æŠŠæ‰€æœ‰çš„å±æ€§éƒ½æ”¾åœ¨<code>viewDidLoad</code>æ–¹æ³•ä¸­åˆå§‹åŒ–ï¼Œç­‰åˆ°è¦ä½¿ç”¨æ—¶å†åŠ è½½(åˆå§‹åŒ–)ã€‚</p></blockquote><p>ï¼ˆ1ï¼‰ã€å½“å¼€å‘è€…ä½¿ç”¨æ‡’åŠ è½½æœ¬è´¨å°±æ˜¯é‡å†™äº† <code>getter()</code> æ–¹æ³•ï¼›</p><p>ï¼ˆ2ï¼‰ã€æ‡’åŠ è½½åœ¨åŠ è½½æ—¶å¿…é¡»åˆ¤ç©ºï¼›</p><p>ï¼ˆ3ï¼‰ã€æ‡’åŠ è½½åˆ¤ç©ºå¿…é¡»ä½¿ç”¨ä¸‹åˆ’çº¿ï¼Œå¦‚ä¸‹é¢ä»£ç ï¼ŒXcode 100% ä¼šæŠ¥é”™çš„ï¼Œå‰é¢å·²ç»è¯´æ˜ï¼Œself å°±æ˜¯è°ƒç”¨äº† setter è·Ÿ getter æ–¹æ³•ï¼Œæ‡’åŠ è½½æœ¬è´¨å°±æ˜¯é‡å†™äº† getter æ–¹æ³•ï¼Œä½†åœ¨æ­¤å¤„å±æ€§æœ¬èº«è¿˜æ²¡åˆå§‹åŒ–,æ˜¯ nil, ä½†æ˜¯ getter è¿”å›çš„ä¹Ÿæ˜¯ nil, é‚£åœ¨åˆ¤æ–­æ—¶å°±ä¼šè¿›å…¥æ­»å¾ªç¯ï¼›</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span><span style=color:#75715e>//é”™è¯¯çš„æ‡’åŠ è½½ç¤ºèŒƒä¸€
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>-(NSArray<span style=color:#f92672>*</span>)<span style=color:#a6e22e>PageddatafromServerList</span> {   
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span>(self.PageddatafromServerList <span style=color:#f92672>==</span> nil)   {     
</span></span><span style=display:flex><span>        self.PageddatafromServerList <span style=color:#f92672>=</span> [NSArray array];    
</span></span><span style=display:flex><span>    }  
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> self.PageddatafromServerList;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>//é”™è¯¯çš„æ‡’åŠ è½½ç¤ºèŒƒäºŒ
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>-(NSArray<span style=color:#f92672>*</span>)<span style=color:#a6e22e>PageddatafromServerList</span> {   
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span>(self.PageddatafromServerList) <span style=color:#75715e>//æ­¤å¤„ä¸€å®šè¦åˆ¤ç©º   
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    {     
</span></span><span style=display:flex><span>        self.PageddatafromServerList <span style=color:#f92672>=</span> [NSArray array];    
</span></span><span style=display:flex><span>    }  
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> self.PageddatafromServerList;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>//æ­£ç¡®çš„æ‡’åŠ è½½æ–¹å¼
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>- (NSArray <span style=color:#f92672>*</span>)<span style=color:#a6e22e>DepartmentArray</span> {   
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span>(_DepartmentArray <span style=color:#f92672>==</span> nil) {      
</span></span><span style=display:flex><span>        _DepartmentArray <span style=color:#f92672>=</span> [NSArray array];   
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> _DepartmentArray;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p><img src=https://upload-images.jianshu.io/upload_images/1214383-1d112281de77c800.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/651/format/webp alt=æ‡’åŠ è½½é—®é¢˜ä»£ç ></p><blockquote><p>åˆ†æï¼šæœ€ä¸Šé¢è´´å‡ºçš„ä»£ç å‡ºç°çš„åŸå› ï¼š</p><p>ç”±äºè¿™ä¸ªå†™è¿™ä¸ªä»£ç çš„å“¥ä»¬ä½¿ç”¨äº†æ‡’åŠ è½½ï¼Œè€Œæ‡’åŠ è½½æœ¬è´¨ä¸Šæ˜¯é‡å†™äº†å±æ€§çš„ <code>getter</code> æ–¹æ³•ï¼Œæœ¬æ–‡ç¬¬äºŒæ¡ä¹Ÿè¯´æ˜äº† <code>self.</code> å’Œ <code>_</code> çš„åŒºåˆ«ï¼Œæ‰€ä»¥åœ¨èµ‹å€¼æ—¶ä½¿ç”¨ <code>_dataArray</code>ï¼Œå°±æ²¡æœ‰è°ƒ <code>dataArray</code> çš„ <code>getter</code> æ–¹æ³•ï¼Œæ‡’åŠ è½½æ ¹æœ¬å°±æ²¡æœ‰è°ƒï¼ï¼ï¼æ‰€ä»¥å‡ºç°çš„æƒ…å†µå°±æ˜¯ç»™ <code>dataArray</code> èµ‹å€¼åä¾æ—§æ˜¯ <code>nil</code>ï¼</p><p>ç›´æ¥å°±ä¸¾ä¸ªğŸŒ°æ¥è¯´æ˜å§ï¼šæˆ‘ä¹°äº†ä¸ªè¶…çº§çœç”µçš„å°ç¯ï¼Œå›å®¶åæˆ‘ç»™å°ç¯é€šä¸Šç”µåå‘ç°æ€ä¹ˆæŠ˜è…¾è¿™ä¸ªå°ç¯éƒ½ä¸äº®ï¼Œä¸ºä»€ä¹ˆå‘¢ï¼Ÿå› ä¸ºæˆ‘æ²¡æœ‰æ‘å°ç¯çš„å¼€å…³ï¼ï¼</p></blockquote><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span><span style=color:#75715e>// é‚£ä¹ˆæ‡’åŠ è½½çš„æ­£ç¡®æ‰“å¼€æ–¹å¼æ˜¯æ€æ ·çš„å‘¢ï¼Ÿè¯·çœ‹ä»£ç ï¼š
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>@interface</span> <span style=color:#a6e22e>EOCClass</span> : <span style=color:#a6e22e>NSObject</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>@property</span> (<span style=color:#66d9ef>strong</span>, <span style=color:#66d9ef>nonatomic</span>) NSArray <span style=color:#f92672>*</span>LazyLoading;
</span></span><span style=display:flex><span>-(<span style=color:#66d9ef>void</span>)<span style=color:#a6e22e>LazyLoadingData</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>@end</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>-</span>(<span style=color:#66d9ef>void</span>)LazyLoadingData {
</span></span><span style=display:flex><span>    NSLog(<span style=color:#e6db74>@&#34;_LazyLoading============%@&#34;</span>,_LazyLoading);<span style=color:#960050;background-color:#1e0010>Â </span> <span style=color:#960050;background-color:#1e0010>Â </span> 
</span></span><span style=display:flex><span>    NSLog(<span style=color:#e6db74>@&#34;self.LazyLoading=============%@&#34;</span>,self.LazyLoading);<span style=color:#960050;background-color:#1e0010>Â </span> <span style=color:#960050;background-color:#1e0010>Â </span> 
</span></span><span style=display:flex><span>    NSLog(<span style=color:#e6db74>@&#34;=============%@&#34;</span>,[self LazyLoading]);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>-</span>(NSArray<span style=color:#f92672>*</span>)LazyLoading {<span style=color:#960050;background-color:#1e0010>Â </span>  
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span>(<span style=color:#f92672>!</span>_LazyLoading) {<span style=color:#960050;background-color:#1e0010>Â </span> <span style=color:#960050;background-color:#1e0010>Â </span>  
</span></span><span style=display:flex><span>        _LazyLoading<span style=color:#f92672>=</span> [NSArray array];<span style=color:#960050;background-color:#1e0010>Â </span>  
</span></span><span style=display:flex><span>    }<span style=color:#960050;background-color:#1e0010>Â </span> 
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> _LazyLoading;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p><img src=https://upload-images.jianshu.io/upload_images/1214383-624cf0347e44f040.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/593/format/webp alt=æ‡’åŠ è½½å›¾ç‰‡></p><blockquote><p>é‚£ä¹ˆï¼Œé€šè¿‡ä¸Šé¢çš„ä»£ç ï¼Œå¯ä»¥çœ‹å‡ºï¼Œä½¿ç”¨äº†æ‡’åŠ è½½åï¼Œå½“è¦ä½¿ç”¨è¿™ä¸ªå¯¹è±¡æ—¶å¯ä»¥ç”¨<code>self.</code> è°ƒç”¨è¯¥å¯¹è±¡æˆ–è€…ç›´æ¥è°ƒç”¨è¿™ä¸ªå¯¹è±¡çš„ <code>getter</code> æ–¹æ³•ï¼Œå¦‚æœç”¨ä¸‹åˆ’çº¿è°ƒç”¨å®ä¾‹å˜é‡é‚£ä¹ˆæ‡’åŠ è½½å°±æ²¡æœ‰è°ƒç”¨ï¼Œæœ€ç»ˆé€ æˆçš„ç»“æœå°±æ˜¯èµ‹å€¼äº†ä¹Ÿæ˜¯ <code>nil</code>;</p></blockquote><h3 id=another-example-on-iosé¢è¯•å®å…¸httpsheron-newlandgithubioassetsknowledgesindexhtml>Another Example on <a href=https://heron-newland.github.io/assets/knowledges/index.html>iOSé¢è¯•å®å…¸</a></h3><blockquote><p><a href=https://heron-newland.github.io/assets/knowledges/%E4%BB%80%E4%B9%88%E6%98%AF%E6%87%92%E5%8A%A0%E8%BD%BD.html>ä»€ä¹ˆæ˜¯æ‡’åŠ è½½</a></p><p>æ‡’æ±‰æ¨¡å¼ï¼Œåªåœ¨ç”¨åˆ°çš„æ—¶å€™æ‰å»åˆå§‹åŒ–ï¼Œä¹Ÿå¯ä»¥ç†è§£æˆå»¶æ—¶åŠ è½½,ä¸€èˆ¬æ‡’åŠ è½½å†™åœ¨getteræ–¹æ³•ä¸­ã€‚æˆ‘è§‰å¾—æœ€å¥½ä¹Ÿæœ€ç®€å•çš„ä¸€ä¸ªåˆ—å­å°±æ˜¯ <code>tableView</code> ä¸­å›¾ç‰‡çš„åŠ è½½æ˜¾ç¤ºäº†ã€‚ä¸€ä¸ªå»¶æ—¶è½½ï¼Œé¿å…å†…å­˜è¿‡é«˜ï¼Œä¸€ä¸ªå¼‚æ­¥åŠ è½½ï¼Œé¿å…çº¿ç¨‹å µå¡ã€‚</p></blockquote><h3 id=swift--objc-lazy>Swift & Objc Lazy</h3><p><a href=https://blog.csdn.net/I_HOPE_SOAR/article/details/121306121>objective-cå’Œswiftä¸­æ‡’åŠ è½½çš„åŒºåˆ«</a></p><p>ocä¸­æ‡’åŠ è½½çš„å†™æ³•å°±æ˜¯ï¼Œå¦‚æœä¸€ä¸ªå˜é‡ä¸ºç©ºï¼Œåˆ™è¿›è¡Œä¸€å®šæ“ä½œï¼Œå¦åˆ™returnåŸæ¥çš„å€¼</p><p>è€Œswiftä¸­åªç”¨å†™ä¸€ä¸ªlazyæ ‡è¯†ç¬¦,swiftä¸­çš„æ‡’åŠ è½½åªæœ‰ç¬¬ä¸€æ¬¡è°ƒç”¨æ­¤å˜é‡æ—¶æ‰æ‰§è¡Œé—­åŒ…ä¸­çš„å†…å®¹ï¼Œä¸è®ºæ˜¯å¦ä¸ºç©ºï¼Œåé¢éƒ½ä¸ä¼šæ‰§è¡Œäº†ã€‚</p><p>æ‰€ä»¥ä¸¤è€…çš„åŒºåˆ«å°±åœ¨äºï¼Œå¦‚æœè°ƒç”¨äº†ä¸€æ¬¡ocä¸­çš„æ‡’åŠ è½½ï¼Œå†æŠŠå˜é‡è®¾ç½®ä¸ºç©ºï¼Œç¬¬äºŒæ¬¡è¿˜æ˜¯ä¼šè¿›å…¥æ‡’åŠ è½½ã€‚</p><p>è€Œswiftè¯­è¨€ä¸­ï¼Œè°ƒç”¨äº†ä¸€æ¬¡æ‡’åŠ è½½ï¼Œå†æŠŠå˜é‡è®¾ç½®ä¸ºç©ºï¼Œç¬¬äºŒæ¬¡å°±ä¸ä¼šè¿›å…¥æ‡’åŠ è½½äº†ã€‚</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span><span style=color:#75715e>//swift</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>import</span> <span style=color:#a6e22e>Foundation</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Test</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>var</span> name: String
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>lazy</span> <span style=color:#66d9ef>var</span> greeting: String? = {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#e6db74>&#34;hello&#34;</span>
</span></span><span style=display:flex><span>    }()
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>lazy</span> <span style=color:#66d9ef>var</span> eatting: String = {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#e6db74>&#34;rice&#34;</span>
</span></span><span style=display:flex><span>    }()
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>init</span>(name: String) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>self</span>.name = name
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> test = Test(name: <span style=color:#e6db74>&#34;init&#34;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> a = test.greeting<span style=color:#75715e>//ç¬¬ä¸€æ¬¡è°ƒç”¨</span>
</span></span><span style=display:flex><span>print(a!)<span style=color:#75715e>//è¾“å‡ºhello</span>
</span></span><span style=display:flex><span>test.greeting = <span style=color:#66d9ef>nil</span><span style=color:#75715e>//è®¾ç½®ä¸ºç©º</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> b = test.greeting<span style=color:#75715e>//ç¬¬äºŒæ¬¡è°ƒç”¨</span>
</span></span><span style=display:flex><span>print(b)<span style=color:#75715e>//è¾“å‡ºnil</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span><span style=color:#75715e>//objectivec
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#75715e>#import &lt;Foundation/Foundation.h&gt;
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>@interface</span> <span style=color:#a6e22e>Test</span> : <span style=color:#a6e22e>NSObject</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>@property</span> (<span style=color:#66d9ef>nonatomic</span>) NSString <span style=color:#f92672>*</span>name;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>@end</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>@implementation</span> <span style=color:#a6e22e>Test</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>//lazy load
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>- (NSString <span style=color:#f92672>*</span>)<span style=color:#a6e22e>name</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span>(<span style=color:#f92672>!</span>_name) {
</span></span><span style=display:flex><span>        _name <span style=color:#f92672>=</span> <span style=color:#e6db74>@&#34;hello&#34;</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> _name;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>- (<span style=color:#66d9ef>void</span>)<span style=color:#a6e22e>printt</span> {
</span></span><span style=display:flex><span>    NSLog(<span style=color:#e6db74>@&#34;%@&#34;</span>,_name);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>@end</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> main(<span style=color:#66d9ef>int</span> argc, <span style=color:#66d9ef>const</span> <span style=color:#66d9ef>char</span> <span style=color:#f92672>*</span> argv[]) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>@autoreleasepool</span> {
</span></span><span style=display:flex><span>        Test <span style=color:#f92672>*</span>test <span style=color:#f92672>=</span> [[Test alloc] init];
</span></span><span style=display:flex><span>        NSLog(<span style=color:#e6db74>@&#34;%@&#34;</span>,test.name);<span style=color:#75715e>//ç¬¬ä¸€æ¬¡è°ƒç”¨ï¼Œè¾“å‡ºhello
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        test.name <span style=color:#f92672>=</span> nil;
</span></span><span style=display:flex><span>        NSLog(<span style=color:#e6db74>@&#34;%@&#34;</span>,test.name);<span style=color:#75715e>//ç¬¬äºŒæ¬¡è°ƒç”¨ï¼Œè¾“å‡ºhelloä¸¤æ¬¡è¿›å…¥æ‡’åŠ è½½
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=see-more-on>See more on</h3><ul><li><a href=https://blog.csdn.net/yxys01/article/details/51489938>Objective-Cå­¦ä¹ ä¹‹æ‡’åŠ è½½ï¼ˆå»¶è¿ŸåŠ è½½ï¼‰</a></li><li><a href=https://stackoverflow.com/questions/11769562/lazy-instantiation-in-objective-c-iphone-development>Lazy instantiation in Objective-C/ iPhone development</a></li></ul><h2 id=struct-in-objective-c>Struct in Objective-C</h2><ul><li><a href=https://blog.csdn.net/srn214/article/details/47788231>OCä¸­å®šä¹‰äº†ä¸€ä¸ªç»“æ„ä½“(struct)ï¼Œè®¾ç½®ç»“æ„ä½“çš„å€¼</a></li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span><span style=color:#75715e>// main.m æ–‡ä»¶
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#75715e>#import &lt;Foundation/Foundation.h&gt;
</span></span></span><span style=display:flex><span><span style=color:#75715e>#import &#34;Dog.h&#34;
</span></span></span><span style=display:flex><span><span style=color:#75715e>#import &#34;Person.h&#34;
</span></span></span><span style=display:flex><span><span style=color:#75715e>#import &#34;Student.h&#34;
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>(<span style=color:#66d9ef>int</span> argc, <span style=color:#66d9ef>const</span> <span style=color:#66d9ef>char</span> <span style=color:#f92672>*</span> argv[]) {
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>@autoreleasepool</span> {
</span></span><span style=display:flex><span>        Person <span style=color:#f92672>*</span>p1 <span style=color:#f92672>=</span> [[Person alloc] init];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e>// ç»™å¯¹è±¡ä¸­çš„ç»“æ„ä½“(struct)èµ‹å€¼
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#75715e>// å¦‚æœç›´æ¥ç”¨cè¯­è¨€çš„æ–¹å¼ç›´æ¥èµ‹å€¼å°±ä¼šæŠ¥é”™ï¼Œå¦‚s-&gt;birthday={1990,12,11};å°±ä¼šæŠ›å‡ºé”™è¯¯
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#75715e>// å£°æ˜å¹¶åˆå§‹åŒ–ä¸€ä¸ªstructç±»å‹ä¸´æ—¶å˜é‡ï¼Œå†æ•´ä¸ªèµ‹å€¼ç»™birthdayæˆå‘˜ã€‚
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span>        Date d <span style=color:#f92672>=</span> {<span style=color:#ae81ff>2015</span>, <span style=color:#ae81ff>12</span>, <span style=color:#ae81ff>22</span>};
</span></span><span style=display:flex><span>        p1.birthday <span style=color:#f92672>=</span> d;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Person.h æ–‡ä»¶
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#75715e>#import &lt;Foundation/Foundation.h&gt;
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#75715e>// ç”Ÿæ—¥
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>typedef</span> <span style=color:#66d9ef>struct</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> year; <span style=color:#75715e>// å¹´
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>int</span> month; <span style=color:#75715e>// æœˆ
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>int</span> day; <span style=color:#75715e>// æ—¥
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>} Date;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// æ€§åˆ«
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>typedef</span> <span style=color:#66d9ef>enum</span> {
</span></span><span style=display:flex><span>    XingBieMan,
</span></span><span style=display:flex><span>    XingBieWoman
</span></span><span style=display:flex><span>} XingBie;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>@interface</span> <span style=color:#a6e22e>Person</span> : <span style=color:#a6e22e>NSObject</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// å§“åçš„setterå’Œgetter
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>@property</span> (<span style=color:#66d9ef>nonatomic</span>, <span style=color:#66d9ef>retain</span>) NSString <span style=color:#f92672>*</span>name;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// ç”Ÿæ—¥çš„setterå’Œgetter
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>@property</span> (<span style=color:#66d9ef>nonatomic</span>, <span style=color:#66d9ef>assign</span>) Date birthday;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// å¹´é¾„çš„setterå’Œgetter
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>@property</span> (<span style=color:#66d9ef>nonatomic</span>, <span style=color:#66d9ef>assign</span>) <span style=color:#66d9ef>int</span> age;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// æ€§åˆ«
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>@property</span> (<span style=color:#66d9ef>nonatomic</span>, <span style=color:#66d9ef>assign</span>) XingBie sex;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// èº«é«˜
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>@property</span> (<span style=color:#66d9ef>nonatomic</span>, <span style=color:#66d9ef>assign</span>) <span style=color:#66d9ef>double</span> height;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// ä½“é‡
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>@property</span> (<span style=color:#66d9ef>nonatomic</span>, <span style=color:#66d9ef>assign</span>) <span style=color:#66d9ef>double</span> weight;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>@end</span>
</span></span></code></pre></div><h2 id=turn-json-file-into-model-object>Turn JSON File into Model Object</h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;name&#34;</span>: <span style=color:#e6db74>&#34;John Doe&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;age&#34;</span>: <span style=color:#ae81ff>30</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span><span style=color:#75715e>// Person.h æ–‡ä»¶å†…å®¹ï¼š
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#75715e>#import &lt;Foundation/Foundation.h&gt;
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>@interface</span> <span style=color:#a6e22e>Person</span> : <span style=color:#a6e22e>NSObject</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>@property</span> (<span style=color:#66d9ef>nonatomic</span>, <span style=color:#66d9ef>strong</span>) NSString <span style=color:#f92672>*</span>name;
</span></span><span style=display:flex><span><span style=color:#66d9ef>@property</span> (<span style=color:#66d9ef>nonatomic</span>, <span style=color:#66d9ef>assign</span>) NSInteger age;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>- (<span style=color:#66d9ef>instancetype</span>)<span style=color:#a6e22e>initWithDictionary:</span>(NSDictionary <span style=color:#f92672>*</span>)dictionary;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>@end</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span><span style=color:#75715e>// Person.m æ–‡ä»¶å†…å®¹ï¼š
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#75715e>#import &#34;Person.h&#34;
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>@implementation</span> <span style=color:#a6e22e>Person</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>- (<span style=color:#66d9ef>instancetype</span>)<span style=color:#a6e22e>initWithDictionary:</span>(NSDictionary <span style=color:#f92672>*</span>)dictionary {
</span></span><span style=display:flex><span>    self <span style=color:#f92672>=</span> [super init];
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (self) {
</span></span><span style=display:flex><span>        _name <span style=color:#f92672>=</span> dictionary[<span style=color:#e6db74>@&#34;name&#34;</span>];
</span></span><span style=display:flex><span>        _age <span style=color:#f92672>=</span> [dictionary[<span style=color:#e6db74>@&#34;age&#34;</span>] integerValue];
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> self;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>@end</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span><span style=color:#75715e>// main.m æ–‡ä»¶å†…å®¹ï¼š
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#75715e>#import &lt;Foundation/Foundation.h&gt;
</span></span></span><span style=display:flex><span><span style=color:#75715e>#import &#34;Person.h&#34;
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>(<span style=color:#66d9ef>int</span> argc, <span style=color:#66d9ef>const</span> <span style=color:#66d9ef>char</span> <span style=color:#f92672>*</span> argv[]) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>@autoreleasepool</span> {
</span></span><span style=display:flex><span>        <span style=color:#75715e>// 1. è¯»å– JSON æ–‡ä»¶
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#75715e>// If you use Xcode CLI
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        NSString <span style=color:#f92672>*</span>filePath <span style=color:#f92672>=</span> <span style=color:#e6db74>@&#34;/Users/frank/Example/CLITesting/CLITesting/person.json&#34;</span>;
</span></span><span style=display:flex><span>        <span style=color:#75715e>// If you use Xcode App
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#75715e>// NSString *filePath = [[NSBundle mainBundle] pathForResource:@&#34;data&#34; ofType:@&#34;json&#34;];
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        NSData <span style=color:#f92672>*</span>jsonData <span style=color:#f92672>=</span> [NSData dataWithContentsOfFile:filePath];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>//        NSLog(@&#34;%@&#34;, jsonData);
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#75715e>// 2. ä½¿ç”¨ NSJSONSerialization å°† JSON æ•°æ®è½¬æ¢ä¸ºå­—å…¸
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        NSError <span style=color:#f92672>*</span>error;
</span></span><span style=display:flex><span>        NSDictionary <span style=color:#f92672>*</span>jsonDictionary <span style=color:#f92672>=</span> [NSJSONSerialization
</span></span><span style=display:flex><span>                                        JSONObjectWithData:jsonData
</span></span><span style=display:flex><span>                                        options:kNilOptions
</span></span><span style=display:flex><span>                                        error:<span style=color:#f92672>&amp;</span>error];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e>// 3. åˆ¤æ–­æ˜¯å¦è½¬æ¢æˆåŠŸ
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#66d9ef>if</span> (error) {
</span></span><span style=display:flex><span>            NSLog(<span style=color:#e6db74>@&#34;Error converting JSON to NSDictionary: %@&#34;</span>, error.localizedDescription);
</span></span><span style=display:flex><span>        } <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>            <span style=color:#75715e>// 4. ä½¿ç”¨å­—å…¸åˆå§‹åŒ– Person å¯¹è±¡
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>            Person <span style=color:#f92672>*</span>person <span style=color:#f92672>=</span> [[Person alloc] initWithDictionary:jsonDictionary];
</span></span><span style=display:flex><span>            NSLog(<span style=color:#e6db74>@&#34;Person name: %@, age: %ld&#34;</span>, person.name, (<span style=color:#66d9ef>long</span>)person.age);
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=array-of-json-objects>Array of JSON Objects</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>[
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;name&#34;</span>: <span style=color:#e6db74>&#34;John Doe&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;age&#34;</span>: <span style=color:#ae81ff>30</span>
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;name&#34;</span>: <span style=color:#e6db74>&#34;Frank Doe&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;age&#34;</span>: <span style=color:#ae81ff>330</span>
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>]
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span><span style=color:#75715e>// 1. è¯»å– JSON æ–‡ä»¶
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>NSString <span style=color:#f92672>*</span>filePath <span style=color:#f92672>=</span> <span style=color:#e6db74>@&#34;/Users/frank/Example/CLITesting/CLITesting/person.json&#34;</span>;
</span></span><span style=display:flex><span>NSData <span style=color:#f92672>*</span>jsonData <span style=color:#f92672>=</span> [NSData dataWithContentsOfFile:filePath];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>//        NSLog(@&#34;%@&#34;, jsonData);
</span></span></span><span style=display:flex><span><span style=color:#75715e>// 2. ä½¿ç”¨ NSJSONSerialization å°† JSON æ•°æ®è½¬æ¢ä¸ºå­—å…¸
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>NSError <span style=color:#f92672>*</span>error;
</span></span><span style=display:flex><span>NSDictionary <span style=color:#f92672>*</span>jsonDictionary <span style=color:#f92672>=</span> [NSJSONSerialization
</span></span><span style=display:flex><span>                                JSONObjectWithData:jsonData
</span></span><span style=display:flex><span>                                options:kNilOptions
</span></span><span style=display:flex><span>                                error:<span style=color:#f92672>&amp;</span>error];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// 3. åˆ¤æ–­æ˜¯å¦è½¬æ¢æˆåŠŸ
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>if</span> (error) {
</span></span><span style=display:flex><span>    NSLog(<span style=color:#e6db74>@&#34;Error converting JSON to NSDictionary: %@&#34;</span>, error.localizedDescription);
</span></span><span style=display:flex><span>} <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>    <span style=color:#75715e>// 4. ä½¿ç”¨å­—å…¸åˆå§‹åŒ– Person å¯¹è±¡
</span></span></span><span style=display:flex><span><span style=color:#75715e>//            Person *person = [[Person alloc] initWithDictionary:jsonDictionary];
</span></span></span><span style=display:flex><span><span style=color:#75715e>//            NSLog(@&#34;Person name: %@, age: %ld&#34;, person.name, (long)person.age);
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    NSMutableArray <span style=color:#f92672>*</span>personArray <span style=color:#f92672>=</span> [NSMutableArray array];
</span></span><span style=display:flex><span>    NSLog(<span style=color:#e6db74>@&#34;%@&#34;</span>, jsonDictionary);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (NSDictionary <span style=color:#f92672>*</span>dict <span style=color:#66d9ef>in</span> jsonDictionary) {
</span></span><span style=display:flex><span>        Person <span style=color:#f92672>*</span>person <span style=color:#f92672>=</span> [[Person alloc] init];
</span></span><span style=display:flex><span>        person.age <span style=color:#f92672>=</span> [dict[<span style=color:#e6db74>@&#34;age&#34;</span>] integerValue];
</span></span><span style=display:flex><span>        person.name <span style=color:#f92672>=</span> dict[<span style=color:#e6db74>@&#34;name&#34;</span>];
</span></span><span style=display:flex><span>        [personArray addObject:person];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    NSLog(<span style=color:#e6db74>@&#34;%@&#34;</span>, personArray);
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=another-example>Another Example</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span><span style=color:#75715e>//
</span></span></span><span style=display:flex><span><span style=color:#75715e>//  main.m
</span></span></span><span style=display:flex><span><span style=color:#75715e>//  CLITesting
</span></span></span><span style=display:flex><span><span style=color:#75715e>//
</span></span></span><span style=display:flex><span><span style=color:#75715e>//  Created by hb24155 on 3/30/23.
</span></span></span><span style=display:flex><span><span style=color:#75715e>//
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#75715e>#import &lt;Foundation/Foundation.h&gt;
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>@interface</span> <span style=color:#a6e22e>HotDetail</span> : <span style=color:#a6e22e>NSObject</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>@property</span> (<span style=color:#66d9ef>nonatomic</span>, <span style=color:#66d9ef>strong</span>) NSString <span style=color:#f92672>*</span>contentId;
</span></span><span style=display:flex><span><span style=color:#66d9ef>@property</span> (<span style=color:#66d9ef>nonatomic</span>, <span style=color:#66d9ef>strong</span>) NSArray<span style=color:#f92672>&lt;</span>NSString <span style=color:#f92672>*&gt;</span> <span style=color:#f92672>*</span>headImageList;
</span></span><span style=display:flex><span><span style=color:#66d9ef>@property</span> (<span style=color:#66d9ef>nonatomic</span>, <span style=color:#66d9ef>strong</span>) NSString <span style=color:#f92672>*</span>pvCount;
</span></span><span style=display:flex><span><span style=color:#66d9ef>@property</span> (<span style=color:#66d9ef>nonatomic</span>, <span style=color:#66d9ef>strong</span>) NSString <span style=color:#f92672>*</span>iconUrl;
</span></span><span style=display:flex><span><span style=color:#66d9ef>@property</span> (<span style=color:#66d9ef>nonatomic</span>, <span style=color:#66d9ef>strong</span>) NSString <span style=color:#f92672>*</span>title;
</span></span><span style=display:flex><span><span style=color:#66d9ef>@property</span> (<span style=color:#66d9ef>nonatomic</span>, <span style=color:#66d9ef>strong</span>) NSString <span style=color:#f92672>*</span>jumpUrl;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>- (<span style=color:#66d9ef>instancetype</span>)<span style=color:#a6e22e>initWithDictionary:</span>(NSDictionary <span style=color:#f92672>*</span>)dictionary;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>@end</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>@implementation</span> <span style=color:#a6e22e>HotDetail</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>- (<span style=color:#66d9ef>instancetype</span>)<span style=color:#a6e22e>initWithDictionary:</span>(NSDictionary <span style=color:#f92672>*</span>)dictionary {
</span></span><span style=display:flex><span>    self <span style=color:#f92672>=</span> [super init];
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (self) {
</span></span><span style=display:flex><span>        _contentId <span style=color:#f92672>=</span> dictionary[<span style=color:#e6db74>@&#34;contentId&#34;</span>];
</span></span><span style=display:flex><span>        _headImageList <span style=color:#f92672>=</span> dictionary[<span style=color:#e6db74>@&#34;headImageList&#34;</span>];
</span></span><span style=display:flex><span>        _pvCount <span style=color:#f92672>=</span> dictionary[<span style=color:#e6db74>@&#34;pvCount&#34;</span>];
</span></span><span style=display:flex><span>        _iconUrl <span style=color:#f92672>=</span> dictionary[<span style=color:#e6db74>@&#34;iconUrl&#34;</span>];
</span></span><span style=display:flex><span>        _title <span style=color:#f92672>=</span> dictionary[<span style=color:#e6db74>@&#34;title&#34;</span>];
</span></span><span style=display:flex><span>        _jumpUrl <span style=color:#f92672>=</span> dictionary[<span style=color:#e6db74>@&#34;jumpUrl&#34;</span>];
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> self;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>@end</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>@interface</span> <span style=color:#a6e22e>HotDiscussion</span> : <span style=color:#a6e22e>NSObject</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>@property</span> (<span style=color:#66d9ef>nonatomic</span>, <span style=color:#66d9ef>strong</span>) NSString <span style=color:#f92672>*</span>guid;
</span></span><span style=display:flex><span><span style=color:#66d9ef>@property</span> (<span style=color:#66d9ef>nonatomic</span>, <span style=color:#66d9ef>strong</span>) NSString <span style=color:#f92672>*</span>picUrl;
</span></span><span style=display:flex><span><span style=color:#66d9ef>@property</span> (<span style=color:#66d9ef>nonatomic</span>, <span style=color:#66d9ef>strong</span>) NSString <span style=color:#f92672>*</span>hotLink;
</span></span><span style=display:flex><span><span style=color:#66d9ef>@property</span> (<span style=color:#66d9ef>nonatomic</span>, <span style=color:#66d9ef>strong</span>) NSArray<span style=color:#f92672>&lt;</span>HotDetail <span style=color:#f92672>*&gt;</span> <span style=color:#f92672>*</span>hotDetailList;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>- (<span style=color:#66d9ef>instancetype</span>)<span style=color:#a6e22e>initWithDictionary:</span>(NSDictionary <span style=color:#f92672>*</span>)dictionary;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>@end</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>@implementation</span> <span style=color:#a6e22e>HotDiscussion</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>- (<span style=color:#66d9ef>instancetype</span>)<span style=color:#a6e22e>initWithDictionary:</span>(NSDictionary <span style=color:#f92672>*</span>)dictionary {
</span></span><span style=display:flex><span>    self <span style=color:#f92672>=</span> [super init];
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (self) {
</span></span><span style=display:flex><span>        _guid <span style=color:#f92672>=</span> dictionary[<span style=color:#e6db74>@&#34;guid&#34;</span>];
</span></span><span style=display:flex><span>        _picUrl <span style=color:#f92672>=</span> dictionary[<span style=color:#e6db74>@&#34;picUrl&#34;</span>];
</span></span><span style=display:flex><span>        _hotLink <span style=color:#f92672>=</span> dictionary[<span style=color:#e6db74>@&#34;hotLink&#34;</span>];
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>        NSMutableArray <span style=color:#f92672>*</span>details <span style=color:#f92672>=</span> [NSMutableArray array];
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (NSDictionary <span style=color:#f92672>*</span>detailDict <span style=color:#66d9ef>in</span> dictionary[<span style=color:#e6db74>@&#34;hotDetailList&#34;</span>]) {
</span></span><span style=display:flex><span>            HotDetail <span style=color:#f92672>*</span>detail <span style=color:#f92672>=</span> [[HotDetail alloc] initWithDictionary:detailDict];
</span></span><span style=display:flex><span>            [details addObject:detail];
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        _hotDetailList <span style=color:#f92672>=</span> [details <span style=color:#66d9ef>copy</span>];
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> self;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>@end</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> main(<span style=color:#66d9ef>int</span> argc, <span style=color:#66d9ef>const</span> <span style=color:#66d9ef>char</span> <span style=color:#f92672>*</span> argv[]) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>@autoreleasepool</span> {
</span></span><span style=display:flex><span>        <span style=color:#75715e>// insert code here...
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        NSLog(<span style=color:#e6db74>@&#34;Hello, World!&#34;</span>);
</span></span><span style=display:flex><span>        NSString <span style=color:#f92672>*</span>jsonString <span style=color:#f92672>=</span> <span style=color:#e6db74>@&#34;{</span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74>hotDiscussion</span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74>: {</span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74>guid</span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74>: </span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74>do mollit pro</span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74>,</span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74>picUrl</span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74>: </span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74>adipisicing deserunt ea ex</span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74>,</span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74>hotLink</span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74>: </span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74>occaecat</span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74>,</span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74>hotDetailList</span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74>: [{</span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74>contentId</span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74>: </span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74>quis mollit sit</span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74>,</span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74>headImageList</span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74>: [</span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74>labore deserunt sint</span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74>,</span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74>cup</span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74>,</span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74>aliqua sint magna</span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74>],</span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74>pvCount</span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74>: </span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74>laboris id adipisicing</span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74>,</span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74>iconUrl</span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74>: </span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74>ut non</span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74>,</span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74>title</span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74>: </span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74>aute exercitation nisi tempor</span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74>,</span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74>jumpUrl</span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74>: </span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74>ut ut eu cupidatat</span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74>},{</span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74>contentId</span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74>: </span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74>nostrud exercitation quis cupidatat eiusmod</span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74>,</span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74>headImageList</span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74>: [</span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74>incididunt sunt</span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74>,</span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74>exercitation enim officia aute</span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74>],</span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74>pvCount</span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74>: </span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74>labore</span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74>,</span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74>iconUrl</span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74>: </span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74>sed tempor magna nulla</span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74>,</span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74>title</span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74>: </span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74>in amet dolor minim</span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74>,</span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74>jumpUrl</span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74>: </span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74>amet</span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74>}]}}&#34;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        NSData <span style=color:#f92672>*</span>jsonData <span style=color:#f92672>=</span> [jsonString dataUsingEncoding:NSUTF8StringEncoding];
</span></span><span style=display:flex><span>        NSError <span style=color:#f92672>*</span>error;
</span></span><span style=display:flex><span>        NSDictionary <span style=color:#f92672>*</span>jsonDict <span style=color:#f92672>=</span> [NSJSONSerialization JSONObjectWithData:jsonData options:NSJSONReadingMutableContainers error:<span style=color:#f92672>&amp;</span>error];
</span></span><span style=display:flex><span>        NSLog(<span style=color:#e6db74>@&#34;%@&#34;</span>, jsonDict);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>/*
</span></span></span><span style=display:flex><span><span style=color:#75715e> &#34;hotDiscussion&#34;: {
</span></span></span><span style=display:flex><span><span style=color:#75715e>     &#34;guid&#34;: &#34;do mollit pro&#34;,
</span></span></span><span style=display:flex><span><span style=color:#75715e>     &#34;picUrl&#34;: &#34;adipisicing deserunt ea ex&#34;,
</span></span></span><span style=display:flex><span><span style=color:#75715e>     &#34;hotLink&#34;: &#34;occaecat&#34;,
</span></span></span><span style=display:flex><span><span style=color:#75715e>     &#34;hotDetailList&#34;: [
</span></span></span><span style=display:flex><span><span style=color:#75715e>         {
</span></span></span><span style=display:flex><span><span style=color:#75715e>             &#34;contentId&#34;: &#34;quis mollit sit&#34;,
</span></span></span><span style=display:flex><span><span style=color:#75715e>             &#34;headImageList&#34;: [
</span></span></span><span style=display:flex><span><span style=color:#75715e>                 &#34;labore deserunt sint&#34;,
</span></span></span><span style=display:flex><span><span style=color:#75715e>                 &#34;cup&#34;,
</span></span></span><span style=display:flex><span><span style=color:#75715e>                 &#34;aliqua sint magna&#34;
</span></span></span><span style=display:flex><span><span style=color:#75715e>             ],
</span></span></span><span style=display:flex><span><span style=color:#75715e>             &#34;pvCount&#34;: &#34;laboris id adipisicing&#34;,
</span></span></span><span style=display:flex><span><span style=color:#75715e>             &#34;iconUrl&#34;: &#34;ut non&#34;,
</span></span></span><span style=display:flex><span><span style=color:#75715e>             &#34;title&#34;: &#34;aute exercitation nisi tempor&#34;,
</span></span></span><span style=display:flex><span><span style=color:#75715e>             &#34;jumpUrl&#34;: &#34;ut ut eu cupidatat&#34;
</span></span></span><span style=display:flex><span><span style=color:#75715e>         },
</span></span></span><span style=display:flex><span><span style=color:#75715e>         {
</span></span></span><span style=display:flex><span><span style=color:#75715e>             &#34;contentId&#34;: &#34;nostrud exercitation quis cupidatat eiusmod&#34;,
</span></span></span><span style=display:flex><span><span style=color:#75715e>             &#34;headImageList&#34;: [
</span></span></span><span style=display:flex><span><span style=color:#75715e>                 &#34;incididunt sunt&#34;,
</span></span></span><span style=display:flex><span><span style=color:#75715e>                 &#34;exercitation enim officia aute&#34;
</span></span></span><span style=display:flex><span><span style=color:#75715e>             ],
</span></span></span><span style=display:flex><span><span style=color:#75715e>             &#34;pvCount&#34;: &#34;labore&#34;,
</span></span></span><span style=display:flex><span><span style=color:#75715e>             &#34;iconUrl&#34;: &#34;sed tempor magna nulla&#34;,
</span></span></span><span style=display:flex><span><span style=color:#75715e>             &#34;title&#34;: &#34;in amet dolor minim&#34;,
</span></span></span><span style=display:flex><span><span style=color:#75715e>             &#34;jumpUrl&#34;: &#34;amet&#34;
</span></span></span><span style=display:flex><span><span style=color:#75715e>         },
</span></span></span><span style=display:flex><span><span style=color:#75715e>     ]
</span></span></span><span style=display:flex><span><span style=color:#75715e> }
</span></span></span><span style=display:flex><span><span style=color:#75715e> */</span>
</span></span></code></pre></div><h2 id=-isequal-isequalto>==, isEqual, isEqualTo</h2><blockquote><p><a href=https://stackoverflow.com/questions/7096691/difference-between-isequalto-and-isequal>Difference between isEqualTo: and isEqual:</a></p></blockquote><p>isEqual: is part of the NSObject protocol and is meant for comparing objects.</p><p>isEqual: æ–¹æ³•æ˜¯ NSObject ç±»çš„ä¸€ä¸ªæ–¹æ³•ï¼Œå®ƒç”¨äºæ¯”è¾ƒä¸¤ä¸ªå¯¹è±¡çš„å†…å®¹æ˜¯å¦ç›¸ç­‰ã€‚å…·ä½“æ¥è¯´ï¼Œå®ƒæ¯”è¾ƒä¸¤ä¸ªå¯¹è±¡çš„åœ°å€æ˜¯å¦ç›¸åŒï¼Œå¦‚æœç›¸åŒï¼Œåˆ™è¿”å› YESï¼›å¦åˆ™ï¼Œå®ƒå°†æ¯”è¾ƒä¸¤ä¸ªå¯¹è±¡çš„å±æ€§å€¼ã€å®ä¾‹å˜é‡ã€æ–¹æ³•ç­‰æ˜¯å¦ç›¸åŒï¼Œå¦‚æœç›¸åŒï¼Œåˆ™è¿”å› YESï¼›å¦åˆ™ï¼Œè¿”å› NOã€‚</p><p>isEqualTo: is part of the Cocoa AppleScript support infrastructure (specifically, NSComparisonMethods, which allow AppleScript to compare Cocoa objects). It&rsquo;s normally the same as isEqual:, but can be overridden if you want equality to work differently internally and in a script.</p><p>isEqualTo: æ–¹æ³•æ˜¯ Cocoa AppleScript æ”¯æŒåŸºç¡€è®¾æ–½çš„ä¸€éƒ¨åˆ†ï¼ˆå…·ä½“æ¥è¯´ï¼Œå®ƒæ˜¯ NSComparisonMethods çš„ä¸€éƒ¨åˆ†ï¼Œå®ƒå…è®¸ AppleScript æ¯”è¾ƒ Cocoa å¯¹è±¡ï¼‰ã€‚å®ƒé€šå¸¸ä¸ isEqual: ç›¸åŒï¼Œä½†å¦‚æœä½ æƒ³åœ¨å†…éƒ¨å’Œè„šæœ¬ä¸­ä½¿ç”¨ä¸åŒçš„ç›¸ç­‰æ€§ï¼Œåˆ™å¯ä»¥è¦†ç›–å®ƒã€‚</p><blockquote><p><a href=https://www.jianshu.com/p/1d05bf21d8f9>isEqual ï¼ŒisEqualToString ï¼Œ == ä¸‰è€…çš„åŒºåˆ«</a></p></blockquote><p>isEqual: é¦–å…ˆåˆ¤æ–­ä¸¤ä¸ªå¯¹è±¡æ˜¯å¦ç±»å‹ä¸€è‡´ï¼Œ åœ¨åˆ¤æ–­å…·ä½“å†…å®¹æ˜¯å¦ä¸€è‡´ï¼Œå¦‚æœç±»å‹ä¸åŒç›´æ¥return no.å¦‚å…ˆåˆ¤æ–­æ˜¯å¦éƒ½æ˜¯ NSStringï¼Œåœ¨åˆ¤æ–­stringçš„å†…å®¹ã€‚</p><p>isEqualToString: è¿™ä¸ªç›´æ¥åˆ¤æ–­å­—ç¬¦ä¸²å†…å®¹ã€‚</p><p>==æ˜¯ç›´æ¥æ¯”è¾ƒæŒ‡å‘çš„åœ°å€ã€‚</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span>- (<span style=color:#66d9ef>BOOL</span>)<span style=color:#a6e22e>isEqual:</span>(<span style=color:#66d9ef>id</span>)other {  
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (other <span style=color:#f92672>==</span> self) { 
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> YES;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (<span style=color:#f92672>!</span>other <span style=color:#f92672>||</span> <span style=color:#f92672>!</span>[other isKindOfClass:[self <span style=color:#66d9ef>class</span>]]) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> NO;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> [self isEqualToWidget:other]; 
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>- (<span style=color:#66d9ef>BOOL</span>)<span style=color:#a6e22e>isEqualToWidget:</span>(MyWidget <span style=color:#f92672>*</span>)aWidget {    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (self <span style=color:#f92672>==</span> aWidget) <span style=color:#66d9ef>return</span> YES;    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (<span style=color:#f92672>!</span>[(<span style=color:#66d9ef>id</span>)[self name] isEqual:[aWidget name]]) <span style=color:#66d9ef>return</span> NO;    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (<span style=color:#f92672>!</span>[[self data] isEqualToData:[aWidget data]]) <span style=color:#66d9ef>return</span> NO;    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> YES;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><ul><li>é¦–å…ˆéƒ½ä¼šåˆ¤æ–­ æŒ‡é’ˆæ˜¯å¦ç›¸ç­‰ï¼Œç›¸ç­‰ç›´æ¥è¿”å›YESï¼Œ</li><li>ä¸ç›¸ç­‰å†åˆ¤æ–­æ˜¯å¦æ˜¯åŒç±»å¯¹è±¡æˆ–éç©ºï¼Œç©ºæˆ–éåŒç±»å¯¹è±¡ç›´æ¥è¿”å›NOï¼Œ</li><li>è€Œåä¾æ¬¡åˆ¤æ–­å¯¹è±¡å¯¹åº”çš„å±æ€§æ˜¯å¦ç›¸ç­‰ï¼Œè‹¥å‡ç›¸ç­‰ï¼Œè¿”å›YES</li><li>è¿™æ ·å°±ä¸éš¾ç†è§£ isEqualToString çš„å®ç°å†…éƒ¨çš„äº†</li></ul><blockquote><p><a href=https://www.jianshu.com/p/915356e280fc>iOSå¼€å‘ ä¹‹ ä¸è¦å‘Šè¯‰æˆ‘ä½ çœŸçš„æ‡‚isEqualä¸hash!</a></p></blockquote><p>ä¸ºä»€ä¹ˆè¦æœ‰isEqualæ–¹æ³•?
isEqualæ–¹æ³•çš„ä½œç”¨å¤§å®¶è‚¯å®šæ˜¯çŸ¥é“çš„:</p><blockquote><p>åˆ¤æ–­ä¸¤ä¸ªå¯¹è±¡æ˜¯å¦ç›¸ç­‰</p></blockquote><p>ä½†æ˜¯åˆ¤æ–­ç›¸ç­‰ä¸æ˜¯å·²ç»æœ‰==è¿ç®—ç¬¦äº†ä¹ˆ, ä¸ºä»€ä¹ˆè¿˜è¦isEqualæ–¹æ³•?</p><p>è¿™æ˜¯å› ä¸º:</p><blockquote><p>å¯¹äºåŸºæœ¬ç±»å‹, ==è¿ç®—ç¬¦æ¯”è¾ƒçš„æ˜¯å€¼; å¯¹äºå¯¹è±¡ç±»å‹, ==è¿ç®—ç¬¦æ¯”è¾ƒçš„æ˜¯å¯¹è±¡çš„åœ°å€(å³æ˜¯å¦ä¸ºåŒä¸€å¯¹è±¡)</p></blockquote><p>æ³¨æ„: ä¸Šè¿°==è¿ç®—ç¬¦çš„è¯´æ˜é€‚ç”¨äºObjective-Cå’ŒJavaç­‰ä¸æ”¯æŒè¿ç®—ç¬¦é‡è½½çš„è¯­è¨€, æ”¯æŒè¿ç®—ç¬¦é‡è½½çš„è¯­è¨€æœ‰C++</p><p>æ‰€ä»¥è¦ç†æ¸…==è¿ç®—ç¬¦å’ŒisEqualæ–¹æ³•çš„åŒºåˆ«, é—®é¢˜å°±é›†ä¸­åœ¨</p><p>ä»€ä¹ˆå«æ¯”è¾ƒå¯¹è±¡çš„åœ°å€, ä»€ä¹ˆå«æ¯”è¾ƒå¯¹è±¡</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span>UIColor <span style=color:#f92672>*</span>color1 <span style=color:#f92672>=</span> [UIColor colorWithRed:<span style=color:#ae81ff>0.5</span> green:<span style=color:#ae81ff>0.5</span> blue:<span style=color:#ae81ff>0.5</span> alpha:<span style=color:#ae81ff>1.0</span>];
</span></span><span style=display:flex><span>UIColor <span style=color:#f92672>*</span>color2 <span style=color:#f92672>=</span> [UIColor colorWithRed:<span style=color:#ae81ff>0.5</span> green:<span style=color:#ae81ff>0.5</span> blue:<span style=color:#ae81ff>0.5</span> alpha:<span style=color:#ae81ff>1.0</span>];
</span></span><span style=display:flex><span>NSLog(<span style=color:#e6db74>@&#34;color1 == color2 = %@&#34;</span>, color1 <span style=color:#f92672>==</span> color2 <span style=color:#f92672>?</span> <span style=color:#e6db74>@&#34;YES&#34;</span> <span style=color:#f92672>:</span> <span style=color:#e6db74>@&#34;NO&#34;</span>);
</span></span><span style=display:flex><span>NSLog(<span style=color:#e6db74>@&#34;[color1 isEqual:color2] = %@&#34;</span>, [color1 isEqual:color2] <span style=color:#f92672>?</span> <span style=color:#e6db74>@&#34;YES&#34;</span> <span style=color:#f92672>:</span> <span style=color:#e6db74>@&#34;NO&#34;</span>);
</span></span><span style=display:flex><span><span style=color:#75715e>// color1 == color2 = NO
</span></span></span><span style=display:flex><span><span style=color:#75715e>// [color1 isEqual:color2] = YES
</span></span></span></code></pre></div><p>ä»ä¸Šé¢çš„ä¾‹å­å¯ä»¥çœ‹å‡º, ==è¿ç®—ç¬¦åªæ˜¯ç®€å•åœ°åˆ¤æ–­æ˜¯å¦æ˜¯åŒä¸€ä¸ªå¯¹è±¡, è€ŒisEqualæ–¹æ³•å¯ä»¥åˆ¤æ–­å¯¹è±¡æ˜¯å¦ç›¸åŒ, ä¾‹å¦‚UIColorå¯¹è±¡è¡¨ç¤ºçš„coloræ˜¯å¦ç›¸åŒ</p><h3 id=--isequal-objc--swift>==, ===, isEqual: Objc & Swift</h3><blockquote><p><a href=https://swifter.tips/equal/>onevcat: åˆ¤ç­‰</a></p></blockquote><p>æˆ‘ä»¬åœ¨ Objective-C æ—¶ä»£ï¼Œé€šå¸¸ä½¿ç”¨ -isEqualToString: æ¥åœ¨å·²ç»èƒ½ç¡®å®šæ¯”è¾ƒå¯¹è±¡å’Œå¾…æ¯”è¾ƒå¯¹è±¡éƒ½æ˜¯ NSString çš„æ—¶å€™è¿›è¡Œå­—ç¬¦ä¸²åˆ¤ç­‰ã€‚Swift ä¸­çš„ String ç±»å‹ä¸­æ˜¯æ²¡æœ‰ -isEqualToString: æˆ–è€… -isEqual: è¿™æ ·çš„æ–¹æ³•çš„ï¼Œå› ä¸ºè¿™äº›æ¯•ç«Ÿæ˜¯ NSObject çš„ä¸œè¥¿ã€‚åœ¨ Swift çš„å­—ç¬¦ä¸²å†…å®¹åˆ¤ç­‰ï¼Œæˆ‘ä»¬ç®€å•åœ°ä½¿ç”¨ == æ“ä½œç¬¦æ¥è¿›è¡Œ</p><p>åœ¨åˆ¤ç­‰ä¸Š Swift çš„è¡Œä¸ºå’Œ Objective-C æœ‰ç€å·¨å¤§çš„å·®åˆ«ã€‚åœ¨ Objective-C ä¸­ == è¿™ä¸ªç¬¦å·çš„æ„æ€æ˜¯åˆ¤æ–­ä¸¤ä¸ªå¯¹è±¡æ˜¯å¦æŒ‡å‘åŒä¸€å—å†…å­˜åœ°å€ã€‚å…¶å®å¾ˆå¤šæ—¶å€™è¿™å¹¶ä¸æ˜¯æˆ‘ä»¬ç»å¸¸æ‰€æœŸæœ›çš„åˆ¤ç­‰ï¼Œæˆ‘ä»¬æ›´å…³å¿ƒçš„å¾€å¾€è¿˜æ˜¯å¯¹è±¡çš„å†…å®¹ç›¸åŒï¼Œè€Œè¿™ç§æ„ä¹‰çš„ç›¸ç­‰å³ä½¿ä¸¤ä¸ªå¯¹è±¡å¼•ç”¨çš„ä¸æ˜¯åŒä¸€å—å†…å­˜åœ°å€æ—¶ï¼Œä¹Ÿæ˜¯å¯ä»¥åšåˆ°çš„ã€‚Objective-C ä¸­æˆ‘ä»¬é€šå¸¸é€šè¿‡å¯¹ -isEqual: è¿›è¡Œé‡å†™ï¼Œæˆ–è€…æ›´è¿›ä¸€æ­¥å»å®ç°ç±»ä¼¼ -isEqualToString: è¿™æ ·çš„ -isEqualToClass: çš„å¸¦æœ‰ç±»å‹ä¿¡æ¯çš„æ–¹æ³•æ¥è¿›è¡Œå†…å®¹åˆ¤ç­‰ã€‚å¦‚æœæˆ‘ä»¬æ²¡æœ‰åœ¨ä»»æ„å­ç±»é‡å†™ -isEqual: çš„è¯ï¼Œåœ¨è°ƒç”¨è¿™ä¸ªæ–¹æ³•æ—¶ä¼šç›´æ¥ä½¿ç”¨ NSObject ä¸­çš„ç‰ˆæœ¬ï¼Œå»ç›´æ¥è¿›è¡Œ Objective-C çš„ == åˆ¤æ–­ã€‚</p><p>åœ¨ Swift ä¸­æƒ…å†µå¤§ä¸ä¸€æ ·ï¼ŒSwift é‡Œçš„ == æ˜¯ä¸€ä¸ªæ“ä½œç¬¦çš„å£°æ˜ï¼Œåœ¨ Equatable é‡Œå£°æ˜äº†è¿™ä¸ªæ“ä½œç¬¦çš„æ¥å£æ–¹æ³•ï¼š</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span><span style=color:#66d9ef>protocol</span> <span style=color:#a6e22e>Equatable</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>func</span> ==(lhs: <span style=color:#66d9ef>Self</span>, rhs: <span style=color:#66d9ef>Self</span>) -&gt; Bool
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>å¯¹äºåŸæ¥ Objective-C ä¸­ä½¿ç”¨ == è¿›è¡Œçš„å¯¹è±¡æŒ‡é’ˆçš„åˆ¤å®šï¼Œåœ¨ Swift ä¸­æä¾›çš„æ˜¯å¦ä¸€ä¸ªæ“ä½œç¬¦ ===ã€‚åœ¨ Swift ä¸­ === åªæœ‰ä¸€ç§é‡è½½ï¼š</p><p><code>func ===(lhs: AnyObject?, rhs: AnyObject?) -> Bool</code></p><p>å®ƒç”¨æ¥åˆ¤æ–­ä¸¤ä¸ª AnyObject æ˜¯å¦æ˜¯åŒä¸€ä¸ªå¼•ç”¨ã€‚</p><p>å¯¹äºåˆ¤ç­‰ï¼Œå’Œå®ƒç´§å¯†ç›¸å…³çš„ä¸€ä¸ªè¯é¢˜å°±æ˜¯å“ˆå¸Œï¼Œå› ä¸ºå“ˆå¸Œæ˜¯ä¸€ä¸ªç¨å¾®å¤æ‚çš„è¯é¢˜ï¼Œæ‰€ä»¥æˆ‘å°†å®ƒåˆ†æˆäº†ä¸€ä¸ªå•èŠ‚ã€‚ä½†æ˜¯å¦‚æœåœ¨å®é™…é¡¹ç›®ä¸­ä½ éœ€è¦é‡è½½ == æˆ–è€…é‡å†™ -isEqual: æ¥è¿›è¡Œåˆ¤ç­‰çš„è¯ï¼Œå¾ˆå¯èƒ½ä½ ä¹Ÿä¼šæƒ³çœ‹çœ‹æœ‰å…³å“ˆå¸Œçš„å†…å®¹ï¼Œé‡è½½äº†åˆ¤ç­‰çš„è¯ï¼Œæˆ‘ä»¬è¿˜éœ€è¦æä¾›ä¸€ä¸ªå¯é çš„å“ˆå¸Œç®—æ³•ä½¿å¾—åˆ¤ç­‰çš„å¯¹è±¡åœ¨å­—å…¸ä¸­ä½œä¸º key æ—¶ä¸ä¼šå‘ç”Ÿå¥‡æ€ªçš„äº‹æƒ…ã€‚</p></article></html>