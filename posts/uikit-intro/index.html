<!doctype html><html lang=en-us><title>UIKit Intro in Objective-C & Swift | Blog by Frank</title><meta charset=utf-8><script async src="https://www.googletagmanager.com/gtag/js?id=G-XZQ6YTCMN7"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-XZQ6YTCMN7",{anonymize_ip:!1})}</script><meta name=twitter:card content="summary_large_image"><meta property="og:type" content="article"><meta property="og:title" content="UIKit Intro in Objective-C & Swift | Blog by Frank"><meta name=twitter:title content="UIKit Intro in Objective-C & Swift | Blog by Frank"><meta property="og:description" content="Everything about UIKit in Objective-C & Swift when I was coding."><meta property="og:url" content="https://yongfrank.github.io/posts/uikit-intro/"><meta property="og:site_name" content="Blog by Frank"><meta name=generator content="Hugo 0.117.0"><meta name=description content="Explorations, Reflections, and More on My Blog"><meta name=viewport content="width=device-width,initial-scale=1"><link rel=stylesheet href=https://yongfrank.github.io/css/index.css><link rel=canonical href=https://yongfrank.github.io/posts/uikit-intro/><link rel=alternate type=application/rss+xml href title="Blog by Frank"><link rel=stylesheet href=https://yongfrank.github.io/katex/katex.min.css><link rel="shortcut icon" href=favicon.ico><script defer src=https://yongfrank.github.io/katex/katex.min.js></script>
<script defer src=https://yongfrank.github.io/katex/contrib/auto-render.min.js onload=renderMathInElement(document.body)></script>
<link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/site.webmanifest><link rel=mask-icon href=/safari-pinned-tab.svg color=#578490><meta name=msapplication-TileColor content="#da532c"><head><script src=/js/MathJax/es5/tex-chtml.js></script></head><header><a href=https://yongfrank.github.io/ class=title>Blog by Frank</a><nav><a href=/about/>About</a></nav></header><article><header><h1>UIKit Intro in Objective-C & Swift</h1><time datetime=2023-03-27T13:31:46+08:00>March 27, 2023</time></header><nav id=TableOfContents><ul><li><a href=#quickstart>QuickStart</a></li><li><a href=#debug-tools>Debug Tools</a></li><li><a href=#components-quickstart>Components QuickStart</a><ul><li><a href=#delegate类扩展>Delegate，类扩展</a></li><li><a href=#button>Button</a></li><li><a href=#uilabel--uitextfield--uitextview>UILabel & UITextField & UITextView</a></li><li><a href=#uiimage>UIImage</a></li><li><a href=#uitableview--uicollectionview>UITableView & UICollectionView</a></li><li><a href=#protocol--uicollectionview>Protocol & UICollectionView</a></li></ul></li><li><a href=#no-storyboard>No Storyboard</a></li><li><a href=#loading-method-of-appdelegate-scenedelegate-and-controller-appdelegatescenedelegate控制器的加载方式>Loading Method of AppDelegate, SceneDelegate and Controller AppDelegate、SceneDelegate、控制器的加载方式</a><ul><li><a href=#startup-process-启动过程>StartUp Process 启动过程</a></li></ul></li><li><a href=#uikit-uiviewcontroller-lifecycle>UIKit UIViewController Lifecycle</a></li><li><a href=#mvc>MVC</a></li><li><a href=#target-for-project-in-xcode>Target for Project in Xcode</a></li><li><a href=#delegate>Delegate</a></li><li><a href=#swiftui-in-uikitobjective-c>SwiftUI In UIKit(Objective-C)</a><ul><li><a href=#full-code>Full Code</a></li><li><a href=#full-code-1>Full Code</a></li></ul></li><li><a href=#lazy-instantiation>Lazy Instantiation</a></li><li><a href=#border>Border</a></li><li><a href=#responsivescalewidth>ResponsiveScaleWidth</a></li><li><a href=#uikit-preview>UIKit Preview</a></li><li><a href=#ibaction>IBAction</a></li><li><a href=#prepareforsegue><code>prepareForSegue</code></a></li><li><a href=#头文件-import>头文件 import</a></li><li><a href=#nsstring-判空>NSString 判空</a></li><li><a href=#sf-symbols>SF Symbols</a></li><li><a href=#present-an-uialertcontroller-from-an-uiview>Present an UIAlertController from an UIView</a></li><li><a href=#observer-观察者>Observer 观察者</a></li><li><a href=#mjextension>MJExtension</a></li><li><a href=#rootviewcontroller>rootViewController</a></li><li><a href=#safe-area>Safe Area</a></li></ul></nav><p>Everything about UIKit in Objective-C & Swift when I was coding.</p><blockquote><p><a href=https://www.hackingwithswift.com/example-code/uikit/>hws - UIKit Example Code</a></p></blockquote><h2 id=quickstart>QuickStart</h2><ul><li><a href=https://supereasyapps.com/blog/2014/8/4/create-a-uibutton-in-code-with-objective-c>Create a UIButton in Code with Objective-C</a></li></ul><h2 id=debug-tools>Debug Tools</h2><blockquote><ul><li><a href=https://github.com/FLEXTool/FLEX>FLEX - Flipboard Explorer</a></li><li><a href=https://www.jianshu.com/p/1d8fc9206204>FLEX 一个轻量级App多维分析工具</a></li><li><a href=https://zhuanlan.zhihu.com/p/434459667>1.2 万 Star！一个 iOS 应用调试利器</a></li></ul></blockquote><p><img src=https://user-images.githubusercontent.com/8371943/70185687-e842c800-16af-11ea-8ef9-9e071380a462.gif alt=Flex></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span><span style=color:#75715e>#if</span> <span style=color:#75715e>os</span>(<span style=color:#75715e>iOS</span>)
</span></span><span style=display:flex><span><span style=color:#66d9ef>import</span> <span style=color:#a6e22e>FLEX</span>
</span></span><span style=display:flex><span><span style=color:#75715e>#endif</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>#if</span> <span style=color:#75715e>DEBUG</span>
</span></span><span style=display:flex><span><span style=color:#75715e>//import FLEX</span>
</span></span><span style=display:flex><span><span style=color:#75715e>#endif</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>#if</span> <span style=color:#75715e>DEBUG</span>
</span></span><span style=display:flex><span>ToolbarItemGroup {
</span></span><span style=display:flex><span>    Button(<span style=color:#e6db74>&#34;Flex&#34;</span>) {
</span></span><span style=display:flex><span>        FLEXManager.shared.showExplorer()
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span><span style=color:#75715e>//                darkModeButton</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#75715e>#endif</span>
</span></span></code></pre></div><h2 id=components-quickstart>Components QuickStart</h2><pre tabindex=0><code class=language-mermaid data-lang=mermaid>graph LR

Button --&gt; UIButton --&gt; f2[Trigger action]

Text --&gt; UILabel --&gt; f1[Display text]
Text --&gt; UITextField --&gt; f3[Enter Signle Line Text]
Text --&gt; UITextView --&gt; f4[Enter Multiple Line Text]

Image --&gt; UIImageView --&gt; f5[Display Image]

Scroll --&gt; UIScrollView --&gt; UITextView

Gesture --&gt; UIGestureRecognizer --&gt; UITapGesture

Effect --&gt; UIBlurEffect

UITableView
UICollectioView
UIStackView
</code></pre><h3 id=delegate类扩展>Delegate，类扩展</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span><span style=color:#66d9ef>@interface</span> <span style=color:#a6e22e>ViewController</span> ()<span style=color:#f92672>&lt;</span>UITextFieldDelegate, UITextViewDelegate<span style=color:#f92672>&gt;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>@end</span>
</span></span></code></pre></div><p>() 表示这是一个匿名分类（也叫类扩展或匿名类别），可以在其中添加实例变量和方法。<code>&lt;UICollectionViewDelegate, UICollectionViewDataSource,UICollectionViewDelegateFlowLayout></code> 表示这个类实现了 <code>UICollectionViewDelegate、UICollectionViewDataSource 和 UICollectionViewDelegateFlowLayout</code> 这三个协议。在 Objective-C 中，需要在类的声明中明确列出所实现的协议，这有助于编译器检查类是否实现了协议中规定的所有方法。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span><span style=color:#66d9ef>@interface</span> <span style=color:#a6e22e>TestingUICollectionViewCell</span> ()<span style=color:#f92672>&lt;</span>UICollectionViewDelegate, UICollectionViewDataSource,UICollectionViewDelegateFlowLayout<span style=color:#f92672>&gt;</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>@end</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>TestingUICollectionViewCell</span>: UICollectionViewCell, UICollectionViewDelegate, UICollectionViewDataSource, UICollectionViewDelegateFlowLayout {
</span></span><span style=display:flex><span>    <span style=color:#75715e>// class implementation goes here</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=button>Button</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span><span style=color:#75715e>// in file ViewController.m
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>- (<span style=color:#66d9ef>void</span>)<span style=color:#a6e22e>viewDidLoad</span> {
</span></span><span style=display:flex><span>    [super viewDidLoad];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    UIButton <span style=color:#f92672>*</span>button <span style=color:#f92672>=</span> [UIButton buttonWithType:
</span></span><span style=display:flex><span>									UIButtonTypeSystem];
</span></span><span style=display:flex><span>    [button setTitle:<span style=color:#e6db74>@&#34;Press Me&#34;</span> forState:UIControlStateNormal];
</span></span><span style=display:flex><span>    [button sizeToFit];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#75715e>// Set a new (x,y) point for the button&#39;s center
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    button.center <span style=color:#f92672>=</span> CGPointMake(<span style=color:#ae81ff>320</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>60</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#75715e>// Add an action in current code file (i.e. target)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    [button addTarget:self 
</span></span><span style=display:flex><span>			action:<span style=color:#66d9ef>@selector</span>(buttonPressed:<span style=color:#960050;background-color:#1e0010>）</span>
</span></span><span style=display:flex><span>			forControlEvents:UIControlEventTouchUpInside];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    [self.view addSubview:button];
</span></span><span style=display:flex><span>} 
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>- (<span style=color:#66d9ef>void</span>)<span style=color:#a6e22e>buttonPressed:</span>(UIButton <span style=color:#f92672>*</span>)button {
</span></span><span style=display:flex><span>     NSLog(<span style=color:#e6db74>@&#34;Button Pressed&#34;</span>);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Another Button
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>- (<span style=color:#66d9ef>void</span>)<span style=color:#a6e22e>viewDidLoad</span> {
</span></span><span style=display:flex><span>    [super viewDidLoad];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    UIButton <span style=color:#f92672>*</span>button <span style=color:#f92672>=</span> [[UIButton alloc] initWithFrame:CGRectMake(<span style=color:#ae81ff>100</span>, <span style=color:#ae81ff>100</span>, <span style=color:#ae81ff>200</span>, <span style=color:#ae81ff>200</span>)];
</span></span><span style=display:flex><span>    [button setTitle:<span style=color:#e6db74>@&#34;hello&#34;</span> forState:UIControlStateNormal];
</span></span><span style=display:flex><span>    [button addTarget:self action:<span style=color:#66d9ef>@selector</span>(buttonPressed) forControlEvents:UIControlEventTouchUpInside];
</span></span><span style=display:flex><span>    [self.view addSubview:button];
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>- (<span style=color:#66d9ef>void</span>)<span style=color:#a6e22e>buttonPressed</span> {
</span></span><span style=display:flex><span>    NSLog(<span style=color:#e6db74>@&#34;Hello world&#34;</span>);
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=uilabel--uitextfield--uitextview>UILabel & UITextField & UITextView</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span><span style=color:#75715e>//
</span></span></span><span style=display:flex><span><span style=color:#75715e>//  ViewController.m
</span></span></span><span style=display:flex><span><span style=color:#75715e>//  DouyinObjc
</span></span></span><span style=display:flex><span><span style=color:#75715e>//
</span></span></span><span style=display:flex><span><span style=color:#75715e>//  Created by Chu Yong on 5/13/23.
</span></span></span><span style=display:flex><span><span style=color:#75715e>//
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#75715e>#import &#34;ViewController.h&#34;
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>@interface</span> <span style=color:#a6e22e>ViewController</span> ()<span style=color:#f92672>&lt;</span>UITextFieldDelegate, UITextViewDelegate<span style=color:#f92672>&gt;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>@end</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>@implementation</span> <span style=color:#a6e22e>ViewController</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>- (<span style=color:#66d9ef>void</span>)<span style=color:#a6e22e>viewDidLoad</span> {
</span></span><span style=display:flex><span>    [super viewDidLoad];
</span></span><span style=display:flex><span>    self.view.backgroundColor <span style=color:#f92672>=</span> [UIColor redColor];
</span></span><span style=display:flex><span>    UILabel <span style=color:#f92672>*</span>label <span style=color:#f92672>=</span> [[UILabel alloc] initWithFrame:CGRectMake(<span style=color:#ae81ff>100</span>, <span style=color:#ae81ff>100</span>, <span style=color:#ae81ff>100</span>, <span style=color:#ae81ff>100</span>)];
</span></span><span style=display:flex><span>    label.text <span style=color:#f92672>=</span> <span style=color:#e6db74>@&#34;Hello World&#34;</span>;
</span></span><span style=display:flex><span>    label.backgroundColor <span style=color:#f92672>=</span> [UIColor whiteColor];
</span></span><span style=display:flex><span>    [self.view addSubview:label];
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#75715e>// TextFields
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    UITextField <span style=color:#f92672>*</span>textfield <span style=color:#f92672>=</span> [[UITextField alloc] initWithFrame:CGRectMake(<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>200</span>, UIScreen.mainScreen.bounds.size.width, <span style=color:#ae81ff>200</span>)];
</span></span><span style=display:flex><span>    textfield.text <span style=color:#f92672>=</span> <span style=color:#e6db74>@&#34;Hello&#34;</span>;
</span></span><span style=display:flex><span>    textfield.placeholder <span style=color:#f92672>=</span> <span style=color:#e6db74>@&#34;Enter something&#34;</span>;
</span></span><span style=display:flex><span>    textfield.delegate <span style=color:#f92672>=</span> self;
</span></span><span style=display:flex><span>    [self.view addSubview:textfield];
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#75715e>// TextView
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    UITextView <span style=color:#f92672>*</span>textView <span style=color:#f92672>=</span> [[UITextView alloc] initWithFrame:CGRectMake(<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>400</span>, UIScreen.mainScreen.bounds.size.width, <span style=color:#ae81ff>200</span>)];
</span></span><span style=display:flex><span>    textView.text <span style=color:#f92672>=</span> <span style=color:#e6db74>@&#34;Hello&#34;</span>;
</span></span><span style=display:flex><span>    textView.backgroundColor <span style=color:#f92672>=</span> [UIColor yellowColor];
</span></span><span style=display:flex><span>    textView.delegate <span style=color:#f92672>=</span> self;
</span></span><span style=display:flex><span>    [self.view addSubview:textView];
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>- (<span style=color:#66d9ef>BOOL</span>)<span style=color:#a6e22e>textView:</span>(UITextView <span style=color:#f92672>*</span>)textView <span style=color:#a6e22e>shouldChangeTextInRange:</span>(NSRange)range <span style=color:#a6e22e>replacementText:</span>(NSString <span style=color:#f92672>*</span>)text {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> ([text isEqualToString:<span style=color:#e6db74>@&#34;</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>&#34;</span>]) {
</span></span><span style=display:flex><span>        [textView resignFirstResponder];
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> YES;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>- (<span style=color:#66d9ef>BOOL</span>)<span style=color:#a6e22e>textFieldShouldReturn:</span>(UITextField <span style=color:#f92672>*</span>)textField {
</span></span><span style=display:flex><span>    [textField resignFirstResponder];
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> YES;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>- (<span style=color:#66d9ef>void</span>)<span style=color:#a6e22e>textFieldDidBeginEditing:</span>(UITextField <span style=color:#f92672>*</span>)textField {
</span></span><span style=display:flex><span>    NSLog(<span style=color:#e6db74>@&#34;%@&#34;</span>, textField.text);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#66d9ef>@end</span>
</span></span></code></pre></div><blockquote><p><a href=https://www.cnblogs.com/MrYU4/p/masonry-de-jin-jie-shi-yong-ji-qiao.html>Masonry Constraint for UILabel</a></p></blockquote><h4 id=layoutmargins>layoutMargins</h4><blockquote><p><a href=https://stackoverflow.com/questions/28617452/remove-uilabel-padding>Remove UILabel padding</a></p></blockquote><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span><span style=color:#75715e>//        _contentLabel.directionalLayoutMargins = NSDirectionalEdgeInsetsMake(0, 0, 0, 0);
</span></span></span><span style=display:flex><span><span style=color:#75715e>//        _contentLabel.layoutMargins = UIEdgeInsetsMake(0, 0, 0, 0);
</span></span></span></code></pre></div><h4 id=directionallayoutmargins>directionalLayoutMargins</h4><p>directionalLayoutMargins 是UIView的一个属性，用于指定在考虑当前语言方向时布局视图内容时使用的默认间距。这个属性的类型是NSDirectionalEdgeInsets，该结构具有leading，top，trailing和bottom四个方向的边距。</p><p>leading和trailing的概念是相对的，并且依赖于用户界面的当前语言环境。在从左到右的语言环境中，leading边距位于左边，trailing边距位于右边；而在从右到左的语言环境中，这两者会互换位置。</p><p>使用directionalLayoutMargins可以帮助您在支持右到左语言环境的应用中实现适应性布局。以下是一个使用directionalLayoutMargins的例子：</p><p>objc
Copy code
// 创建一个新的视图
UIView *newView = [[UIView alloc] init];</p><p>// 设置视图的方向性边距
newView.directionalLayoutMargins = NSDirectionalEdgeInsetsMake(10, 20, 30, 40);</p><p>// 通过代码或者自动布局约束来进行布局
// 当在一个从右到左的语言环境中查看这个视图时，leading边距会位于右边，trailing边距会位于左边
当然，需要注意的是，directionalLayoutMargins并不会直接改变视图的内容布局。要使directionalLayoutMargins生效，还需要结合使用AutoLayout约束，特别是在创建约束时使用NSLayoutAnchor的leadingAnchor和trailingAnchor，而不是leftAnchor和rightAnchor。</p><h3 id=uiimage>UIImage</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span><span style=color:#75715e>// UIImage
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>UIImage <span style=color:#f92672>*</span>image <span style=color:#f92672>=</span> [UIImage systemImageNamed:<span style=color:#e6db74>@&#34;plus&#34;</span>];
</span></span><span style=display:flex><span>UIImageView <span style=color:#f92672>*</span>imageView <span style=color:#f92672>=</span> [[UIImageView alloc] initWithImage:image];
</span></span><span style=display:flex><span>imageView.frame <span style=color:#f92672>=</span> CGRectMake(<span style=color:#ae81ff>50</span>, <span style=color:#ae81ff>50</span>, <span style=color:#ae81ff>20</span>, <span style=color:#ae81ff>200</span>);
</span></span><span style=display:flex><span>imageView.contentMode <span style=color:#f92672>=</span> UIViewContentModeScaleAspectFill;
</span></span><span style=display:flex><span>imageView.layer.borderWidth <span style=color:#f92672>=</span> <span style=color:#ae81ff>1.0</span>;
</span></span><span style=display:flex><span>imageView.layer.borderColor <span style=color:#f92672>=</span> [UIColor yellowColor].CGColor;
</span></span><span style=display:flex><span>[self.view addSubview:imageView];
</span></span></code></pre></div><blockquote><p><a href=https://stackoverflow.com/questions/15499376/uiimageview-aspect-fit-and-center>Aspect Fit</a></p></blockquote><h3 id=uitableview--uicollectionview>UITableView & UICollectionView</h3><blockquote><p><a href="https://www.bilibili.com/video/BV1AL411a784/?share_source=copy_web&amp;vd_source=bf4952280cde801b178268abc99a7047">【抖音OC实战教程-View讲解03（05）】</a></p></blockquote><p>UITableView 和 UICollectionView 是 iOS 中常用的两种列表控件。</p><p>UITableView 是一个列表控件，可以用来展示单行或多行数据。它是基于 Model-View-Controller 设计模式的。UITableView 中的每个 cell 都可以由一个 UITableViewCell 类型的实例表示，而这个实例通常包含了一些 UI 元素和一些用来展示数据的控件。UITableView 中可以设置 section 来分组显示数据。</p><p>UICollectionView 是一个强大的集合控件，可以用来展示多行、多列的数据。它也是基于 Model-View-Controller 设计模式的。与 UITableView 不同，UICollectionView 的布局方式更加灵活，可以通过设置 layout 来控制每个 cell 的大小、位置、对齐方式等等。与 UITableView 相似，UICollectionView 也可以使用 section 来分组显示数据，而且它还支持一些特殊的布局方式，如流式布局等。</p><p>总的来说，UITableView 适用于简单的列表展示，而UICollectionView 则更加适用于展示多样化、样式复杂的数据，同时它的布局方式更加灵活。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span><span style=color:#75715e>//
</span></span></span><span style=display:flex><span><span style=color:#75715e>//  ViewController.m
</span></span></span><span style=display:flex><span><span style=color:#75715e>//  DouyinObjc
</span></span></span><span style=display:flex><span><span style=color:#75715e>//
</span></span></span><span style=display:flex><span><span style=color:#75715e>//  Created by Chu Yong on 5/13/23.
</span></span></span><span style=display:flex><span><span style=color:#75715e>//
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#75715e>#import &#34;ViewController.h&#34;
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>@interface</span> <span style=color:#a6e22e>ViewController</span> ()<span style=color:#f92672>&lt;</span>UICollectionViewDelegate, UICollectionViewDataSource<span style=color:#f92672>&gt;</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>@property</span> (<span style=color:#66d9ef>nonatomic</span>, <span style=color:#66d9ef>strong</span>) NSMutableArray <span style=color:#f92672>&lt;</span>NSArray <span style=color:#f92672>*&gt;*</span>sections;
</span></span><span style=display:flex><span><span style=color:#66d9ef>@end</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>@implementation</span> <span style=color:#a6e22e>ViewController</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>- (<span style=color:#66d9ef>void</span>)<span style=color:#a6e22e>viewDidLoad</span> {
</span></span><span style=display:flex><span>    [super viewDidLoad];
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#75715e>// UICollectionView
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    self.sections <span style=color:#f92672>=</span> [NSMutableArray array];
</span></span><span style=display:flex><span>    [self.sections addObject:<span style=color:#ae81ff>@[</span><span style=color:#e6db74>@&#34;123&#34;</span><span style=color:#ae81ff>]</span>];
</span></span><span style=display:flex><span>    [self.sections addObject:<span style=color:#ae81ff>@[</span><span style=color:#e6db74>@&#34;3&#34;</span>, <span style=color:#e6db74>@&#34;4&#34;</span><span style=color:#ae81ff>]</span>];
</span></span><span style=display:flex><span>    [self.sections addObject:<span style=color:#ae81ff>@[</span><span style=color:#e6db74>@&#34;3&#34;</span>, <span style=color:#e6db74>@&#34;4&#34;</span>, <span style=color:#e6db74>@&#34;3&#34;</span>, <span style=color:#e6db74>@&#34;4&#34;</span><span style=color:#ae81ff>]</span>];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    UICollectionViewFlowLayout <span style=color:#f92672>*</span>layout <span style=color:#f92672>=</span> [[UICollectionViewFlowLayout alloc] init];
</span></span><span style=display:flex><span>    UICollectionView <span style=color:#f92672>*</span>collectionView <span style=color:#f92672>=</span> [[UICollectionView alloc] initWithFrame:self.view.bounds collectionViewLayout:layout];
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    layout.itemSize <span style=color:#f92672>=</span> CGSizeMake(<span style=color:#ae81ff>100</span>, <span style=color:#ae81ff>200</span>);
</span></span><span style=display:flex><span>    layout.minimumLineSpacing <span style=color:#f92672>=</span> <span style=color:#ae81ff>20</span>;
</span></span><span style=display:flex><span>    layout.sectionInset <span style=color:#f92672>=</span> UIEdgeInsetsMake(<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>50</span>, <span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span>    [collectionView registerClass:[UICollectionViewCell <span style=color:#66d9ef>class</span>] forCellWithReuseIdentifier:<span style=color:#e6db74>@&#34;cell&#34;</span>];
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    collectionView.delegate <span style=color:#f92672>=</span> self;
</span></span><span style=display:flex><span>    collectionView.dataSource <span style=color:#f92672>=</span> self;
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    [self.view addSubview:collectionView];
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>- (NSInteger)<span style=color:#a6e22e>numberOfSectionsInCollectionView:</span>(UICollectionView <span style=color:#f92672>*</span>)collectionView {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> self.sections.count;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>- (NSInteger)<span style=color:#a6e22e>collectionView:</span>(UICollectionView <span style=color:#f92672>*</span>)collectionView <span style=color:#a6e22e>numberOfItemsInSection:</span>(NSInteger)section {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> self.sections[section].count;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>- (__kindof UICollectionViewCell <span style=color:#f92672>*</span>)<span style=color:#a6e22e>collectionView:</span>(UICollectionView <span style=color:#f92672>*</span>)collectionView <span style=color:#a6e22e>cellForItemAtIndexPath:</span>(NSIndexPath <span style=color:#f92672>*</span>)indexPath {
</span></span><span style=display:flex><span>    UICollectionViewCell <span style=color:#f92672>*</span>cell <span style=color:#f92672>=</span> [collectionView dequeueReusableCellWithReuseIdentifier:<span style=color:#e6db74>@&#34;cell&#34;</span> forIndexPath:indexPath];
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    UILabel <span style=color:#f92672>*</span>label <span style=color:#f92672>=</span> [[UILabel alloc] initWithFrame:CGRectMake(<span style=color:#ae81ff>10</span>, <span style=color:#ae81ff>10</span>, <span style=color:#ae81ff>50</span>, <span style=color:#ae81ff>50</span>)];
</span></span><span style=display:flex><span>    label.text <span style=color:#f92672>=</span> self.sections[indexPath.section][indexPath.row];
</span></span><span style=display:flex><span>    [cell addSubview:label];
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    cell.backgroundColor <span style=color:#f92672>=</span> [UIColor redColor];
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> cell;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#66d9ef>@end</span>
</span></span></code></pre></div><blockquote><p><a href="https://developer.apple.com/documentation/uikit/views_and_controls/table_views/adding_headers_and_footers_to_table_sections?language=objc">Header footer for UITableView</a></p><p><a href=https://www.jianshu.com/p/5f5c550d61a0>iOS-UITableViewCell自适应高度最优雅的方法</a></p></blockquote><h4 id=隐藏分割线>隐藏分割线</h4><blockquote><p><a href=https://juejin.cn/post/6844903887443345416>iOS 中隐藏UITableView最后一条分隔线</a></p></blockquote><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span><span style=color:#75715e>// 分割线
</span></span></span><span style=display:flex><span><span style=color:#75715e>// _tableView.separatorStyle = UITableViewCellSeparatorStyleSingleLine;
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>if</span> (indexPath.row <span style=color:#f92672>==</span> _menuStringArray.count<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>) {
</span></span><span style=display:flex><span>    menuCell.separatorInset <span style=color:#f92672>=</span> UIEdgeInsetsMake(<span style=color:#ae81ff>0</span>, self.bounds.size.width, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span>} <span style=color:#66d9ef>else</span>{
</span></span><span style=display:flex><span>    menuCell.separatorInset <span style=color:#f92672>=</span> UIEdgeInsetsMake(<span style=color:#ae81ff>0</span>, FTDefaultMenuTextMargin, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>10</span><span style=color:#f92672>+</span>FTDefaultMenuTextMargin);
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><blockquote><p><a href=https://stackoverflow.com/questions/29006311/grouped-uitableview-remove-outer-separator-line>Grouped UITableview remove outer separator line</a></p></blockquote><p><img src=https://i.stack.imgur.com/nNUTQ.png alt="Grouped UITableview remove outer separator line"></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span><span style=color:#75715e>// Get the width of tableview
</span></span></span><span style=display:flex><span><span style=color:#75715e>// https://stackoverflow.com/questions/29006311/grouped-uitableview-remove-outer-separator-line
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>for</span> (UIView <span style=color:#f92672>*</span>subview <span style=color:#66d9ef>in</span> cell.subviews) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (subview <span style=color:#f92672>!=</span> cell.contentView <span style=color:#f92672>&amp;&amp;</span> subview.frame.size.width <span style=color:#f92672>==</span> cell.width) {
</span></span><span style=display:flex><span>        [subview removeFromSuperview];
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=protocol--uicollectionview>Protocol & UICollectionView</h3><ul><li><a href=https://www.cnblogs.com/OranBlog/p/9208782.html>[OC] UIcollectionView and UIcollectionViewCell</a></li><li><a href=https://xuebaonline.com/UICollectionView%20data%20source%20and%20delegates/>[Swift] UICollectionView data source and delegates</a></li><li><a href=https://www.jianshu.com/p/16c9d466f88c>纯代码创建UICollectionView步骤以及简单使用</a></li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span><span style=color:#75715e>// ViewController.h
</span></span></span><span style=display:flex><span><span style=color:#75715e>// &lt;&gt; Means Controller conform delegate inside &lt;&gt;
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>@interface</span> <span style=color:#a6e22e>ViewController</span> : <span style=color:#a6e22e>UIViewController</span> <span style=color:#f92672>&lt;</span>UICollectionViewDelegate, UICollectionViewDataSource<span style=color:#f92672>&gt;</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>@end</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span><span style=color:#66d9ef>@interface</span> <span style=color:#a6e22e>ViewController</span> ()
</span></span><span style=display:flex><span><span style=color:#66d9ef>@property</span> (<span style=color:#66d9ef>nonatomic</span>, <span style=color:#66d9ef>strong</span>) UICollectionView <span style=color:#f92672>*</span>collectionView;
</span></span><span style=display:flex><span><span style=color:#66d9ef>@end</span>
</span></span></code></pre></div><blockquote><p><a href="https://developer.apple.com/documentation/uikit/uicollectionviewdatasource/1618029-collectionview?language=objc">collectionView:cellForItemAtIndexPath:</a></p><p>Asks your data source object for the cell that corresponds to the specified item in the collection view.</p></blockquote><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span><span style=color:#66d9ef>@implementation</span> <span style=color:#a6e22e>ViewController</span>
</span></span><span style=display:flex><span>- (<span style=color:#66d9ef>void</span>)<span style=color:#a6e22e>viewDidLoad</span> {
</span></span><span style=display:flex><span>	[super viewDidLoad];
</span></span><span style=display:flex><span>	[self loadCollectioView];
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>- (<span style=color:#66d9ef>void</span>)<span style=color:#a6e22e>loadCollectioView</span> {
</span></span><span style=display:flex><span>    <span style=color:#75715e>// Layout Init
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#75715e>// let layout = UICollectionViewFlowLayout()
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    UICollectionViewFlowLayout <span style=color:#f92672>*</span>flowlayout <span style=color:#f92672>=</span> [[UICollectionViewFlowLayout alloc] init];
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#75715e>// self.collectionView = UICollectionView(frame: .zero, collectionViewLayout: layout)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    _collectionView <span style=color:#f92672>=</span> [[UICollectionView alloc]initWithFrame:self.view.frame collectionViewLayout:flowlayout];
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#75715e>// Cell Size
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    flowlayout.itemSize <span style=color:#f92672>=</span> CGSizeMake(<span style=color:#ae81ff>280</span>, <span style=color:#ae81ff>280</span>);
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#75715e>// head Size
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    flowlayout.headerReferenceSize <span style=color:#f92672>=</span> CGSizeMake(self.view.frame.size.width, <span style=color:#ae81ff>40</span>);
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#75715e>// Cell vertical spacing
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    flowlayout.minimumLineSpacing <span style=color:#f92672>=</span> <span style=color:#ae81ff>10</span>;
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#75715e>// Cell horizontal spacing
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    flowlayout.minimumInteritemSpacing <span style=color:#f92672>=</span> <span style=color:#ae81ff>20</span>;
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#75715e>// Cell to container edge
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    flowlayout.sectionInset <span style=color:#f92672>=</span> UIEdgeInsetsMake(<span style=color:#ae81ff>20</span>, <span style=color:#ae81ff>20</span>, <span style=color:#ae81ff>20</span>, <span style=color:#ae81ff>20</span>); <span style=color:#75715e>// Up left down right
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    
</span></span><span style=display:flex><span>    <span style=color:#75715e>// collectionView init
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    
</span></span><span style=display:flex><span>    <span style=color:#75715e>// Register Cell !! IMPORTANT
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#75715e>// collectionView.register(UICollectionViewCell.self, forCellWithReuseIdentifier: &#34;cell&#34;)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    [_collectionView registerClass:[UICollectionViewCell <span style=color:#66d9ef>class</span>] forCellWithReuseIdentifier:<span style=color:#e6db74>@&#34;cell&#34;</span>];
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#75715e>// Set delegate
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#75715e>// collectionView.dataSource = self
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#75715e>// collectionView.delegate = self
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    _collectionView.dataSource <span style=color:#f92672>=</span> self;
</span></span><span style=display:flex><span>    _collectionView.delegate <span style=color:#f92672>=</span> self;
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#75715e>// Background color
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    _collectionView.backgroundColor <span style=color:#f92672>=</span> [UIColor greenColor];
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#75715e>// Felxible Width &amp; Height
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    _collectionView.autoresizingMask <span style=color:#f92672>=</span> UIViewAutoresizingFlexibleWidth <span style=color:#f92672>|</span> UIViewAutoresizingFlexibleHeight;
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#75715e>// Add View
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    [self.view addSubview:_collectionView];
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#75715e>// Size settings
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    [_collectionView setFrame:self.view.frame];
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>- (__kindof UICollectionViewCell <span style=color:#f92672>*</span>)<span style=color:#a6e22e>collectionView:</span>(UICollectionView <span style=color:#f92672>*</span>)collectionView <span style=color:#a6e22e>cellForItemAtIndexPath:</span>(NSIndexPath <span style=color:#f92672>*</span>)indexPath {
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#75715e>// Cell Reuse, identifier is same as the registration(@&#34;cell&#34;)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#75715e>// let cell = collectionView.dequeueReusableCell(withReuseIdentifier: &#34;cell&#34;, for: indexPath)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    UICollectionViewCell <span style=color:#f92672>*</span>cell <span style=color:#f92672>=</span> [collectionView dequeueReusableCellWithReuseIdentifier:<span style=color:#e6db74>@&#34;cell&#34;</span> forIndexPath:indexPath];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>// Optional
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>if</span> (<span style=color:#f92672>!</span>cell) {
</span></span><span style=display:flex><span>        cell <span style=color:#f92672>=</span> [[UICollectionViewCell alloc] init];
</span></span><span style=display:flex><span><span style=color:#75715e>//        [cell.contentView setBackgroundColor:[UIColor systemBlueColor]];
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    }
</span></span><span style=display:flex><span>    <span style=color:#75715e>// cell.contentView.backgroundColor = .systemBlue
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    [cell.contentView setBackgroundColor:[UIColor systemBlueColor]];
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> cell;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>- (NSInteger)<span style=color:#a6e22e>collectionView:</span>(UICollectionView <span style=color:#f92672>*</span>)collectionView <span style=color:#a6e22e>numberOfItemsInSection:</span>(NSInteger)section {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>120</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#66d9ef>@end</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span><span style=color:#66d9ef>import</span> <span style=color:#a6e22e>UIKit</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>ViewController</span>: UIViewController {
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>var</span> collectionView: UICollectionView!
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>override</span> <span style=color:#66d9ef>func</span> <span style=color:#a6e22e>viewDidLoad</span>() {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>super</span>.viewDidLoad()
</span></span><span style=display:flex><span>        <span style=color:#75715e>// Do any additional setup after loading the view, typically from a nib.</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>self</span>.view.backgroundColor = .green
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>let</span> flowLayout = UICollectionViewFlowLayout()
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>self</span>.collectionView = UICollectionView(frame: <span style=color:#66d9ef>self</span>.view.safeAreaLayoutGuide.layoutFrame, collectionViewLayout: flowLayout)
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>        flowLayout.scrollDirection = .horizontal
</span></span><span style=display:flex><span>        flowLayout.itemSize = CGSizeMake(<span style=color:#ae81ff>180</span>, <span style=color:#ae81ff>180</span>)
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>        collectionView.delegate = <span style=color:#66d9ef>self</span>
</span></span><span style=display:flex><span>        collectionView.dataSource = <span style=color:#66d9ef>self</span>
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>        collectionView.register(ExampleCell.<span style=color:#66d9ef>self</span>, forCellWithReuseIdentifier: String(describing: type(of: ExampleCell.<span style=color:#66d9ef>self</span>)))
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>self</span>.view.addSubview(collectionView)
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>override</span> <span style=color:#66d9ef>func</span> <span style=color:#a6e22e>didReceiveMemoryWarning</span>() {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>super</span>.didReceiveMemoryWarning()
</span></span><span style=display:flex><span>        <span style=color:#75715e>// Dispose of any resources that can be recreated.</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>extension</span> <span style=color:#a6e22e>ViewController</span>: UICollectionViewDataSource {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>func</span> <span style=color:#a6e22e>collectionView</span>(<span style=color:#66d9ef>_</span> collectionView: UICollectionView, cellForItemAt indexPath: IndexPath) -&gt; UICollectionViewCell {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>let</span> cell = collectionView.dequeueReusableCell(withReuseIdentifier: String(describing: type(of: ExampleCell.<span style=color:#66d9ef>self</span>)), <span style=color:#66d9ef>for</span>: indexPath) <span style=color:#66d9ef>as</span>! ExampleCell
</span></span><span style=display:flex><span>        cell.titleLabel.text = String(indexPath.row)
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> cell
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>func</span> <span style=color:#a6e22e>numberOfSections</span>(<span style=color:#66d9ef>in</span> collectionView: UICollectionView) -&gt; Int {
</span></span><span style=display:flex><span>        <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>func</span> <span style=color:#a6e22e>collectionView</span>(<span style=color:#66d9ef>_</span> collectionView: UICollectionView, numberOfItemsInSection section: Int) -&gt; Int {
</span></span><span style=display:flex><span>        <span style=color:#ae81ff>10</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>extension</span> <span style=color:#a6e22e>ViewController</span>: UICollectionViewDelegate {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>func</span> <span style=color:#a6e22e>collectionView</span>(<span style=color:#66d9ef>_</span> collectionView: UICollectionView, didSelectItemAt indexPath: IndexPath) {
</span></span><span style=display:flex><span>        print(<span style=color:#e6db74>&#34;Selected item at index: </span><span style=color:#e6db74>\(</span>indexPath.row<span style=color:#e6db74>)</span><span style=color:#e6db74>&#34;</span>)
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>ExampleCell</span>: UICollectionViewCell {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>let</span> titleLabel = UILabel()
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>override</span> <span style=color:#66d9ef>init</span>(frame: CGRect) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>super</span>.<span style=color:#66d9ef>init</span>(frame: frame)
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>self</span>.initUI()
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>required</span> <span style=color:#66d9ef>init</span>?(coder: NSCoder) {
</span></span><span style=display:flex><span>        fatalError(<span style=color:#e6db74>&#34;init(coder:) has not been implemented&#34;</span>)
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>func</span> <span style=color:#a6e22e>initUI</span>() {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>self</span>.backgroundColor = .red
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>        <span style=color:#75715e>// Text for index</span>
</span></span><span style=display:flex><span>        titleLabel.frame = CGRect(x: <span style=color:#ae81ff>50</span>, y: <span style=color:#ae81ff>50</span>, width: <span style=color:#ae81ff>50</span>, height: <span style=color:#ae81ff>20</span>)
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>self</span>.addSubview(titleLabel)
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=no-storyboard>No Storyboard</h2><ul><li><a href=https://ithelp.ithome.com.tw/articles/10298398>Day-11 使用UIKit框架建立iOS App專案(不使用storyboard)</a></li><li><a href=https://www.bilibili.com/video/BV1xo4y1L72u>抖音OC实战教程-前言（01）</a></li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span><span style=color:#66d9ef>guard</span> <span style=color:#66d9ef>let</span> windowScene = (scene <span style=color:#66d9ef>as</span>? UIWindowScene) <span style=color:#66d9ef>else</span> { <span style=color:#66d9ef>return</span> }
</span></span><span style=display:flex><span>window = UIWindow(frame: windowScene.coordinateSpace.bounds)
</span></span><span style=display:flex><span>window?.windowScene = windowScene
</span></span><span style=display:flex><span>window?.rootViewController = ViewController()
</span></span><span style=display:flex><span>window?.makeKeyAndVisible()
</span></span></code></pre></div><p>这段代码是使用 Objective-C 编写的。在 Objective-C 中，我们需要显式地进行类型转换，并使用方括号表示方法调用和消息发送的语法。同样，也需要手动创建 UIWindow 对象，并将其设置为应用程序的主窗口。注意，ViewController 是你应用程序中的视图控制器类的名称，你需要根据实际情况进行替换。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span>UIWindowScene <span style=color:#f92672>*</span>windowScene <span style=color:#f92672>=</span> (UIWindowScene <span style=color:#f92672>*</span>)scene;
</span></span><span style=display:flex><span><span style=color:#66d9ef>if</span> (<span style=color:#f92672>!</span>[windowScene isKindOfClass:[UIWindowScene <span style=color:#66d9ef>class</span>]]) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>self.window <span style=color:#f92672>=</span> [[UIWindow alloc] initWithFrame:windowScene.coordinateSpace.bounds];
</span></span><span style=display:flex><span>self.window.windowScene <span style=color:#f92672>=</span> windowScene;
</span></span><span style=display:flex><span>self.window.rootViewController <span style=color:#f92672>=</span> [[ViewController alloc] init];
</span></span><span style=display:flex><span>[self.window makeKeyAndVisible];
</span></span></code></pre></div><h2 id=loading-method-of-appdelegate-scenedelegate-and-controller-appdelegatescenedelegate控制器的加载方式>Loading Method of AppDelegate, SceneDelegate and Controller AppDelegate、SceneDelegate、控制器的加载方式</h2><ul><li><a href=https://blog.csdn.net/weixin_46926959/article/details/120076013>AppDelegate, SceneDelegate, Controller</a></li></ul><blockquote><p>iOS13 之前，AppDelegate的职责是：全权处理App生命周期和UI生命周期</p><p>Before iOS13, the AppDelegate is responsible for handling the entire App lifecycle and the UI lifecycle.</p><p>iOS 13 之后，AppDelegate的职责是：处理App生命周期和SceneDelegate 生命周期</p><p>After iOS 13, the AppDelegate is responsible for handling the App lifecycle and the SceneDelegate lifecycle.</p></blockquote><h3 id=startup-process-启动过程>StartUp Process 启动过程</h3><p>main函数 -> 自动释放池 -> UIApplicationMain（永不返回，保证程序不会被销毁）-> 创建应用程序对象UIApplication ->创建应用程序的代理对象AppDelegate -> IOS13之前，将AppDelegate的window实例化，设置为keyWindow主窗口 -> 加载配置文件指定的storyboard</p><p>main function -> autorelease pool -> UIApplicationMain (never returns, to ensure that the program will not be destroyed) -> create the application object UIApplication -> create the application delegate object AppDelegate -> IOS13 before, instantiate the AppDelegate&rsquo;s window, set it as the keyWindow main window -> load the storyboard specified in the configuration file</p><h2 id=uikit-uiviewcontroller-lifecycle>UIKit UIViewController Lifecycle</h2><pre tabindex=0><code class=language-mermaid data-lang=mermaid>graph TD
load --&gt; loadView --&gt; viewDidLoad --&gt; viewWillAppear --&gt; viewWillLayoutSubviews --&gt; viewDidLayoutSubviews --&gt; viewDidAppear
viewDidAppear --&gt; viewWillDisappear --&gt; viewDidDisappear
</code></pre><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span><span style=color:#75715e>//
</span></span></span><span style=display:flex><span><span style=color:#75715e>//  ViewController.m
</span></span></span><span style=display:flex><span><span style=color:#75715e>//  DouyinObjc
</span></span></span><span style=display:flex><span><span style=color:#75715e>//
</span></span></span><span style=display:flex><span><span style=color:#75715e>//  Created by Chu Yong on 5/13/23.
</span></span></span><span style=display:flex><span><span style=color:#75715e>//
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#75715e>#import &#34;ViewController.h&#34;
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>@interface</span> <span style=color:#a6e22e>ViewController</span> ()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>@end</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>@implementation</span> <span style=color:#a6e22e>ViewController</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>+ (<span style=color:#66d9ef>void</span>)<span style=color:#a6e22e>load</span> {
</span></span><span style=display:flex><span>    [super load];
</span></span><span style=display:flex><span>    NSLog(<span style=color:#e6db74>@&#34;1&#34;</span>);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>- (<span style=color:#66d9ef>void</span>)<span style=color:#a6e22e>loadView</span> {
</span></span><span style=display:flex><span>    [super loadView];
</span></span><span style=display:flex><span>    NSLog(<span style=color:#e6db74>@&#34;2&#34;</span>);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>- (<span style=color:#66d9ef>void</span>)<span style=color:#a6e22e>viewDidLoad</span> {
</span></span><span style=display:flex><span>    [super viewDidLoad];
</span></span><span style=display:flex><span>    <span style=color:#75715e>// Do any additional setup after loading the view.
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    NSLog(<span style=color:#e6db74>@&#34;3&#34;</span>);
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    self.view.backgroundColor <span style=color:#f92672>=</span> [UIColor redColor];
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>- (<span style=color:#66d9ef>void</span>)<span style=color:#a6e22e>viewWillAppear:</span>(<span style=color:#66d9ef>BOOL</span>)animated {
</span></span><span style=display:flex><span>    [super viewWillAppear:animated];
</span></span><span style=display:flex><span>    NSLog(<span style=color:#e6db74>@&#34;4&#34;</span>);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>- (<span style=color:#66d9ef>void</span>)<span style=color:#a6e22e>viewWillLayoutSubviews</span> {
</span></span><span style=display:flex><span>    [super viewWillLayoutSubviews];
</span></span><span style=display:flex><span>    NSLog(<span style=color:#e6db74>@&#34;5&#34;</span>);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>- (<span style=color:#66d9ef>void</span>)<span style=color:#a6e22e>viewDidLayoutSubviews</span> {
</span></span><span style=display:flex><span>    [super viewDidLayoutSubviews];
</span></span><span style=display:flex><span>    NSLog(<span style=color:#e6db74>@&#34;6&#34;</span>);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>- (<span style=color:#66d9ef>void</span>)<span style=color:#a6e22e>viewDidAppear:</span>(<span style=color:#66d9ef>BOOL</span>)animated {
</span></span><span style=display:flex><span>    [super viewDidAppear:animated];
</span></span><span style=display:flex><span>    NSLog(<span style=color:#e6db74>@&#34;7&#34;</span>);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>- (<span style=color:#66d9ef>void</span>)<span style=color:#a6e22e>viewWillDisappear:</span>(<span style=color:#66d9ef>BOOL</span>)animated {
</span></span><span style=display:flex><span>    [super viewWillDisappear:animated];
</span></span><span style=display:flex><span>    NSLog(<span style=color:#e6db74>@&#34;8&#34;</span>);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>- (<span style=color:#66d9ef>void</span>)<span style=color:#a6e22e>viewDidDisappear:</span>(<span style=color:#66d9ef>BOOL</span>)animated {
</span></span><span style=display:flex><span>    [super viewDidDisappear:animated];
</span></span><span style=display:flex><span>    NSLog(<span style=color:#e6db74>@&#34;9&#34;</span>);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>- (<span style=color:#66d9ef>void</span>)<span style=color:#a6e22e>dealloc</span> {
</span></span><span style=display:flex><span>    NSLog(<span style=color:#e6db74>@&#34;10&#34;</span>);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>@end</span>
</span></span></code></pre></div><h2 id=mvc>MVC</h2><pre tabindex=0><code class=language-mermaid data-lang=mermaid>graph LR
UIViewController --&gt; Model
UIViewController --&gt; UIView
Model --X--&gt; UIView
</code></pre><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span>- (<span style=color:#66d9ef>void</span>)<span style=color:#a6e22e>viewDidLoad</span> {
</span></span><span style=display:flex><span>    [super viewDidLoad];
</span></span><span style=display:flex><span>    self.view.backgroundColor <span style=color:#f92672>=</span> [UIColor redColor];
</span></span><span style=display:flex><span>    UILabel <span style=color:#f92672>*</span>label <span style=color:#f92672>=</span> [[UILabel alloc] initWithFrame:CGRectMake(<span style=color:#ae81ff>100</span>, <span style=color:#ae81ff>100</span>, <span style=color:#ae81ff>100</span>, <span style=color:#ae81ff>100</span>)];
</span></span><span style=display:flex><span>    label.text <span style=color:#f92672>=</span> <span style=color:#e6db74>@&#34;Hello World&#34;</span>;
</span></span><span style=display:flex><span>    [self.view addSubview:label];
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=target-for-project-in-xcode>Target for Project in Xcode</h2><ul><li><a href=https://ioscoachfrank.com/remove-main-storyboard.html>How to Properly Remove Main.Storyboard (for iOS 13+)</a></li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#75715e>&lt;!-- Info.plist --&gt;</span>
</span></span><span style=display:flex><span><span style=color:#75715e>&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34;?&gt;</span>
</span></span><span style=display:flex><span><span style=color:#75715e>&lt;!DOCTYPE plist PUBLIC &#34;-//Apple//DTD PLIST 1.0//EN&#34; &#34;http://www.apple.com/DTDs/PropertyList-1.0.dtd&#34;&gt;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;plist</span> <span style=color:#a6e22e>version=</span><span style=color:#e6db74>&#34;1.0&#34;</span><span style=color:#f92672>&gt;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;dict&gt;</span>
</span></span><span style=display:flex><span>	<span style=color:#f92672>&lt;key&gt;</span>UIApplicationSceneManifest<span style=color:#f92672>&lt;/key&gt;</span>
</span></span><span style=display:flex><span>	<span style=color:#f92672>&lt;dict&gt;</span>
</span></span><span style=display:flex><span>		<span style=color:#f92672>&lt;key&gt;</span>UIApplicationSupportsMultipleScenes<span style=color:#f92672>&lt;/key&gt;</span>
</span></span><span style=display:flex><span>		<span style=color:#f92672>&lt;false/&gt;</span>
</span></span><span style=display:flex><span>		<span style=color:#f92672>&lt;key&gt;</span>UISceneConfigurations<span style=color:#f92672>&lt;/key&gt;</span>
</span></span><span style=display:flex><span>		<span style=color:#f92672>&lt;dict&gt;</span>
</span></span><span style=display:flex><span>			<span style=color:#f92672>&lt;key&gt;</span>UIWindowSceneSessionRoleApplication<span style=color:#f92672>&lt;/key&gt;</span>
</span></span><span style=display:flex><span>			<span style=color:#f92672>&lt;array&gt;</span>
</span></span><span style=display:flex><span>				<span style=color:#f92672>&lt;dict&gt;</span>
</span></span><span style=display:flex><span>					<span style=color:#f92672>&lt;key&gt;</span>UISceneConfigurationName<span style=color:#f92672>&lt;/key&gt;</span>
</span></span><span style=display:flex><span>					<span style=color:#f92672>&lt;string&gt;</span>Default Configuration<span style=color:#f92672>&lt;/string&gt;</span>
</span></span><span style=display:flex><span>					<span style=color:#f92672>&lt;key&gt;</span>UISceneDelegateClassName<span style=color:#f92672>&lt;/key&gt;</span>
</span></span><span style=display:flex><span>					<span style=color:#f92672>&lt;string&gt;</span>SceneDelegate<span style=color:#f92672>&lt;/string&gt;</span>
</span></span><span style=display:flex><span>				<span style=color:#f92672>&lt;/dict&gt;</span>
</span></span><span style=display:flex><span>			<span style=color:#f92672>&lt;/array&gt;</span>
</span></span><span style=display:flex><span>		<span style=color:#f92672>&lt;/dict&gt;</span>
</span></span><span style=display:flex><span>	<span style=color:#f92672>&lt;/dict&gt;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;/dict&gt;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;/plist&gt;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;key&gt;</span>Storyboard Name<span style=color:#f92672>&lt;/key&gt;</span>
</span></span></code></pre></div><h2 id=delegate>Delegate</h2><ul><li><a href=https://medium.com/@armanabkar/delegate-pattern-in-ios-a26f2b329097>Delegate Pattern In Swift</a></li><li><a href=https://tarikdahic.com/posts/the-holy-grail-of-uikit-delegate-pattern/>The Holy Grail of UIKit: Delegate Pattern</a></li><li><a href=https://zhuanlan.zhihu.com/p/402897951>UIKit in SwiftUI</a></li></ul><h2 id=swiftui-in-uikitobjective-c>SwiftUI In UIKit(Objective-C)</h2><ul><li><a href=https://www.jianshu.com/p/549facb59caf>Using SwiftUI in Objective-C</a></li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span><span style=color:#66d9ef>import</span> <span style=color:#a6e22e>SwiftUI</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>struct</span> <span style=color:#a6e22e>MainViewInterface</span>: View {
</span></span><span style=display:flex><span>     <span style=color:#66d9ef>var</span> body: some View {
</span></span><span style=display:flex><span>          Text(<span style=color:#e6db74>&#34;Hello, World!&#34;</span>)
</span></span><span style=display:flex><span>   }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>@objc</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>MainView</span>: NSObject {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>@objc</span> <span style=color:#66d9ef>func</span> <span style=color:#a6e22e>makeMainView</span>() -&gt; UIViewController {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> UIHostingController(rootView:  MainViewInterface())
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span><span style=color:#75715e>// #import &#34;&lt;projectName&gt;-Swift.h&#34;
</span></span></span><span style=display:flex><span><span style=color:#75715e>// Lookup in Targets - Build Settings - Search for Swift - Objective-C Generated Interface Header Name
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#75715e>#import &#34;testSwift-Swift.h&#34; 
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>@implementation</span> <span style=color:#a6e22e>ViewController</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>- (<span style=color:#66d9ef>void</span>)<span style=color:#a6e22e>viewDidLoad</span> {
</span></span><span style=display:flex><span>	[super viewDidLoad];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	UIViewController <span style=color:#f92672>*</span>vc <span style=color:#f92672>=</span> [[MainView new] makeMainView];
</span></span><span style=display:flex><span>	vc.view.frame <span style=color:#f92672>=</span> CGRectMake(<span style=color:#ae81ff>100</span>, <span style=color:#ae81ff>400</span>, <span style=color:#ae81ff>200</span>, <span style=color:#ae81ff>100</span>);
</span></span><span style=display:flex><span>	[self.view addSubview:vc.view];
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>@end</span>
</span></span></code></pre></div><blockquote><p><a href=https://tarikdahic.com/posts/display-swiftui-views-from-objective-c-codebase/>Display SwiftUI views from Objective-C codebase</a></p></blockquote><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span><span style=color:#66d9ef>@objc</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>HelloWorldViewFactory</span>: NSObject {
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>@objc</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>func</span> <span style=color:#a6e22e>create</span>(text: String) -&gt; UIViewController {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>let</span> helloWorldView = HelloWorldView(text: text)
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>let</span> hostingController = UIHostingController(rootView: helloWorldView)
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> hostingController
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span>UIViewController <span style=color:#f92672>*</span>vc <span style=color:#f92672>=</span> [HelloWorldViewFactory createWithText:<span style=color:#e6db74>@&#34;Hello from Obj-C!&#34;</span>];
</span></span><span style=display:flex><span>[self presentViewController:vc animated:YES completion:nil];
</span></span></code></pre></div><blockquote><p><a href=https://levelup.gitconnected.com/presenting-swiftui-views-from-objectivec-12f49f88716e>Presenting SwiftUI Views from ObjectiveC</a></p></blockquote><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span><span style=color:#66d9ef>import</span> <span style=color:#a6e22e>Foundation</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>import</span> <span style=color:#a6e22e>SwiftUI</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>SwiftUIViewFactory</span>: NSObject {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>@objc</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>func</span> <span style=color:#a6e22e>makeSwiftUIView</span>(dismissHandler: @escaping (() -&gt; Void)) -&gt; UIViewController {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> UIHostingController(rootView: SwiftUIView(dismiss: dismissHandler))
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span>- (<span style=color:#66d9ef>IBAction</span>)<span style=color:#a6e22e>showSwiftUIView:</span>(<span style=color:#66d9ef>id</span>)sender {
</span></span><span style=display:flex><span>  UIViewController <span style=color:#f92672>*</span>vc <span style=color:#f92672>=</span> [SwiftUIViewFactory makeSwiftUIViewWithDismissHandler:<span style=color:#f92672>^</span>{
</span></span><span style=display:flex><span>    [[self presentedViewController] dismissViewControllerAnimated:YES completion:nil];
</span></span><span style=display:flex><span>  }];
</span></span><span style=display:flex><span>  [self presentViewController:vc animated:YES completion:nil];
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=full-code>Full Code</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span>UIButton <span style=color:#f92672>*</span>btn <span style=color:#f92672>=</span> [UIButton buttonWithType:UIButtonTypeSystem];
</span></span><span style=display:flex><span>[btn setTitle:<span style=color:#e6db74>@&#34;HI&#34;</span> forState:UIControlStateNormal];
</span></span><span style=display:flex><span>[btn addTarget:self action:<span style=color:#66d9ef>@selector</span>(buttonClicked) forControlEvents:UIControlEventTouchUpInside];
</span></span><span style=display:flex><span>btn.frame <span style=color:#f92672>=</span> CGRectMake(<span style=color:#ae81ff>100</span>, <span style=color:#ae81ff>100</span>, <span style=color:#ae81ff>200</span>, <span style=color:#ae81ff>50</span>);
</span></span><span style=display:flex><span>[self.view addSubview:btn];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>- (<span style=color:#66d9ef>void</span>)<span style=color:#a6e22e>buttonClicked</span> {
</span></span><span style=display:flex><span>    UIViewController<span style=color:#f92672>*</span> vc <span style=color:#f92672>=</span> [SwiftUIViewFactory makeSwiftUIViewWithDismissHandler:<span style=color:#f92672>^</span>{
</span></span><span style=display:flex><span>        [[self presentedViewController] dismissViewControllerAnimated:YES completion:nil];
</span></span><span style=display:flex><span>    }];
</span></span><span style=display:flex><span>    [self presentViewController:vc animated:YES completion:nil];
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>SwiftUIViewFactory</span>: NSObject {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>@objc</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>func</span> <span style=color:#a6e22e>makeSwiftUIView</span>(dismissHandler: @escaping (() -&gt; Void)) -&gt; UIViewController {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> UIHostingController(rootView: ContentView(dismiss: dismissHandler))
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><blockquote><p><a href=https://levelup.gitconnected.com/presenting-swiftui-views-from-objectivec-12f49f88716e>Presenting SwiftUI Views from ObjectiveC</a></p></blockquote><blockquote><p><a href=https://tarikdahic.com/posts/display-swiftui-views-from-objective-c-codebase/>Display SwiftUI views from Objective-C codebase</a></p></blockquote><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span><span style=color:#66d9ef>@objc</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>HelloWorldViewFactory</span>: NSObject {
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>@objc</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>func</span> <span style=color:#a6e22e>create</span>(text: String) -&gt; UIViewController {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>let</span> helloWorldView = HelloWorldView(text: text)
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>let</span> hostingController = UIHostingController(rootView: helloWorldView)
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> hostingController
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span>UIViewController <span style=color:#f92672>*</span>vc <span style=color:#f92672>=</span> [HelloWorldViewFactory createWithText:<span style=color:#e6db74>@&#34;Hello from Obj-C!&#34;</span>];
</span></span><span style=display:flex><span>[self presentViewController:vc animated:YES completion:nil];
</span></span></code></pre></div><blockquote><p><a href=https://levelup.gitconnected.com/presenting-swiftui-views-from-objectivec-12f49f88716e>Presenting SwiftUI Views from ObjectiveC</a></p></blockquote><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span><span style=color:#66d9ef>import</span> <span style=color:#a6e22e>Foundation</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>import</span> <span style=color:#a6e22e>SwiftUI</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>SwiftUIViewFactory</span>: NSObject {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>@objc</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>func</span> <span style=color:#a6e22e>makeSwiftUIView</span>(dismissHandler: @escaping (() -&gt; Void)) -&gt; UIViewController {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> UIHostingController(rootView: SwiftUIView(dismiss: dismissHandler))
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span>- (<span style=color:#66d9ef>IBAction</span>)<span style=color:#a6e22e>showSwiftUIView:</span>(<span style=color:#66d9ef>id</span>)sender {
</span></span><span style=display:flex><span>  UIViewController <span style=color:#f92672>*</span>vc <span style=color:#f92672>=</span> [SwiftUIViewFactory makeSwiftUIViewWithDismissHandler:<span style=color:#f92672>^</span>{
</span></span><span style=display:flex><span>    [[self presentedViewController] dismissViewControllerAnimated:YES completion:nil];
</span></span><span style=display:flex><span>  }];
</span></span><span style=display:flex><span>  [self presentViewController:vc animated:YES completion:nil];
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=full-code-1>Full Code</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span>UIButton <span style=color:#f92672>*</span>btn <span style=color:#f92672>=</span> [UIButton buttonWithType:UIButtonTypeSystem];
</span></span><span style=display:flex><span>[btn setTitle:<span style=color:#e6db74>@&#34;HI&#34;</span> forState:UIControlStateNormal];
</span></span><span style=display:flex><span>[btn addTarget:self action:<span style=color:#66d9ef>@selector</span>(buttonClicked) forControlEvents:UIControlEventTouchUpInside];
</span></span><span style=display:flex><span>btn.frame <span style=color:#f92672>=</span> CGRectMake(<span style=color:#ae81ff>100</span>, <span style=color:#ae81ff>100</span>, <span style=color:#ae81ff>200</span>, <span style=color:#ae81ff>50</span>);
</span></span><span style=display:flex><span>[self.view addSubview:btn];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>- (<span style=color:#66d9ef>void</span>)<span style=color:#a6e22e>buttonClicked</span> {
</span></span><span style=display:flex><span>    UIViewController<span style=color:#f92672>*</span> vc <span style=color:#f92672>=</span> [SwiftUIViewFactory makeSwiftUIViewWithDismissHandler:<span style=color:#f92672>^</span>{
</span></span><span style=display:flex><span>        [[self presentedViewController] dismissViewControllerAnimated:YES completion:nil];
</span></span><span style=display:flex><span>    }];
</span></span><span style=display:flex><span>    [self presentViewController:vc animated:YES completion:nil];
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>SwiftUIViewFactory</span>: NSObject {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>@objc</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>func</span> <span style=color:#a6e22e>makeSwiftUIView</span>(dismissHandler: @escaping (() -&gt; Void)) -&gt; UIViewController {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> UIHostingController(rootView: ContentView(dismiss: dismissHandler))
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><blockquote><p><a href=https://levelup.gitconnected.com/presenting-swiftui-views-from-objectivec-12f49f88716e>Presenting SwiftUI Views from ObjectiveC</a></p></blockquote><h2 id=lazy-instantiation>Lazy Instantiation</h2><blockquote><p>See more in <a href=../objc-snippet#lazy-instantiation>objc-snippet</a></p></blockquote><h2 id=border>Border</h2><blockquote><p><a href="https://twitter.com/onevcat/status/1600020125746311168?s=20">kingfisher - onevcat on twitter</a></p></blockquote><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span><span style=color:#66d9ef>@interface</span> <span style=color:#a6e22e>ViewController</span> ()
</span></span><span style=display:flex><span><span style=color:#66d9ef>@property</span> (<span style=color:#66d9ef>weak</span>, <span style=color:#66d9ef>nonatomic</span>) <span style=color:#66d9ef>IBOutlet</span> UIImageView <span style=color:#f92672>*</span>imageView;
</span></span><span style=display:flex><span><span style=color:#66d9ef>@property</span> (<span style=color:#66d9ef>weak</span>, <span style=color:#66d9ef>nonatomic</span>) <span style=color:#66d9ef>IBOutlet</span> UIImageView <span style=color:#f92672>*</span>secondImgView;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>@end</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>@implementation</span> <span style=color:#a6e22e>ViewController</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>- (<span style=color:#66d9ef>void</span>)<span style=color:#a6e22e>viewDidLoad</span> {
</span></span><span style=display:flex><span>    [super viewDidLoad];
</span></span><span style=display:flex><span>    <span style=color:#75715e>// Do any additional setup after loading the view.
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    self.imageView.layer.cornerRadius <span style=color:#f92672>=</span> self.imageView.frame.size.width <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>;
</span></span><span style=display:flex><span>    self.imageView.layer.masksToBounds <span style=color:#f92672>=</span> true;
</span></span><span style=display:flex><span>    self.imageView.layer.borderWidth <span style=color:#f92672>=</span> <span style=color:#ae81ff>2.0</span>;
</span></span><span style=display:flex><span>    self.imageView.layer.borderColor <span style=color:#f92672>=</span> [UIColor whiteColor].CGColor;
</span></span><span style=display:flex><span>    self.secondImgView.layer.cornerRadius <span style=color:#f92672>=</span> self.imageView.frame.size.width <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>;
</span></span><span style=display:flex><span>    self.secondImgView.layer.borderWidth <span style=color:#f92672>=</span> <span style=color:#ae81ff>2.0</span>;
</span></span><span style=display:flex><span>    self.secondImgView.layer.borderColor <span style=color:#f92672>=</span> [UIColor whiteColor].CGColor;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>@end</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span><span style=color:#66d9ef>import</span> <span style=color:#a6e22e>SwiftUI</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>struct</span> <span style=color:#a6e22e>ContentView</span>: View {
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>var</span> body: some View {
</span></span><span style=display:flex><span>        HStack {
</span></span><span style=display:flex><span>            ForEach(<span style=color:#ae81ff>0.</span>.&lt;<span style=color:#ae81ff>3</span>, id: <span style=color:#960050;background-color:#1e0010>\</span>.<span style=color:#66d9ef>self</span>) { i <span style=color:#66d9ef>in</span>
</span></span><span style=display:flex><span>                Image(<span style=color:#e6db74>&#34;icon&#34;</span>)
</span></span><span style=display:flex><span>                    .resizable()
</span></span><span style=display:flex><span>                    .frame(width: <span style=color:#ae81ff>100</span>, height: <span style=color:#ae81ff>100</span>)
</span></span><span style=display:flex><span>                    .overlay {
</span></span><span style=display:flex><span>                        Circle()
</span></span><span style=display:flex><span>                            .stroke(.blue, lineWidth: <span style=color:#ae81ff>5</span>)
</span></span><span style=display:flex><span>                    }
</span></span><span style=display:flex><span>                <span style=color:#75715e>//.cornerRadius(50)</span>
</span></span><span style=display:flex><span>                    .offset(x: CGFloat(<span style=color:#f92672>-</span>i <span style=color:#f92672>*</span> <span style=color:#ae81ff>50</span>), y: <span style=color:#ae81ff>0</span>)
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>在 SwiftUI 中，视图的修改器是一种声明式方法，用于描述视图的外观和行为。在这种情况下，为了实现与 UIKit 类似的效果，我们需要将边框绘制为一个圆形视图的叠加层。</p><p>SwiftUI 与 UIKit 的设计理念有很大差异。在 UIKit 中，我们直接操作视图的层（layer）来实现边框、圆角等效果。而在 SwiftUI 中，我们通过组合和修改视图来实现所需的效果。这种声明式的方式允许 SwiftUI 更好地优化渲染过程，并提供更易读、更易维护的代码。</p><p>在上面的 SwiftUI 示例中，我们使用了 overlay 修改器来添加一个描边圆形，从而实现了类似于 UIKit 中的边框效果。虽然这种方法与 UIKit 的操作方式不同，但它非常符合 SwiftUI 的设计原则，并能很好地满足需求。</p><h2 id=responsivescalewidth>ResponsiveScaleWidth</h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span><span style=color:#75715e>#define ResponsiveScaleWidth(length) (((length)/375.0f) * [[UIScreen mainScreen] bounds].size.width)
</span></span></span></code></pre></div><h2 id=uikit-preview>UIKit Preview</h2><blockquote><p><a href=https://ruipfcosta.github.io/UIKitPreviewsGenerator-Website/index.html>UIKit Preview</a></p></blockquote><video style="max-width:100%;box-shadow:rgba(50,50,93,.25)0 50px 100px -20px,#000 0 30px 60px -30px" loop muted autoplay playsinline>
<source src=https://ruipfcosta.github.io/UIKitPreviewsGenerator-Website/assets/video/demo.mov></video><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span><span style=color:#66d9ef>import</span> <span style=color:#a6e22e>UIKit</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>ViewController</span>: UINavigationController {
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>override</span> <span style=color:#66d9ef>func</span> <span style=color:#a6e22e>viewDidLoad</span>() {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>super</span>.viewDidLoad()
</span></span><span style=display:flex><span>        <span style=color:#75715e>// Do any additional setup after loading the view.</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>var</span> text = UILabel(frame: CGRect(x: <span style=color:#ae81ff>20</span>, y: <span style=color:#ae81ff>20</span>, width: <span style=color:#ae81ff>300</span>, height: <span style=color:#ae81ff>300</span>))
</span></span><span style=display:flex><span>        text.text = <span style=color:#e6db74>&#34;UIKit Preview Testing&#34;</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>self</span>.view.addSubview(text)
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>#if</span> <span style=color:#75715e>DEBUG</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>import</span> <span style=color:#a6e22e>SwiftUI</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>struct</span> <span style=color:#a6e22e>ViewControllerRepresentable</span>: UIViewControllerRepresentable {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>typealias</span> UIViewControllerType = ViewController
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>func</span> <span style=color:#a6e22e>makeUIViewController</span>(context: Context) -&gt; UIViewControllerType {
</span></span><span style=display:flex><span>        ViewController()
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>func</span> <span style=color:#a6e22e>updateUIViewController</span>(<span style=color:#66d9ef>_</span> uiViewController: UIViewControllerType, context: Context) {
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>struct</span> <span style=color:#a6e22e>ViewController_Previews</span>: PreviewProvider {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>var</span> previews: some View {
</span></span><span style=display:flex><span>        ViewControllerRepresentable()
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=ibaction>IBAction</h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span>- (<span style=color:#66d9ef>IBAction</span>)<span style=color:#a6e22e>showSwiftUIView:</span>(<span style=color:#66d9ef>id</span>)sender {}
</span></span></code></pre></div><p>这段代码中的圈表示了方法的返回类型。在 Objective-C 中，方法的返回类型用圆括号括起来，并位于方法名称之前。在这种情况下，(IBAction) 表示该方法返回一个特殊的类型，用于在 Interface Builder 中与用户界面的操作进行关联。</p><p>IBAction 是 Objective-C 中特有的关键字，用于表示该方法可以与用户界面的事件进行连接。在 Interface Builder 中，你可以将按钮、手势等与该方法关联起来，以在用户交互时触发该方法的执行。</p><p>需要注意的是，IBAction 实际上只是一个宏定义，它将被转换为 void 类型，因此在 Swift 中不需要显示地指定返回类型。在 Swift 中，你可以将方法定义为 @IBAction，并省略返回类型的圆括号。例如，在 Swift 中定义一个类似的方法会更简洁：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span><span style=color:#66d9ef>@IBAction</span> <span style=color:#66d9ef>func</span> <span style=color:#a6e22e>showSwiftUIView</span>(<span style=color:#66d9ef>_</span> sender: Any) {
</span></span><span style=display:flex><span>    <span style=color:#75715e>// 方法的具体实现</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=prepareforsegue><code>prepareForSegue</code></h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span><span style=color:#75715e>#pragma mark - Navigation
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#75715e>// In a storyboard-based application, you will often want to do a little preparation before navigation
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>- (<span style=color:#66d9ef>void</span>)<span style=color:#a6e22e>prepareForSegue:</span>(UIStoryboardSegue <span style=color:#f92672>*</span>)segue <span style=color:#a6e22e>sender:</span>(<span style=color:#66d9ef>id</span>)sender {
</span></span><span style=display:flex><span>    <span style=color:#75715e>// Get the new view controller using [segue destinationViewController].
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#75715e>// Pass the selected object to the new view controller.
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>}
</span></span></code></pre></div><p><code>prepareForSegue:sender:</code> 方法是在使用基于Storyboard的应用程序中进行页面跳转前的准备工作的常用方法。当一个Segue（故事板中的跳转）被触发时，系统会自动调用该方法。</p><p>在这个方法中，你可以通过 <code>[segue destinationViewController]</code> 获取目标视图控制器，然后根据需要进行一些准备工作。例如，你可以将数据传递给目标视图控制器，设置目标视图控制器的属性，或执行其他必要的操作。</p><p>通常，你可以根据Segue的标识符（identifier）来区分不同的跳转，并根据需要进行相应的准备工作。例如：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span>- (<span style=color:#66d9ef>void</span>)<span style=color:#a6e22e>prepareForSegue:</span>(UIStoryboardSegue <span style=color:#f92672>*</span>)segue <span style=color:#a6e22e>sender:</span>(<span style=color:#66d9ef>id</span>)sender {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> ([segue.identifier isEqualToString:<span style=color:#e6db74>@&#34;MySegueIdentifier&#34;</span>]) {
</span></span><span style=display:flex><span>        <span style=color:#75715e>// 获取目标视图控制器
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        MyViewController <span style=color:#f92672>*</span>destinationViewController <span style=color:#f92672>=</span> [segue destinationViewController];
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>        <span style=color:#75715e>// 进行一些准备工作，例如传递数据或设置属性
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        destinationViewController.myProperty <span style=color:#f92672>=</span> myData;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>通过在 prepareForSegue:sender: 方法中进行准备工作，你可以确保在进行页面跳转之前，目标视图控制器已经准备好接收数据或执行其他操作，以便在跳转后呈现所需的结果。</p><h2 id=头文件-import>头文件 import</h2><p>在 Objective-C 中，#import 是用于导入头文件的预处理指令。它有两种形式：#import &lt;Framework/Module.h> 和 #import &ldquo;LocalFile.h&rdquo;。</p><p>#import &lt;Framework/Module.h>：这种形式用于导入系统框架或第三方库的头文件。&lt;Framework/Module.h> 是一个相对于系统或第三方库的头文件路径。这种方式通常用于导入公共框架或库的头文件。例如：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span><span style=color:#75715e>#import &lt;UIKit/UIKit.h&gt;
</span></span></span><span style=display:flex><span><span style=color:#75715e>#import &lt;AFNetworking/AFNetworking.h&gt;
</span></span></span></code></pre></div><p>#import &ldquo;LocalFile.h&rdquo;：这种形式用于导入项目中的自定义头文件或本地文件的头文件。&ldquo;LocalFile.h&rdquo; 是一个相对于当前文件的头文件路径。这种方式通常用于导入自定义的类或其他文件的头文件。例如：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span><span style=color:#75715e>#import &#34;MyCustomClass.h&#34;
</span></span></span><span style=display:flex><span><span style=color:#75715e>#import &#34;Constants.h&#34;
</span></span></span></code></pre></div><p>总的来说，#import &lt;Framework/Module.h> 用于导入系统框架或第三方库的头文件，而 #import &ldquo;LocalFile.h&rdquo; 用于导入项目中的自定义头文件或本地文件的头文件。</p><p>需要注意的是，无论使用哪种形式，#import 指令都会在编译时将指定的头文件内容复制到当前文件中，以便在编译过程中能够访问导入的类、函数、常量等内容。</p><h2 id=nsstring-判空>NSString 判空</h2><blockquote><p><a href=https://www.jianshu.com/p/2d01074bb867>NSString 判空的最佳方式</a></p><p><a href=https://stackoverflow.com/questions/5684157/how-to-detect-if-nsstring-is-null>How to detect if NSString is null?</a></p></blockquote><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span><span style=color:#66d9ef>if</span> (str.length <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span>) {
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>NSLog(<span style=color:#e6db74>@&#34;str is empty!!!&#34;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>这句代码可以通吃上面case1、2、3；其实也是好理解的，nil本身也是一个对象，在ios中给nil</p><p>发消息是不会崩溃的，只不过没啥反应而已，因此length也是默认的0了；</p><p>至于类似于case4的情况，可以先将字符串中的空格"  " Trim掉，然后在进行判断：</p><blockquote><p><a href=https://cloud.tencent.com/developer/article/1537380>OC中的nil、Nil、NULL、NSNull的区别</a></p></blockquote><h2 id=sf-symbols>SF Symbols</h2><blockquote><p><a href=https://stackoverflow.com/questions/23409610/how-to-use-default-ios-images>How to use default iOS images?</a></p></blockquote><h2 id=present-an-uialertcontroller-from-an-uiview>Present an UIAlertController from an UIView</h2><blockquote><p><a href=https://medium.com/salvarlabs/how-to-present-an-uialertcontroller-from-an-uiview-8e456f287cdd>How to present an UIAlertController from an UIView</a></p></blockquote><h2 id=observer-观察者>Observer 观察者</h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span><span style=color:#75715e>/// 添加系统通知状态的观察者
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>- (<span style=color:#66d9ef>void</span>)<span style=color:#a6e22e>addObserverForSystemNotificationStatus</span> {
</span></span><span style=display:flex><span>    [[NSNotificationCenter defaultCenter] addObserver:self
</span></span><span style=display:flex><span>                                             selector:<span style=color:#66d9ef>@selector</span>(checkNotificationAuthorization)
</span></span><span style=display:flex><span>                                                 name:UIApplicationWillEnterForegroundNotification
</span></span><span style=display:flex><span>                                               object:nil];
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=mjextension>MJExtension</h2><blockquote><p><a href=https://www.jianshu.com/p/0340bdc57ff3>iOS 关于项目中经常用到的MJExtension函数</a></p><p><a href=https://paaatrick.com/2019-02-03-mj-extension-guide/>iOS MJExtension使用方法指南(Objective-C)</a></p></blockquote><h2 id=rootviewcontroller>rootViewController</h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span><span style=color:#75715e>/// 展示 UIAlertController, Workaround
</span></span></span><span style=display:flex><span><span style=color:#75715e>/// - Parameter alertController:
</span></span></span><span style=display:flex><span><span style=color:#75715e>///
</span></span></span><span style=display:flex><span><span style=color:#75715e>/// [Stack Overflow](https://stackoverflow.com/questions/26554894/how-to-present-uialertcontroller-when-not-in-a-view-controller)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>+ (<span style=color:#66d9ef>id</span>)<span style=color:#a6e22e>rootViewController</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>id</span> rootViewController <span style=color:#f92672>=</span> [UIApplication sharedApplication].delegate.window.rootViewController;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span>([rootViewController isKindOfClass:[UINavigationController <span style=color:#66d9ef>class</span>]])
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>        rootViewController <span style=color:#f92672>=</span> ((UINavigationController <span style=color:#f92672>*</span>)rootViewController).viewControllers.firstObject;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span>([rootViewController isKindOfClass:[UITabBarController <span style=color:#66d9ef>class</span>]])
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>        rootViewController <span style=color:#f92672>=</span> ((UITabBarController <span style=color:#f92672>*</span>)rootViewController).selectedViewController;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> rootViewController;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=safe-area>Safe Area</h2><p><a href=https://useyourloaf.com/blog/supporting-iphone-x/>iPhone X Safe Area</a></p><script src=https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js></script>
<script type=module>
    mermaid.initialize({ 
        startOnLoad: true, 
        theme: window.matchMedia('(prefers-color-scheme: dark)').matches ? "dark" : "default", 
    });
    window.mermaid.init(undefined, document.querySelectorAll('.language-mermaid'));
</script></article></html>